<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BoBoBlog</title>
  
  <subtitle>我秃了头 | 可我却还不是程序员</subtitle>
  <link href="https://bxzdyg.cn/atom.xml" rel="self"/>
  
  <link href="https://bxzdyg.cn/"/>
  <updated>2024-01-01T08:42:41.238Z</updated>
  <id>https://bxzdyg.cn/</id>
  
  <author>
    <name>BXZDYG</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>国庆Vercel小崩，小站博主何去何从</title>
    <link href="https://bxzdyg.cn/p/vercel-wall/"/>
    <id>https://bxzdyg.cn/p/vercel-wall/</id>
    <published>2023-10-02T15:13:19.000Z</published>
    <updated>2024-01-01T08:42:41.238Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>&nbsp;&nbsp;睡着睡着，我的小站就没了。以为自己没备案被墙了，打探来打探去，看起来好像是vercel出了点问题，我也不太清楚，部署在上面的博客和评论系统是不行了。<br>&nbsp;&nbsp;目前只能再找点别的白嫖手段了。<br>&nbsp;&nbsp;左看看右悄悄,蹭腾讯的云服务器新玩家也就三个月，虽然还是能够体验一段时间的，但是每个人月最便宜三十元左右还是一笔不小的开支<br>&nbsp;&nbsp;不适合我。<br>&nbsp;&nbsp;想来想去，GitHub Pages在我这还是挺快的呀，他不是支持自定义域名吗？把自己的域名DNS解析中增加增加CNAME相应的解析就行，先过此节，以后有钱了再给“孩子”补上。<br>&nbsp;&nbsp;而之前的博客地址就不用www的二级域名了，封住以念次日，将来，我还是会回来的，改成blog了</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231002230605236.png" alt="image-20231002230605236" fancybox="true"/></div><div class="image-meta"><span class="image-caption center">image-20231002230605236</span></div></div><p>&nbsp;&nbsp;这里的值就是github pages提供的域名<br>&nbsp;&nbsp;将解析好的二级域名填入自定义域名</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231002230627780.png" alt="image-20231002230627780" fancybox="true"/></div><div class="image-meta"><span class="image-caption center">image-20231002230627780</span></div></div><p>&nbsp;&nbsp;然后静候佳音即可，也是挺快的。解析好后刷新一下设置页面，把强制的HTTPS勾上，然后就没有其他的步骤了。<br>&nbsp;&nbsp;评论区怎么办呢，我也不太清楚，运维和安全方面的真难啊。之后找到了解决办法，再在这篇文章补上好了。</p>]]></content>
    
    
    <summary type="html">救命啊，Vercel你为什么倒下了QAQ,我的破站还没开多久啊</summary>
    
    
    
    <category term="记录" scheme="https://bxzdyg.cn/categories/%E8%AE%B0%E5%BD%95/"/>
    
    <category term="博客开发" scheme="https://bxzdyg.cn/categories/%E8%AE%B0%E5%BD%95/%E5%8D%9A%E5%AE%A2%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Vercel" scheme="https://bxzdyg.cn/tags/Vercel/"/>
    
  </entry>
  
  <entry>
    <title>使用Hexo和Stellar部署个人博客网站【超详细贴心保姆级教程💖】</title>
    <link href="https://bxzdyg.cn/p/%E4%BD%BF%E7%94%A8Hexo%E5%92%8CStellar%E9%83%A8%E7%BD%B2%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/"/>
    <id>https://bxzdyg.cn/p/%E4%BD%BF%E7%94%A8Hexo%E5%92%8CStellar%E9%83%A8%E7%BD%B2%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/</id>
    <published>2023-09-25T02:26:05.000Z</published>
    <updated>2024-01-02T11:19:31.054Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>详细阅读前可以先去阅读<a href="#%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF">常见错误</a></p><p>在此提前说明个人口语化，请谅解</p><mark class="tag-plugin colorful mark" color="dark">Front-matter</mark>也就是文章开头的<mark class="tag-plugin colorful mark" color="dark">---</mark>划定的区域，我个人叫头代码，其实就是前置数据<mark class="tag-plugin colorful mark" color="dark">mermaid流程图</mark>我会略写，mermaid图，虽然导致我一时半会儿想不起全名是什么<p>Hexo社区是不错的，stellar的设计是非常好的，废话就不多说了，那就开始吧</p><h2 id="安装与初始化"><a href="#安装与初始化" class="headerlink" title="安装与初始化"></a>安装与初始化</h2><p>能找到我就说明，你看了很多文章，还是不太明白一些细节，正好我最近又重新整了一遍</p><p>，不过如果我讲的不是很明白，你可以查阅以下文章，或者官网，然后开始喷吧</p><blockquote><p><a href="https://hexo.io/zh-cn/">Hexo的中文官方文档</a></p></blockquote><blockquote><p><a href="https://xaoxuu.com/wiki/stellar/#%E5%AE%89%E8%A3%85%E4%B8%8E%E6%9B%B4%E6%96%B0">Stellar：每个人的独立博客 - XAOXUU</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Hexo: 6.3.0 ~ 7.0.0</span><br><span class="line">hexo-cli: 4.3.0 ~ latest</span><br><span class="line">node: 14.17.3 ～ 20.10.0 # 建议选择 LTS 版本，过高的版本 hexo 还没有进行兼容。</span><br><span class="line">npm: 6.14.13 ~ 10.2.3</span><br></pre></td></tr></table></figure><p>博主系统和配置，如果出些差别，可考虑是不是这个原因</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Windows 10 家庭中文版</span><br><span class="line">Node.js 18.15.0</span><br><span class="line">npm 9.8.1</span><br><span class="line">yarn 1.22.19</span><br></pre></td></tr></table></figure><h3 id="安装脚手架"><a href="#安装脚手架" class="headerlink" title="安装脚手架"></a>安装脚手架</h3><p><strong>前情提示</strong>：选择你的包管理器命令运行</p><p>全局安装</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn global add hexo-cli <span class="comment"># yarn</span></span><br><span class="line">npm install -g hexo-cli<span class="comment"># npm</span></span><br></pre></td></tr></table></figure><p><strong>局部安装</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo<span class="comment"># yarn</span></span><br><span class="line">npm intall hexo <span class="comment"># npm</span></span><br></pre></td></tr></table></figure><h3 id="hexo初始化"><a href="#hexo初始化" class="headerlink" title="hexo初始化"></a>hexo初始化</h3><p>全局安装可以直接在空文件夹里执行下面这一句话</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init [folder] <span class="comment"># 要求全局安装或将局部安装添加到path</span></span><br></pre></td></tr></table></figure><p>新建一个网站。如果没有设置 <code>folder</code> ，Hexo 默认在目前的文件夹建立网站，并且要求为空文件夹。</p><p>局部安装或者全局安装失败可以执行这语句话</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hexo init [folder]</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917113002886.png" fancybox="true"/></div></div><p>在blog\package.json他自动配置了四种脚本命令</p><p>目录结构如下</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917112555596.png" fancybox="true"/></div></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>生成静态文件。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>启动服务器。默认情况下，访问网址为： <code>http://localhost:4000/</code>。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure><p> 清除缓存文件 (db.json) 和已生成的静态文件 (public)。</p><blockquote><p> 在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>部署网站。部署之前预先生成静态文件</p><blockquote><p><a href="https://hexo.io/zh-cn/docs/commands">指令 | Hexo</a>官网详细参考</p></blockquote><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917115103207.png" fancybox="true"/></div></div><p>此处我们多添加一条命令，一是记忆，二是IDE识别，三是方便之后的操作</p><figure class="highlight json"><figcaption><span>blog\package.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo generate&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;clean&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo clean&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;deploy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo deploy&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo server&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;new&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo new&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>启动后的默认页面效果</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917113638575.png" fancybox="true"/></div></div><h3 id="使用Stellar主题"><a href="#使用Stellar主题" class="headerlink" title="使用Stellar主题"></a>使用Stellar主题</h3><h4 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo-theme-stellar</span><br><span class="line">npm i hexo-theme-stellar --save</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># theme: landscape 默认</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">stellar</span></span><br></pre></td></tr></table></figure><p>将*_config.landscape.yml* 文件修改为 <em>_config.stellar.yml</em>,并清空内容</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917185138680.png" fancybox="true"/></div></div><p><strong>先clean再build</strong>这点很重要，在后面的修改样式增加一些功能需要重复执行这两个命令。</p><p>可以先启动服务器看看效果</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917185337270.png" fancybox="true"/></div></div><h4 id="主题更新"><a href="#主题更新" class="headerlink" title="主题更新"></a>主题更新</h4><p>在 <code>package.json</code> 和中修改 stellar 的版本号，然后执行：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i</span><br><span class="line">yarn</span><br></pre></td></tr></table></figure><p>你果你有一些个性化的设置，并且复制了stellar到blog&#x2F;themes&#x2F;，那么需要注意，你就需要考虑更新带来的兼容问题了。</p><p>更新后将<code>blog\node_modules\hexo-theme-stellar</code>覆盖为<code>blog/themes/stellar</code></p><h2 id="配置亿下"><a href="#配置亿下" class="headerlink" title="配置亿下"></a>配置亿下</h2><h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p>有关配置问题的首先就是我该写在哪，其次才是我该怎么写，那么贴出两张不同版本的目录结构，你可以比较一下。</p><h4 id="1-19-0"><a href="#1-19-0" class="headerlink" title="1.19.0"></a>1.19.0</h4><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231204519925.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231204657531.png" fancybox="true"/></div></div><h4 id="1-21-0"><a href="#1-21-0" class="headerlink" title="1.21.0"></a>1.21.0</h4><figure class="highlight sh"><figcaption><span>blog/source的目录结构</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">├─about</span><br><span class="line">│  ├─index.md</span><br><span class="line">│  └─index</span><br><span class="line">├─assets</span><br><span class="line">├─bookmark</span><br><span class="line">│  └─index.md</span><br><span class="line">├─css</span><br><span class="line">├─friends</span><br><span class="line">│  └─index.md</span><br><span class="line">├─js</span><br><span class="line">├─notes</span><br><span class="line">| ├─index.md</span><br><span class="line">| ├─Node.js常用命令.md</span><br><span class="line">| ├─...</span><br><span class="line">├─wiki</span><br><span class="line">│  └─vue</span><br><span class="line">│      ├─Axios</span><br><span class="line">│      ├─Vite项目构建工具</span><br><span class="line">│      ├─Vue对象提供的属性功能</span><br><span class="line">│      ├─Vue对象的生命周期</span><br><span class="line">│      ├─Vue常用指令</span><br><span class="line">│      ├─Vue快速入门</span><br><span class="line">│      ├─Vue路由</span><br><span class="line">│      ├─单文件组件的使用</span><br><span class="line">│      ├─组合API</span><br><span class="line">│      ├─项目构建工具</span><br><span class="line">│      ├─Axios.md</span><br><span class="line">│      ├─Vite项目构建工具.md</span><br><span class="line">│      ├─Vue对象提供的属性功能.md</span><br><span class="line">│      ├─Vue对象的生命周期.md</span><br><span class="line">│      ├─Vue常用指令.md</span><br><span class="line">│      ├─Vue快速入门.md</span><br><span class="line">│      ├─Vue路由.md</span><br><span class="line">│      ├─单文件组件的使用.md</span><br><span class="line">│      ├─组合API.md</span><br><span class="line">│      └─项目构建工具.md</span><br><span class="line">├─_data</span><br><span class="line">│  ├─wiki</span><br><span class="line">|  |   ├─notes.yml</span><br><span class="line">|  |   └─Vue.yml</span><br><span class="line">|  ├─links.yml</span><br><span class="line">|  ├─widgets.yml</span><br><span class="line">|  └─wiki.yml</span><br><span class="line">└─_posts</span><br><span class="line">    ├─...</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="代码推送（必须）"><a href="#代码推送（必须）" class="headerlink" title="代码推送（必须）"></a>代码推送（必须）</h3><p>线上部署用</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo-deployer-git</span><br></pre></td></tr></table></figure><h3 id="Rss订阅功能（建议）"><a href="#Rss订阅功能（建议）" class="headerlink" title="Rss订阅功能（建议）"></a>Rss订阅功能（建议）</h3><p>（用于搜索引擎和友链抓起你的动态）</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-generator-feed</span><br><span class="line">yarn add hexo-generator-feed </span><br></pre></td></tr></table></figure><p>添加</p><figure class="highlight yaml"><figcaption><span>blog/_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span> <span class="comment"># RSS的类型(atom/rss2)</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span> <span class="comment"># 文件路径,默认是atom.xml/rss2.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span> <span class="comment"># 展示文章的数量,使用0或则false代表展示全部hub</span></span><br><span class="line"><span class="comment">#  hub:</span></span><br><span class="line"><span class="comment">#    content:  # 在RSS文件中是否包含内容 ,有3个值 true/false默认不填为false</span></span><br><span class="line"><span class="comment">#    content_limit: # 指定内容的长度作为摘要,仅仅在上面content设置为false和没有自定义的描述出现</span></span><br><span class="line"><span class="comment">#    content_limit_delim: &#x27; &#x27; #上面截取描述的分隔符,截取内容是以指定的这个分隔符作为截取结束的标志.在达到规定的内容长度之前最后出现的这个分隔符之前的内容，防止从中间截断</span></span><br></pre></td></tr></table></figure><p>在你的主题配置中如：</p><figure class="highlight yaml"><figcaption><span>blog/_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">social:</span></span><br><span class="line"><span class="attr">rss:</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">&#x27;&lt;i class=&quot;fa-solid fa-rss fa-shake&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">/atom.xml</span></span><br><span class="line">      </span><br><span class="line"><span class="attr">rss:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure><p>我在stellar模板提供的底部侧边栏添上一个答案的天线<psw>意图已经很强烈了！qwq</psw></p><p>你只要指向对应的url即可。rss部分是必填的</p><h4 id="atom-xml乱码"><a href="#atom-xml乱码" class="headerlink" title="atom.xml乱码"></a>atom.xml乱码</h4><p>如题</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230921203626780.png" fancybox="true"/></div></div><p>有人说是</p><p>如果你使用了<code>hexo-assert-image</code>库，那是版本太老，因为作者没有及时更新npm,所以卸载后直接安装github上的版本</p><p>但是我也没有用这个啊</p><p>但是你别担心，很多人都这样，</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230921204429690.png" fancybox="true"/></div></div> <p>看这个issues很多人的原因都是版本太低了，但我目前使用的是3.0.0（latest），但是啊~关键的来了！只要你推送到服务器上，他就是好的，一点乱码的问题也么有，如图</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230921203909038.png" fancybox="true"/></div></div><p>补充，我就跟傻X一样,模板主题的大佬给了他提供的rss位置我还自己手动整理一个，而且他写的很明白，就一个容器</p><figure class="highlight yaml"><figcaption><span>blog/source/_data/widgets.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">recent:</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="string">recent</span></span><br><span class="line">  <span class="attr">rss:</span> <span class="string">atom.xml</span> <span class="comment"># npm i hexo-generator-feed</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">5</span> <span class="comment"># Count of posts</span></span><br></pre></td></tr></table></figure><p>现在</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230921222439776.png" fancybox="true"/></div></div><p>真的在遥相呼应，把我气的，必须在任何地方都出现底部的这些icons</p><p>让我的这份不找目的的用功多点成果</p><h3 id="图片显示和New-post命令-建议"><a href="#图片显示和New-post命令-建议" class="headerlink" title="图片显示和New post命令(建议)"></a>图片显示和New post命令(建议)</h3><h4 id="图片显示"><a href="#图片显示" class="headerlink" title="图片显示"></a>图片显示</h4><p>图片显示主要可以使用三种语法格式</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">图片标注</span>](<span class="link">图片地址</span>)</span><br><span class="line">![<span class="string">image-20230601215212688</span>](<span class="link">image-20230601215212688.png</span>)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;%image 图片地址 图片标注 %&#125;</span><br><span class="line">&#123;%image image-20231002230627780.png image-20231002230627780 %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img 图片地址 图片标注 %&#125;</span><br><span class="line">&#123;% asset_img image-20230917223904196.png 20230917223904196 %&#125;</span><br></pre></td></tr></table></figure><p>目前本博客没用最后一个语法了，当初是看官方文档的</p><p><a href="https://hexo.io/zh-cn/docs/asset-folders">资源文件夹 | Hexo</a></p><p>它还需要下载一个包</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn add  hexo-asset-image</span><br><span class="line">npm -i hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>因为那是我不清楚图片到底如何才能正确的显示出来，瞎琢磨的。</p><p>补充：</p><blockquote><p>图片地址:build后public文件夹中图片的位置，你可以把public&#x2F;assets中的public看作是你的站点，实际上也就是替换成你的站点，然后依次推路径，相对路径绝对路径都可以</p></blockquote><blockquote><p>图片标注:即图片下面的标注，图片路径错误的情况，标注依然正常显示</p></blockquote><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231135217472.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231135304868.png" fancybox="true"/></div></div><p>补充的补充：</p><p>第一种写法的图片标注好像1.21.0没有编译作用了</p><p>1.19.0：</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231172748953.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231172810578.png" fancybox="true"/></div></div><p>1.21.0：</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231172849710.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231172918220.png" fancybox="true"/></div></div><p>不知道是不是少了<code>hexo-asset-image</code>这个包，懒得想了，只能动手改成第二种了。</p><h5 id="1-22-1："><a href="#1-22-1：" class="headerlink" title="1.22.1："></a>1.22.1：</h5><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101083134410.png" fancybox="true"/></div></div><p>使用正则表达式进行快速替换</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">!\[.*?\]\(.*?/([^/]+)\)</span><br><span class="line"></span><br><span class="line">&#123;% image Vue快速入门/$1 %&#125;</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101153235662.png" fancybox="true"/></div></div><p>一般开发工具都有，全部替换即可</p><h4 id="New-post"><a href="#New-post" class="headerlink" title="New post"></a>New post</h4><p>很多人在执行下面的命令的时候，没有自动创建对应<code>post</code>(文章)的文件夹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post</span><br></pre></td></tr></table></figure><p>这是因为你需要进行一些简单的设置</p><figure class="highlight yaml"><figcaption><span>blog\_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span> <span class="comment"># false</span></span><br><span class="line"><span class="comment"># marked: # 1.19.0 我是有加这个的，1.21.0我没有加，因为我没有看见什么变化和作用 img_assest这个语法标签我也不用了</span></span><br><span class="line"><span class="comment">#   prependRoot: true</span></span><br><span class="line"><span class="comment">#   postAsset: true</span></span><br></pre></td></tr></table></figure><h5 id="编辑器New-post"><a href="#编辑器New-post" class="headerlink" title="编辑器New post"></a>编辑器New post</h5><p>在配置好博客网站的一些设置后，不需要实时的打开项目，单独使用编辑器也可以。</p><p>记得新建的md文件要在blog\source_posts内，或者最后发布前和对应的图片文件夹放到这里。</p><p>这里我使用的markdown编辑器是<code>Typora</code></p><p>在设置中对保存文件夹名进行更改</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917221156491.png" fancybox="true"/></div></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./$&#123;filename&#125;</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917221238614.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917221337810.png" fancybox="true"/></div></div><p>好吧，其实我这里提的，也不是什么好方法，你需要最后手动删除<code>./$&#123;filename&#125;</code>这一部分，因为启用了<code>post_asset_folder: true </code>最后无论<code>build</code>还是<code>deploy</code>生成html文件中，图片和网页是一个文件里的，相对的路径就错了</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231132609179.png" fancybox="true"/></div></div><p>最后你可以试试PicGo，也就是上传至图床，保存的是url。</p><h3 id="Mermaid流程图支持（选）"><a href="#Mermaid流程图支持（选）" class="headerlink" title="Mermaid流程图支持（选）"></a>Mermaid流程图支持（选）</h3><p>美人鱼图支持</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-filter-mermaid-diagrams;</span><br><span class="line">yarn add hexo-filter-mermaid-diagrams;</span><br></pre></td></tr></table></figure><p>这个东西的兼容在我这里一直是个谜，但不妨碍我想要使用这个工具</p><figure class="highlight yaml"><figcaption><span>blog\_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">######## JS Plugins ########</span></span><br><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="comment">## required plugins ##  # mermaid chart美人鱼流程图配置</span></span><br><span class="line">  <span class="attr">mermaid:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># js: https://unpkg.com/mermaid@9.0.0/dist/mermaid.min.js</span></span><br><span class="line">    <span class="attr">js:</span> <span class="string">https://cdn.jsdelivr.net/npm/mermaid@v9/dist/mermaid.min.js</span></span><br><span class="line">    <span class="comment"># Available themes: default | dark | forest | neutral</span></span><br><span class="line">    <span class="attr">theme:</span> <span class="string">dark</span> <span class="comment"># 推荐使用 dark 主题 在夜间模式下显示效果更好</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在文件头代码启用</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mermaid: true # 美人鱼图不需要就注释</span><br></pre></td></tr></table></figure><div class="tag-plugin tabs" align="center"id="tab_1"><div class="nav-tabs"><div class="tab active"><a href="#tab_1-1">效果</a></div><div class="tab"><a href="#tab_1-2">代码块</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_1-1"><pre class="mermaid">flowchart  LR      Model-->ModelView      ModelView<-->View    ModelView-->Model</pre></div><div class="tab-pane" id="tab_1-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">flowchart  LR</span><br><span class="line">    Model--&gt;ModelView</span><br><span class="line">    ModelView&lt;--&gt;View</span><br><span class="line">    ModelView--&gt;Model</span><br></pre></td></tr></table></figure></div></div></div><p>具体mermaid语法就要自己去学习了</p><h3 id="文章分享与推荐（选）"><a href="#文章分享与推荐（选）" class="headerlink" title="文章分享与推荐（选）"></a>文章分享与推荐（选）</h3><figure class="highlight yaml"><figcaption><span>blog\_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="string">https://bxzdyg.cn/</span>  <span class="comment"># 网站地址#对于这分享连接网站</span></span><br></pre></td></tr></table></figure><p>可能会增加文章与评论区的距离感（多滑一点距离）</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-related-popular-posts --save</span><br><span class="line">yarn add hexo-related-popular-posts</span><br></pre></td></tr></table></figure><p>复制下面的代码到<code>blog\_config.stellar.yml</code></p><figure class="highlight yaml"><figcaption><span>blog\_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">article:</span></span><br><span class="line">  <span class="comment"># 如果没有指定封面，是否根据 tags 作为关键词搜索封面图片？</span></span><br><span class="line">  <span class="attr">auto_cover:</span> <span class="literal">false</span> <span class="comment"># search from https://source.unsplash.com/</span></span><br><span class="line">  <span class="comment"># 如果没有指定横幅，是否根据 tags 作为关键词搜索横幅图片？</span></span><br><span class="line">  <span class="attr">auto_banner:</span> <span class="literal">false</span> <span class="comment"># search from https://source.unsplash.com/</span></span><br><span class="line">  <span class="comment"># 如果没有指定 excerpt 和 description，将自动取多长的内容作为文章摘要？</span></span><br><span class="line">  <span class="attr">auto_excerpt:</span> <span class="number">200</span></span><br><span class="line">  <span class="comment"># 分类颜色</span></span><br><span class="line">  <span class="comment"># category_color: </span></span><br><span class="line">    <span class="comment"># &#x27;探索号&#x27;: &#x27;#f44336&#x27; # 不会用qwq</span></span><br><span class="line">  <span class="comment"># 文章许可协议</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">&#x27;本文采用 [署名-非商业性使用-相同方式共享 4.0 国际](https://creativecommons.org/licenses/by-nc-sa/4.0/) 许可协议，转载请注明出处。&#x27;</span></span><br><span class="line">  <span class="comment"># 分享</span></span><br><span class="line">  <span class="attr">share:</span>  [<span class="string">wechat</span>, <span class="string">weibo</span>, <span class="string">email</span>, <span class="string">link</span>]</span><br><span class="line">  <span class="comment"># 相关文章，需要安装插件 (for layout: post)</span></span><br><span class="line">  <span class="comment"># npm i hexo-related-popular-posts</span></span><br><span class="line">  <span class="attr">related_posts:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">您可能感兴趣的文章</span></span><br></pre></td></tr></table></figure><p>注意：有的人的分享网站可能和当前的网址不一样</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231230185130372.png" fancybox="true"/></div></div><psw>是谁要害我啊？</psw><p>其实吧，这个网站是根据这个有关的，更换网址记得修改</p><figure class="highlight yaml"><figcaption><span>blog\_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># url: https://yguang233.github.io/  # 网站地址</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://bxzdyg.cn/</span>  <span class="comment"># 网站地址 # 对应这分享连接网站</span></span><br></pre></td></tr></table></figure><h3 id="文章路由（选）"><a href="#文章路由（选）" class="headerlink" title="文章路由（选）"></a>文章路由（选）</h3><p>能够解决中文标题转义的现象，因为你直接给她转码了。并且创建文章自动添加abbrlink</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm -i hexo-abbrlink --save</span><br><span class="line">yarn add hexo-abbrlink</span><br></pre></td></tr></table></figure><p>在 <code>blog/_config.yml</code> 中找到对应 <code>permalink</code> 标签，进行修改即可：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="string">https://yguang233.github.io/</span>  <span class="comment"># http://YGuang233.github.io</span></span><br><span class="line"><span class="comment">#permalink: :year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">p/:abbrlink/</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>  <span class="comment">#算法： crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>    <span class="comment">#进制： dec(default) and hex</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span></span><br></pre></td></tr></table></figure><p>使用了这个每使用命令新建一篇文章会在头代码上插入abbrlink:及对应的转码后的代码,</p><p>这使得他会自动去匹配每个md文件的头代码中的abbrlink</p><p>不同算法、进制生成的链接格式如下：</p><table><thead><tr><th>算法</th><th>进制</th><th>生成链接示例</th></tr></thead><tbody><tr><td>crc16</td><td>hex</td><td><a href="https://yourname.github.io/p/66c8.html">https://yourname.github.io/p/66c8.html</a></td></tr><tr><td>crc16</td><td>dec</td><td><a href="https://yourname.github.io/p/65535.html">https://yourname.github.io/p/65535.html</a></td></tr><tr><td>crc32</td><td>hex</td><td><a href="https://yourname.github.io/p/8ddf18fb.html">https://yourname.github.io/p/8ddf18fb.html</a></td></tr><tr><td>crc32</td><td>dec</td><td><a href="https://yourname.github.io/p/1690090958.html">https://yourname.github.io/p/1690090958.html</a></td></tr></tbody></table><p>如果你不想使用这个，就想让美丽的汉字显示在URL上，当然也没有问题,如果你还想自定义和指定路由可以采用下面的方式：</p><p>在 <code>blog/_config.yml</code> 中找到对应 <code>permalink</code> 标签，进行修改即可：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br></pre></td></tr></table></figure><p>使用默认的或者更改一下</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">p/:title/</span></span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags: []        # 标签</span><br><span class="line">categories: []  # 分类 可以嵌套多个层级</span><br><span class="line">description:</span><br><span class="line">cover:</span><br><span class="line">banner:</span><br><span class="line">poster: # 海报（可选，全图封面卡片）</span><br><span class="line">  topic:    # 标题上方的小字 # 可选  # 选了这个就是在上方</span><br><span class="line">  headline: # 大标题 # 必选</span><br><span class="line">  caption:  # 标题下方的小字 # 可选</span><br><span class="line">  color:    # 标题颜色 # 可选</span><br><span class="line"><span class="section">mermaid: true # 美人鱼图不需要就注释</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>效果</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231230112715035.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231230135901767.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231230112815051.png" fancybox="true"/></div></div><h2 id="线上部署"><a href="#线上部署" class="headerlink" title="线上部署"></a>线上部署</h2><p>提前安装git，配置好ssh密钥。</p><blockquote><p><a href="https://zhuanlan.zhihu.com/p/628727065">Github配置SSH密钥连接（附相关问题解决） - 知乎 (zhihu.com)</a></p></blockquote><h3 id="GitHub-Pages"><a href="#GitHub-Pages" class="headerlink" title="GitHub Pages"></a>GitHub Pages</h3><p>使用GitHub Pages托管静态页面站点。</p><p>优点：</p><ol><li>不需要域名，有域名可以绑定自己的域名</li><li>不需要自己的服务器</li><li>一键推送方便</li><li>适合运维小白<psw>没错就是我</psw></li></ol><p>缺点：</p><ol><li>访问慢，且看地理位置，看脸</li></ol><blockquote><p><a href="https://docs.github.com/zh/pages/quickstart#introduction">GitHub Pages 快速入门 - GitHub 文档</a></p></blockquote><p>创建一个仓库，仓库名</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917130205698.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917130508190.png" fancybox="true"/></div></div><p>在_config.yml中</p><figure class="highlight yaml"><figcaption><span>blog\_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="comment"># 推送设置</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="comment"># 类型</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="comment"># 部署分支名称，按照自己喜欢的起名就可以。这里写完还需要在 GitHub 上进行分支创建并配置</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line">  <span class="comment"># 仓库，这里使用的 SSH 方式</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:YGuang233/YGuang233.github.io.git</span></span><br><span class="line">  <span class="comment"># 如果你看了 hexo 的文档，这里很清楚。部署的时候会使用这个消息作为提交的信息</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">Automatic</span> <span class="string">deploy</span> <span class="string">by</span> <span class="string">Github</span> <span class="string">Action：&#123;&#123;</span> <span class="string">now(&#x27;YYYY-MM-DD</span> <span class="string">HH:mm:ss&#x27;)</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure><p>我这里采用的只是默认的主分支，你可以自行更改</p><p>然后更新提交（输入下面的命令就会自动更新提交到git上，前提配置好ssh,要不然显示权限不够，即使你使用网页登录过）</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><psw>这是很久以前写的,不清楚如果没用build推送会怎么样，不过这里也不是说每次都要build一下，写好文章build看看效果辣，然后推送而已。直接推送会怎么样，我不清楚啊，不过推送都会生成文件，影响应该不大</psw><p>未安装hexo-deployer-git包会导致下面的错误</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917173118983.png" fancybox="true"/></div></div><p>其实就这两个点一下就可以了</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917172431507.png" fancybox="true"/></div></div><p>运行成功则变成了一个绿钩</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230917172555461.png" fancybox="true"/></div></div><mark class="tag-plugin colorful mark" color="dark">setting/code and automation/pages</mark>则会自动执行静态页面文件的路径和显示已经成功生成的站点。这一现象可能稍晚，可以先一步去查看站点。<div class="tag-plugin image"><div class="image-bg"><img src="image-20230917172346637.png" fancybox="true"/></div></div><p>如果你一小时内重复提交查看申请，发现不能生成了，那是因为它一个小时内只能生成10次，而一个用户的站点存储上限为1G</p><p>我在网上看到有些人使用修改<mark class="tag-plugin colorful mark" color="dark">.git/config</mark>这个文件夹本地仓库配置信息，来解决在github pages编译和上传的问题，这次我并没有用到，但我还是把它贴出来(这部分也不需要自己写会自动生成，你就看看自己缺了什么吧)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#[user]</span></span><br><span class="line"><span class="comment">#email=email@qq.com</span></span><br><span class="line"><span class="comment">#name=YGuang233#这部分是我手动添加上去的，我不清楚这个是写我git的用户名还是github的用户名，但是我使用websotrm提交的时候还增加了作者签名</span></span><br><span class="line">[core]</span><br><span class="line">repositoryformatversion = 0</span><br><span class="line">filemode = <span class="literal">false</span></span><br><span class="line">bare = <span class="literal">false</span></span><br><span class="line">logallrefupdates = <span class="literal">true</span></span><br><span class="line">symlinks = <span class="literal">false</span></span><br><span class="line">ignorecase = <span class="literal">true</span></span><br><span class="line">[remote <span class="string">&quot;origin&quot;</span>]</span><br><span class="line">url = https://github.com/YGuang233/YGuang233.github.io.git</span><br><span class="line">fetch = +refs/heads/*:refs/remotes/origin/*</span><br><span class="line">[branch <span class="string">&quot;master&quot;</span>]</span><br><span class="line">remote = origin</span><br><span class="line">merge = refs/heads/master</span><br></pre></td></tr></table></figure><h3 id="Vercel（已被墙）"><a href="#Vercel（已被墙）" class="headerlink" title="Vercel（已被墙）"></a>Vercel（已被墙）</h3><p>尝试在Vercel中部署你的博客</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230924185053735.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20230924185140980.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20230924190035398.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20230924190500184.png" fancybox="true"/></div></div><h2 id="推送绑定域名"><a href="#推送绑定域名" class="headerlink" title="推送绑定域名"></a>推送绑定域名</h2><p>在<code>blog/source/</code>中添加<code>CNAME</code>文件，无类型文件（没有文件后缀）</p><p>写入你自己的博客地址</p><figure class="highlight http"><figcaption><span>blog\source\CNAME</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blog.bxzdyg.cn</span><br></pre></td></tr></table></figure><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>待编辑……qwq(其实写了的，一定是不见了！)</p><h2 id="一些问题"><a href="#一些问题" class="headerlink" title="一些问题"></a>一些问题</h2><h3 id="toc样式的问题"><a href="#toc样式的问题" class="headerlink" title="toc样式的问题"></a>toc样式的问题</h3><p>默认设置在</p><figure class="highlight yaml"><figcaption><span>blog/source/_data/widgets.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="string">toc</span></span><br><span class="line">  <span class="attr">list_number:</span> <span class="literal">false</span> <span class="comment"># 是否显示序号</span></span><br><span class="line">  <span class="attr">min_depth:</span> <span class="number">2</span> <span class="comment"># 建议不要低于 2 即从 H2 标签开始解析（H1标签用于文章大标题）</span></span><br><span class="line">  <span class="attr">max_depth:</span> <span class="number">5</span> <span class="comment"># 5 代表最多解析到 H5 标签</span></span><br><span class="line">  <span class="attr">fallback:</span> <span class="string">recent</span> <span class="comment"># Use a backup widget when toc does not exist.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="禁用h1"><a href="#禁用h1" class="headerlink" title="禁用h1"></a>禁用h1</h4><p>如在wiki使用h1标题也就是<code># </code></p><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101161105198.png" fancybox="true"/></div></div><h4 id="标题等级必需连续"><a href="#标题等级必需连续" class="headerlink" title="标题等级必需连续"></a>标题等级必需连续</h4><p>如上一个标题是h1下一个就是h3、h4</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101163352857.png" fancybox="true"/></div></div><p>不连续会以下一个高级标题，形成断层。</p><h4 id="toc最多显示到h5"><a href="#toc最多显示到h5" class="headerlink" title="toc最多显示到h5"></a>toc最多显示到h5</h4><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101163740963.png" fancybox="true"/></div></div><p>备注：1.19.0只能到h4</p><h3 id="Mermaid样式问题"><a href="#Mermaid样式问题" class="headerlink" title="Mermaid样式问题"></a>Mermaid样式问题</h3><div class="tag-plugin image"><div class="image-bg"><img src="image-20231230143641239.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231230150017303.png" fancybox="true"/></div></div><p>话说同样是dark主题，样式这么差了这么多</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231230150411005.png" fancybox="true"/></div></div><p>不明白，怎么下面的样式又对了</p><h3 id="Mermaid代码冲突问题（已解决）"><a href="#Mermaid代码冲突问题（已解决）" class="headerlink" title="Mermaid代码冲突问题（已解决）"></a>Mermaid代码冲突问题（已解决）</h3><p><strong>主题语法不能和Mermaid代码块进行嵌套</strong></p><p>以前（v1.19.0）在这个主题下很多都不能够嵌套，基本上都是我现在浏览器上渲染一遍，复制html元素粘贴到markdown里面</p><p>mermaid代码块临近主题语法会无法正常编译，还是代码块</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231230145949364.png" fancybox="true"/></div></div><p>没想到现在居然可以了，牛哇。</p><p>不过这里的嵌套却不能显示原有的代码了，都能被识别，进行编译</p><p>但是用起来警告有点多啊……</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231172017741.png" fancybox="true"/></div></div><h3 id="wiki的相关问题"><a href="#wiki的相关问题" class="headerlink" title="wiki的相关问题"></a>wiki的相关问题</h3><p>很遗憾的告诉各位高手们，stellar1.20.0将wiki重做了，不过如果你依然是老用户，我还是将对应的wiki项目的写法贴出来</p><h4 id="1-19-0-1"><a href="#1-19-0-1" class="headerlink" title="1.19.0"></a>1.19.0</h4><p>版本使用起来是相当费力的，不知怎么的，当时我读不懂文档，搞了很久才折腾出来了。</p><p>目录结构如下</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231173818409.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231173856736.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231174037039.png" fancybox="true"/></div></div><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">mermaid: true</span><br><span class="line">date: 2023-09-19 16:25:20</span><br><span class="line">layout: wiki  # 使用wiki布局模板</span><br><span class="line">wiki: Vue # 这是项目名</span><br><span class="line">title: Vue快速入门</span><br><span class="line">order: 0</span><br><span class="line">sidebar:</span><br><span class="line"><span class="bullet">  -</span> layout: search</span><br><span class="line"><span class="code">    override: search</span></span><br><span class="line"><span class="code">    filter: &#x27;/wiki/vue/&#x27;</span></span><br><span class="line"><span class="code">  - toc</span></span><br><span class="line"><span class="code">---</span></span><br></pre></td></tr></table></figure><p>重点是order要在对应的序列范围内</p><figure class="highlight yaml"><figcaption><span>blog/source/_data/projects.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Vue:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">Vue</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Vue</span> <span class="bullet">-</span> <span class="string">渐进式的前端框架</span></span><br><span class="line">  <span class="attr">subtitle:</span> <span class="string">&#x27;很开心的学了 | 结果又多了一个学过而不会的技术&#x27;</span> <span class="comment"># 项目中和主页相似的两个副标题</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">前端</span>  <span class="comment"># 分类</span></span><br><span class="line">  <span class="attr">cover:</span> <span class="literal">true</span>   <span class="comment"># 是否图片</span></span><br><span class="line">  <span class="comment"># cover: [logo, description] # 如果 logo 中已经包含了项目标题，可以这样设置不显示项目标题</span></span><br><span class="line">  <span class="attr">logo:</span></span><br><span class="line">    <span class="attr">src:</span> <span class="string">/assets/wiki/vue/vue-js.svg</span>  <span class="comment"># 项目封面</span></span><br><span class="line">    <span class="attr">small:</span> <span class="string">112px</span></span><br><span class="line">    <span class="attr">large:</span> <span class="string">240px</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">我的Vue学习笔记-不断改进和完善中，欢迎留言批斗，但别说的太过分，我并没有那么坚强。</span></span><br><span class="line">  <span class="comment">#  repo: xaoxuu/hexo-theme-stellar</span></span><br><span class="line">  <span class="comment">#  comment_title: &#x27;评论区仅供交流，有问题请提 [issue](https://github.com/xaoxuu/hexo-theme-stellar/issues) 反馈。&#x27;</span></span><br><span class="line">  <span class="comment">#  giscus: # 对应仓库</span></span><br><span class="line">  <span class="comment">#    data-repo: xaoxuu/hexo-theme-stellar</span></span><br><span class="line">  <span class="comment">#    data-mapping: number</span></span><br><span class="line">  <span class="comment">#    data-term: 226</span></span><br><span class="line">  <span class="attr">sections:</span></span><br><span class="line">    <span class="string">&#x27;快速开始&#x27;</span><span class="string">:</span> [ <span class="number">0</span>, <span class="number">99</span> ]</span><br><span class="line">    <span class="string">&#x27;基本使用&#x27;</span><span class="string">:</span> [ <span class="number">100</span>, <span class="number">199</span> ]</span><br><span class="line">    <span class="string">&#x27;深入组件&#x27;</span><span class="string">:</span> [ <span class="number">200</span>, <span class="number">299</span> ]</span><br><span class="line">    <span class="string">&#x27;应用规模化&#x27;</span><span class="string">:</span> [ <span class="number">300</span>, <span class="number">399</span> ]</span><br><span class="line">    <span class="string">&#x27;跨域问题&#x27;</span><span class="string">:</span> [ <span class="number">400</span>, <span class="number">599</span> ]</span><br><span class="line">    <span class="string">&#x27;进阶主题&#x27;</span><span class="string">:</span> [ <span class="number">600</span>, <span class="number">699</span> ]</span><br><span class="line"><span class="comment">#  sidebar: [search,toc] #侧边栏</span></span><br><span class="line"><span class="comment">#  index: false #在项目列表中隐藏</span></span><br></pre></td></tr></table></figure><h4 id="1-20-0"><a href="#1-20-0" class="headerlink" title="1.20.0+"></a>1.20.0+</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```sh</span><br><span class="line">├─wiki</span><br><span class="line">│  └─vue</span><br><span class="line">│      ├─Axios</span><br><span class="line">│      ├─Vite项目构建工具</span><br><span class="line">│      ├─Vue对象提供的属性功能</span><br><span class="line">│      ├─Vue对象的生命周期</span><br><span class="line">│      ├─Vue常用指令</span><br><span class="line">│      ├─Vue快速入门</span><br><span class="line">│      ├─Vue路由</span><br><span class="line">│      ├─单文件组件的使用</span><br><span class="line">│      ├─组合API</span><br><span class="line">│      ├─项目构建工具</span><br><span class="line">│      ├─Axios.md</span><br><span class="line">│      ├─Vite项目构建工具md</span><br><span class="line">│      ├─Vue对象提供的属性功能.md</span><br><span class="line">│      ├─Vue对象的生命周期.md</span><br><span class="line">│      ├─Vue常用指令.md</span><br><span class="line">│      ├─Vue快速入门.md</span><br><span class="line">│      ├─Vue路由.md</span><br><span class="line">│      ├─单文件组件的使用.md</span><br><span class="line">│      ├─组合API.md</span><br><span class="line">│      └─项目构建工具.md</span><br><span class="line">├─_data</span><br><span class="line">|  ├─wiki.yml</span><br><span class="line">│  └─wiki</span><br><span class="line">│      └─Vue.yml</span><br><span class="line">│      </span><br></pre></td></tr></table></figure><figure class="highlight yaml"><figcaption><span>blog\source\_data\wiki\Vue.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Vue</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Vue.js</span> <span class="bullet">-</span> <span class="string">渐进式的前端框架</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;很开心的学了 | 结果又多了一个学过而不会的技术&#x27;</span> <span class="comment"># 项目中和主页相似的两个副标题</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">前端</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">/assets/wiki/vue/vue-js.svg</span><span class="comment"># 封面页大图</span></span><br><span class="line"><span class="attr">icon:</span> <span class="string">/assets/wiki/vue/vue-js.svg</span><span class="comment"># 列表页图标</span></span><br><span class="line"><span class="comment"># coverpage: [logo, description]</span></span><br><span class="line"><span class="attr">coverpage:</span> <span class="literal">true</span> <span class="comment"># 默认是 true</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">我的vue学习笔记-不断改进和完善中，欢迎留言批斗，但别说的太过分，我并没有那么坚强。</span></span><br><span class="line"><span class="comment"># repo: xaoxuu/hexo-theme-stellar</span></span><br><span class="line"><span class="attr">sidebar:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">search:</span></span><br><span class="line">    <span class="attr">override:</span> <span class="string">search</span></span><br><span class="line">    <span class="attr">filter:</span> <span class="string">/wiki/vue/</span></span><br><span class="line">    <span class="attr">placeholder:</span> <span class="string">&#x27;在 Vue笔记 中搜索...&#x27;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">toc</span></span><br><span class="line">  <span class="comment"># - timeline_stellar_releases</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">related</span></span><br><span class="line"><span class="comment"># comment_title: &#x27;评论区仅供交流，有问题请提 [issue](https://github.com/xaoxuu/hexo-theme-stellar/issues) 反馈。&#x27;</span></span><br><span class="line"><span class="comment"># comments:</span></span><br><span class="line"><span class="comment">#   service: giscus</span></span><br><span class="line"><span class="comment">#   giscus:</span></span><br><span class="line"><span class="comment">#     data-repo: xaoxuu/hexo-theme-stellar</span></span><br><span class="line"><span class="comment">#     data-mapping: number</span></span><br><span class="line"><span class="comment">#     data-term: 226</span></span><br><span class="line"><span class="attr">path:</span> <span class="string">/wiki/vue/</span></span><br><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="string">&#x27;快速开始&#x27;</span><span class="string">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;Vue快速入门&#x27;</span></span><br><span class="line">  <span class="string">&#x27;基本使用&#x27;</span><span class="string">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;Vue常用指令&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;Vue对象提供的属性功能&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;Vue对象的生命周期&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;Vue组件化开发基础和浅入&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;项目构建工具&#x27;</span></span><br><span class="line">  <span class="string">&#x27;深入组件&#x27;</span><span class="string">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;单文件组件的使用&#x27;</span></span><br><span class="line">  <span class="string">&#x27;应用规模化&#x27;</span><span class="string">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;Vue路由&#x27;</span></span><br><span class="line">  <span class="string">&#x27;跨域问题&#x27;</span><span class="string">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Axios</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Proxy</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">WebSocket</span></span><br><span class="line">  <span class="string">&#x27;进阶主题&#x27;</span><span class="string">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;组合API&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;Vite项目构建工具&#x27;</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure><figure class="highlight yaml"><figcaption><span>blog\source\_data\wiki.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># 上架项目</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Vue</span></span><br></pre></td></tr></table></figure><p>头代码如下面写到</p><figure class="highlight markdown"><figcaption><span>blog\source\wiki\vue\Vue快速入门.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: wiki  # 使用wiki布局模板</span><br><span class="line">wiki: Vue # 这是项目名</span><br><span class="line"><span class="section">title: Vue快速入门</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>&nsbp;&nsbp;对于这个改动，对比以往，相当于多了一个草稿wiki，可以选择上不上架<code>blog\source\_data\wiki.yml</code>中添加即可</p><p>在写某一分页的时候不用去打开上一页的order是什么，只需要在<code>blog\source\_data\wiki\Vue.yml</code>这类的项目去添加下一个分页的<code>title</code></p><p>这些都是有好处的，但是作为一个老用户，我哭啊，也要改些东西，不想动啊~</p><p>缺点也是有一些的就是文章标题不允许重复了</p><p>title要和<code>markdown</code>文件名一致</p><h4 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h4><h5 id="乱序"><a href="#乱序" class="headerlink" title="乱序"></a>乱序</h5><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231220806381.png" fancybox="true"/></div></div><p>还有莫名的省略号。</p><p>解答：船新版本不能像<code>1.19.0</code>那样，进行目录嵌套，全部写在一个文件里，否则会在构建的时候报如下的错误</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101105948534.png" fancybox="true"/></div></div><p>多次重写构建是能够正常构建，但是效果就像上面一样乱序。</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101110031970.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101110045608.png" fancybox="true"/></div></div><h5 id="消失的toc"><a href="#消失的toc" class="headerlink" title="消失的toc"></a>消失的toc</h5><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101112613489.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101112454546.png" fancybox="true"/></div></div><p>title要和文件名一致，否则会出现省略号</p><p>而内容为空，只写了头代码toc就会消失</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101112836527.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101112857622.png" fancybox="true"/></div></div><h3 id="notes相关问题"><a href="#notes相关问题" class="headerlink" title="notes相关问题"></a>notes相关问题</h3><h4 id="如何隐藏cover和title还有name"><a href="#如何隐藏cover和title还有name" class="headerlink" title="如何隐藏cover和title还有name"></a>如何隐藏<em>cover</em>和<em>title</em>还有<em>name</em></h4><p>这个大概就是notes上拉有wiki的开始使用提示字样</p><figure class="highlight yaml"><figcaption><span>blog\source\_data\wiki\notes.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># name: 备忘录</span></span><br><span class="line"><span class="comment"># title: 备忘录</span></span><br><span class="line"><span class="comment"># icon: # 列表页图标</span></span><br><span class="line"><span class="comment"># cover: # 封面页大图</span></span><br><span class="line"><span class="comment"># coverpage: [cover, title, description] # 封面页显示的内容</span></span><br><span class="line"><span class="attr">coverpage:</span> <span class="literal">false</span> <span class="comment"># 封面页显示的内容</span></span><br></pre></td></tr></table></figure><p>这部分修改成这样</p><p>你可能还是不清楚子文件的<code>front-matter</code>怎么写</p><figure class="highlight markdown"><figcaption><span>blog\source\notes\vite初始化vue.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">date: 2023-12-31 18:58:39</span><br><span class="line">layout: wiki</span><br><span class="line">wiki: notes # 这个跟上面的 /wiki/notes.yml 关联起来</span><br><span class="line">menu<span class="emphasis">_id: explore # 这个跟配置文件中的 `sidebar.menu.notes` 关联起来，这很重要，如果没有这个，就像普通的wiki项目一样了</span></span><br><span class="line"><span class="emphasis">title: vite初始化vue</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis">待编辑……qwq&#123;% psw 其实写了的，一定是不见了！%&#125;</span></span><br></pre></td></tr></table></figure><h3 id="代码块怎么显示文件地址"><a href="#代码块怎么显示文件地址" class="headerlink" title="代码块怎么显示文件地址"></a>代码块怎么显示文件地址</h3><p>Stellar一些没有说明或者一时看不明白的，但是看起来就很叼的效果实现</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230921215234576.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20230921215245625.png" fancybox="true"/></div></div><p>这样编写在一般的md是不会被这样解析的，而是作为一整个字符串当作代码的类型<psw>打脸打的啪啪响 两个小时后：typora 也能够区分识别，将空格前面的作为类型</psw>，当然了有时候你写的一些语言，会无法识别，突出高亮如vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding child:codeblock open:flase color:yellow 警告此处为个人本题答案仅供参考，非唯一答案 %&#125;</span><br><span class="line">``` 这是代码语言</span><br><span class="line">这是代码内容</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><p>代码块折叠</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% quot  你好世界  el:h2 %&#125;</span><br></pre></td></tr></table></figure><p>使用这种指定标题，每个属性要隔开一些</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% quot 热门话题 %&#125;  []</span><br><span class="line">&#123;% quot 热门话题 icon:default %&#125; “”</span><br><span class="line">&#123;% quot 热门话题 icon:hashtag %&#125; #</span><br></pre></td></tr></table></figure><h3 id="wiki项目的icon如何向老版本一样整大一点"><a href="#wiki项目的icon如何向老版本一样整大一点" class="headerlink" title="wiki项目的icon如何向老版本一样整大一点"></a>wiki项目的icon如何向老版本一样整大一点</h3><p>不知道</p><h3 id="okr嵌套gallery如何控制哪些是大图哪些是小图"><a href="#okr嵌套gallery如何控制哪些是大图哪些是小图" class="headerlink" title="okr嵌套gallery如何控制哪些是大图哪些是小图"></a>okr嵌套gallery如何控制哪些是大图哪些是小图</h3><p>不知道</p><h2 id="一些小花样"><a href="#一些小花样" class="headerlink" title="一些小花样"></a>一些小花样</h2><h3 id="动态友链"><a href="#动态友链" class="headerlink" title="动态友链"></a>动态友链</h3><p>文章参考：</p><blockquote><p><a href="https://weekdaycare.cn/posts/stellar-friends/">https://weekdaycare.cn/posts/stellar-friends/</a></p></blockquote><blockquote></blockquote><p>克隆<a href="https://github.com/xaoxuu/issues-json-generator">仓库</a>后，开放Issues功能，按需求划定标签，并且修改厂库对应的判断语句，就可以在文章中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% friends repo:YGuang233/friends %&#125;</span><br></pre></td></tr></table></figure><p>就能加载出对应的友链信息</p><h3 id="朋友文章（朋友圈）"><a href="#朋友文章（朋友圈）" class="headerlink" title="朋友文章（朋友圈）"></a>朋友文章（朋友圈）</h3><h4 id="2023-10"><a href="#2023-10" class="headerlink" title="2023&#x2F;10"></a>2023&#x2F;10</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline type:fcircle api:https://github.com/YGuang233/friends-rss-generator/tree/output/data.json %&#125;</span><br></pre></td></tr></table></figure><p>有些人很好奇，明明这样写，打开一看是我厂库里的output分支的data.json</p><p>但实际上你只要多点一步，我们需要的是这个叫做data.json的字节流</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230924094216815.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20230924093930052.png" fancybox="true"/></div></div><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://raw.githubusercontent.com/YGuang233/friends-rss-generator/output/data.json</span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline type:fcircle api:https://raw.githubusercontent.com/YGuang233/friends-rss-generator/output/data.json %&#125;</span><br></pre></td></tr></table></figure><p>但是这个国内好像访问不了，Stellar作者又给了一个api接口</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline type:fcircle api:https://api.vlts.cc/output<span class="emphasis">_data/v1/YGuang233/friends-rss-generator %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% endtimeline %&#125;</span></span><br></pre></td></tr></table></figure><p>将其改成你对应的厂库就可以了</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230928085552263.png" fancybox="true"/></div></div><p>或者你可以显示在侧边栏</p><figure class="highlight yaml"><figcaption><span>blog\source\_data\widgets.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">timeline_friend_blog:</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="string">timeline</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">朋友的文章</span></span><br><span class="line">  <span class="attr">api:</span> <span class="string">https://api.vlts.cc/output_data/v1/YGuang233/friends-rss-generator</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">fcircle</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">30</span> <span class="comment"># 限制显示30条</span></span><br></pre></td></tr></table></figure><p>在头代码<code>sidebar</code>加入这个自定义的组件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sidebar:</span> [<span class="string">timeline_friend_blog</span>]</span><br></pre></td></tr></table></figure><h4 id="使用「memos」"><a href="#使用「memos」" class="headerlink" title="使用「memos」"></a>使用「memos」</h4><p>待编辑……qwq(其实写了的，一定是不见了！)</p><h3 id="接入API"><a href="#接入API" class="headerlink" title="接入API"></a>接入API</h3><h4 id="欢迎图片"><a href="#欢迎图片" class="headerlink" title="欢迎图片"></a>欢迎图片</h4><figure class="highlight http"><figcaption><span>接口地址</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://api.szfx.top/info-card/?word=%E6%AC%A2%E8%BF%8E%E6%9D%A5%E8%AE%BF%20%E5%8D%8A%E9%86%92%E7%9D%80%E7%9A%84%E9%98%B3%E5%85%89%20%E7%9A%84%E5%8D%9A%E5%AE%A2</span><br></pre></td></tr></table></figure><p>你可以试着打开这个网址将word&#x3D;欢迎词，修改成你喜欢的</p><figure class="highlight yaml"><figcaption><span>blog/source/_data/widgets.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">welcome:</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="string">markdown</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">哈喽~</span> <span class="string">旅人：</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">|</span></span><br><span class="line">    <span class="string">&lt;img</span> <span class="string">src=&quot;https://api.szfx.top/info-card/?word=%E6%AC%A2%E8%BF%8E%E6%9D%A5%E8%AE%BF%20%E5%8D%8A%E9%86%92%E7%9D%80%E7%9A%84%E9%98%B3%E5%85%89%20%E7%9A%84%E5%8D%9A%E5%AE%A2&quot;&gt;</span></span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20230924104752270.png" fancybox="true"/></div></div><p>效果展示，看起来挺有新意的，就是图片内的字太小</p><p>将上面的img部分改成下面的，可以有在文章那样的缩放图效果</p><figure class="highlight yaml"><figcaption><span>blog/source/_data/widgets.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;img</span> <span class="string">src=&quot;https://api.szfx.top/info-card/?word=%E6%AC%A2%E8%BF%8E%E6%9D%A5%E8%AE%BF%20%E5%8D%8A%E9%86%92%E7%9D%80%E7%9A%84%E9%98%B3%E5%85%89%20%E7%9A%84%E5%8D%9A%E5%AE%A2&quot;</span> <span class="string">fancybox=&quot;true&quot;&gt;</span></span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20230924110656334.png" fancybox="true"/></div></div><h4 id="二次元图片"><a href="#二次元图片" class="headerlink" title="二次元图片"></a>二次元图片</h4><p><a href="https://acgapi.shifeiti.com/">是非题 | ACG-API (shifeiti.com)</a></p><p>我们使用是非题大佬提供的api可以获取对应或随机的二次元图片</p><p>食用方式也是很简单，和上面接入欢迎图片是一样的将src改成下面的api接口url地址即可。</p><p><strong>假定 API 部署到 <a href="https://acgapi.shifeiti.com/">https://acgapi.shifeiti.com</a></strong></p><p>访问 <a href="https://acgapi.shifeiti.com/api">https://acgapi.shifeiti.com/api</a> ，跳转至图片地址</p><p>访问 <a href="https://acgapi.shifeiti.com/api/?id=%E6%95%B0%E5%AD%97">https://acgapi.shifeiti.com/api/?id=数字</a> ，跳转至指定图片</p><p>示例 <a href="https://acgapi.shifeiti.com/api/?id=1717">https://acgapi.shifeiti.com/api/?id=1717</a></p><p>示例 <a href="https://acgapi.shifeiti.com/api/?id=1717&json">https://acgapi.shifeiti.com/api/?id=1717&amp;json</a></p><p>效果展示</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230927205139293.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20230927205220451.png" fancybox="true"/></div></div><p>是挺赞的。</p><p><strong>访问 <a href="https://acgapi.shifeiti.com/api/?json">https://acgapi.shifeiti.com/api/?json</a></strong></p><p>输出json，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;id&quot;:3,url&quot;:&quot;https://z3.ax1x.com/2021/08/19/fqDucQ.png&quot;&#125;   </span><br></pre></td></tr></table></figure><p>相似的大家可以去网上找</p><p>如下面这个</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="" href="https://blog.jixiaob.cn/?post=93" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="title,icon"><div class="left"><span class="title">https://blog.jixiaob.cn/?post=93</span><span class="cap link fs12">https://blog.jixiaob.cn/?post=93</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><psw>这个博主推荐的推荐的api还有涩图版本🙈</psw><h4 id="诗词和骚话"><a href="#诗词和骚话" class="headerlink" title="诗词和骚话"></a>诗词和骚话</h4><h5 id="今日诗词"><a href="#今日诗词" class="headerlink" title="今日诗词"></a>今日诗词</h5><p>接入随机诗词提升网站逼格</p><blockquote><p><a href="https://www.jinrishici.com/#">今日诗词 - 一言API - 诗词实时智能推荐 - 今日诗词开放接口 - 今日诗词 API - 个人文章分享 (jinrishici.com)</a></p></blockquote><p>接着我们只要在welcome引入就可以了</p><figure class="highlight yaml"><figcaption><span>blog\source\_data\widgets.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">welcome:</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="string">markdown</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">哈喽~</span> <span class="string">远道而来的朋友呀~</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    欢迎来到我这么一个小破站哟~</span></span><br><span class="line"><span class="string">    希望你能够在这里找到自己想要了解的东西</span></span><br><span class="line"><span class="string">    &lt;span id=&quot;jinrishici-sentence&quot;&gt;正在加载今日诗词....&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;script src=&quot;https://sdk.jinrishici.com/v2/browser/jinrishici.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>效果展示</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230919083703072.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20230919083732151.png" fancybox="true"/></div></div><blockquote><p><a href="https://github.com/xenv/gushici">xenv&#x2F;gushici: 一言·古诗词 API (Hitokoto API)，随机返回一条古诗词名句。采用 Vert.x + Redis 全异步开发，毫秒级稳定响应。 (github.com)</a></p></blockquote><p>其开源项目</p><p>或者接入另外一个一言开源api</p><h5 id="一言"><a href="#一言" class="headerlink" title="一言"></a>一言</h5><blockquote><p><a href="https://hitokoto.cn/">Hitokoto - 一言</a></p></blockquote><figure class="highlight yaml"><figcaption><span>blog\source\_data\widgets.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">welcome:</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="string">markdown</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">哈喽~</span> <span class="string">远道而来的朋友呀</span> <span class="string">：</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    &lt;p id=&quot;hitokoto&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;#&quot; id=&quot;hitokoto_text&quot;&gt;:D 获取中...&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;script&gt;</span></span><br><span class="line"><span class="string">    fetch(&#x27;https://v1.hitokoto.cn&#x27;)</span></span><br><span class="line"><span class="string">    .then(response =&gt; response.json())</span></span><br><span class="line"><span class="string">    .then(data =&gt; &#123;</span></span><br><span class="line"><span class="string">    const hitokoto = document.querySelector(&#x27;#hitokoto_text&#x27;)</span></span><br><span class="line"><span class="string">    hitokoto.href = `https://hitokoto.cn/?uuid=$&#123;data.uuid&#125;`</span></span><br><span class="line"><span class="string">    hitokoto.innerText = data.hitokoto</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">    .catch(console.error)</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><p>这个感觉更像是一个有趣的灵魂</p><h5 id="我自己？"><a href="#我自己？" class="headerlink" title="我自己？"></a>我自己？</h5><p>但是你也可以接入大脑，放入一些自己想说的话，更加个性化和展现个人魅力！</p><figure class="highlight yaml"><figcaption><span>blog\source\_data\widgets.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">welcome:</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="string">markdown</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">哈喽~</span> <span class="string">远道而来的朋友呀</span> <span class="string">：</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    &lt;p id=&quot;bxzdyg&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;span id=&quot;bxzdyg_text&quot;&gt;:D 获取中...&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;script&gt;</span></span><br><span class="line"><span class="string">    const myTextArray = [&#x27;龙年大吉！阖家欢乐！&#x27;, &#x27;目标实现共产主义&#x27;, &#x27;天天幸福快乐！健健康康！远离疾病与伤痛。&#x27;, &#x27;人民万岁！&#x27;, &#x27;我想玩黑神话悟空！&#x27;,&#x27;丝之歌！呜呜呜~&#x27;,&#x27;天行健！君子以自强不息&#x27;]; // 将字符替换为你要说的话</span></span><br><span class="line"><span class="string">    const getRandomText = (array) =&gt; &#123;</span></span><br><span class="line"><span class="string">    return array[Math.floor(Math.random() * array.length)];</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">    const bxzdyg = document.querySelector(&#x27;#bxzdyg_text&#x27;);</span></span><br><span class="line"><span class="string">    bxzdyg.innerText = getRandomText(myTextArray);</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>这部分也可以改成图片，用img标签，图片就放在<code>blog\source\assets</code>里就行了，然后你也明白该怎么做了吧？</p><h4 id="接入Steam（危）"><a href="#接入Steam（危）" class="headerlink" title="接入Steam（危）"></a>接入Steam（危）</h4><p>待编辑……qwq(其实写了的，一定是不见了！)</p><h4 id="接入音乐播放器"><a href="#接入音乐播放器" class="headerlink" title="接入音乐播放器"></a>接入音乐播放器</h4><h5 id="APLayer"><a href="#APLayer" class="headerlink" title="APLayer"></a>APLayer</h5><p>待编辑……qwq(其实写了的，一定是不见了！)</p><h3 id="PicGo"><a href="#PicGo" class="headerlink" title="PicGo"></a>PicGo</h3><p>使用PicGo无非就是连接自己的图床，截图直接上传到网上，图床的服务器上与博客分开。</p><p>一般事是合一个markdown的编辑器使用的，文章推送再用命令提示符或者终端之类的切换到blog目录下，执行一段推送命令即可。这个就是使用这个的思路：</p><ol><li>提高编写效率</li><li>减轻服务器分担，进行分流，提高阅读感受。</li></ol><p>待编辑……qwq(其实写了的，一定是不见了！)</p><h5 id="加水印"><a href="#加水印" class="headerlink" title="加水印"></a>加水印</h5><p>待编辑……qwq(其实写了的，一定是不见了！)</p><h3 id="评论区"><a href="#评论区" class="headerlink" title="评论区"></a>评论区</h3><psw>请不要攻击我</psw><p>待编辑……qwq(其实写了的，一定是不见了！)</p><h3 id="站点统计"><a href="#站点统计" class="headerlink" title="站点统计"></a>站点统计</h3><p>参考文章</p><blockquote><p><a href="https://www.ezhixuan.xyz/post/5904fa7e/">Hexo添加字数统计 - Ezhixuan</a></p><p><a href="https://www.kuhehe.top/2023/01e316b68d.html">Stellar主题在页脚添加访客统计及运行时间 - 酷小呵 (kuhehe.top)</a></p></blockquote><p>这两位博主讲的都是可行的方法，不过第一种太麻烦了，我之前也尝试过，不过不利于以后更新，他直接上手模板文件，我还是建议在给定的位置插入,下方是本站的插入方式</p><p>footer:sitemap：</p><figure class="highlight yaml"><figcaption><span>blog\_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line"><span class="attr">content:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        &lt;!--不蒜子计数器--&gt;</span></span><br><span class="line"><span class="string">        &lt;script async src=&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">        &lt;!--添加一个访问量--&gt;</span></span><br><span class="line"><span class="string">        &lt;span&gt;</span></span><br><span class="line"><span class="string">              本&quot;&lt;span style=&quot;color: hsl(192 98% 55%); font-weight: bold;&quot;&gt;页面&lt;/ a&gt;&lt;/span&gt;&quot;访问 &lt;span id=&quot;busuanzi_value_page_pv&quot; style=&quot;color: hsl(192 98% 55%); font-weight: bold;&quot;&gt;&lt;/span&gt; 次 | 👀总访问 &lt;span id=&quot;busuanzi_value_site_pv&quot; style=&quot;color: hsl(192 98% 55%); font-weight: bold;&quot;&gt;&lt;/span&gt;       次 | 总访客 &lt;span id=&quot;busuanzi_value_site_uv&quot; style=&quot;color: hsl(192 98% 55%); font-weight: bold;&quot;&gt;&lt;/span&gt; 人</span></span><br><span class="line"><span class="string">        &lt;/span&gt;</span></span><br><span class="line"><span class="string">        &lt;/br&gt;</span></span><br><span class="line"><span class="string">        &lt;span id=&quot;runtime_span&quot;&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">        &lt;script type=&quot;text/javascript&quot;&gt;</span></span><br><span class="line"><span class="string">        function show_runtime() &#123;</span></span><br><span class="line"><span class="string">            window.setTimeout(&quot;show_runtime()&quot;, 1000);</span></span><br><span class="line"><span class="string">            X = new Date(&quot;2023/09/17 17:00:00&quot;);</span></span><br><span class="line"><span class="string">            Y = new Date();</span></span><br><span class="line"><span class="string">            T = (Y.getTime() - X.getTime());</span></span><br><span class="line"><span class="string">            M = 24 * 60 * 60 * 1000;</span></span><br><span class="line"><span class="string">            a = T / M;</span></span><br><span class="line"><span class="string">            A = Math.floor(a);</span></span><br><span class="line"><span class="string">            b = (a - A) * 24;</span></span><br><span class="line"><span class="string">            B = Math.floor(b);</span></span><br><span class="line"><span class="string">            c = (b - B) * 60;</span></span><br><span class="line"><span class="string">            C = Math.floor((b - B) * 60);</span></span><br><span class="line"><span class="string">            D = Math.floor((c - C) * 60);</span></span><br><span class="line"><span class="string">            runtime_span.innerHTML = &quot;⏱️本站已运行 &quot; + A + &quot;天&quot; + B + &quot;小时&quot; + C + &quot;分&quot; + D + &quot;秒&quot;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        show_runtime();</span></span><br><span class="line"><span class="string">        &lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h3 id="自定义样式"><a href="#自定义样式" class="headerlink" title="自定义样式"></a>自定义样式</h3><h4 id="使用霞鹜文楷字体"><a href="#使用霞鹜文楷字体" class="headerlink" title="使用霞鹜文楷字体"></a>使用<em>霞鹜文楷</em>字体</h4><figure class="highlight yaml"><figcaption><span>blog\_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;LXGW WenKai Screen&quot;</span></span><br></pre></td></tr></table></figure><p>将themes中的stellar的style复制到根目录下的<code>_config.stellar.yml</code></p><p><strong>字体大小</strong>也可以在这里一起设置，在下面代码块一起贴出</p><p>找到<code>style:font-family:body:</code>,添加到最前面就可以了，放在前面的意思就是优先用前面的</p><figure class="highlight yaml"><figcaption><span>blog\_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">style:</span></span><br><span class="line">  <span class="attr">font-size:</span></span><br><span class="line">    <span class="attr">root:</span> <span class="string">16px</span><span class="comment"># 阅读字体大小</span></span><br><span class="line">    <span class="attr">body:</span> <span class="string">.9375rem</span> <span class="comment"># 15px # 相对大小</span></span><br><span class="line">    <span class="attr">code:</span> <span class="number">85</span><span class="string">%</span> <span class="comment"># 14px</span></span><br><span class="line">    <span class="attr">codeblock:</span> <span class="number">0.</span><span class="string">8125rem</span> <span class="comment"># 13px</span></span><br><span class="line">  <span class="attr">font-family:</span></span><br><span class="line">    <span class="attr">logo:</span> <span class="string">&#x27;system-ui, &quot;Microsoft Yahei&quot;, &quot;Segoe UI&quot;, -apple-system, Roboto, Ubuntu, &quot;Helvetica Neue&quot;, Arial, &quot;WenQuanYi Micro Hei&quot;, sans-serif&#x27;</span></span><br><span class="line">    <span class="attr">body:</span> <span class="string">&#x27;system-ui, &quot;Microsoft Yahei&quot;, &quot;Segoe UI&quot;, -apple-system, Roboto, Ubuntu, &quot;Helvetica Neue&quot;, Arial, &quot;WenQuanYi Micro Hei&quot;, sans-serif&#x27;</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure><h4 id="首页轮播图-1-19-0"><a href="#首页轮播图-1-19-0" class="headerlink" title="首页轮播图(1.19.0)"></a>首页轮播图(1.19.0)</h4><p>听stellar作者说首页这块地方要整点别的，后面的可以不用考虑了，如果你还是想要用的话，那就以这个版本为基础吧。</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920101636650.png" fancybox="true"/></div></div><p>如果缺少或者说是没有目标文件，那就需要手动添加</p><h5 id="添加自定义css"><a href="#添加自定义css" class="headerlink" title="添加自定义css"></a>添加自定义css</h5><p>在 <strong>blog&#x2F;themes&#x2F;stellar&#x2F;source&#x2F;css&#x2F;_custom&#x2F;</strong> 目录中添加 swiperstyle.styl 文件</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920101723803.png" fancybox="true"/></div></div><figure class="highlight stylus"><figcaption><span>blog/themes/stellar/source/css/_custom/swiperstyle.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line">div<span class="selector-id">#swiper_container</span></span><br><span class="line">  <span class="attribute">background</span> <span class="built_in">var</span>(--card);</span><br><span class="line">  <span class="attribute">z-index</span> auto</span><br><span class="line"><span class="selector-class">.blog-slider</span></span><br><span class="line">  <span class="attribute">position</span> relative</span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">12px</span> <span class="number">12px</span> <span class="number">12px</span> <span class="number">12px</span></span><br><span class="line">  <span class="attribute">margin</span> auto</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span></span><br><span class="line">  <span class="attribute">transition</span> all .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__item</span></span><br><span class="line">  <span class="attribute">display</span> flex</span><br><span class="line">  <span class="attribute">align-items</span> center</span><br><span class="line">  &amp;<span class="selector-class">.swiper-slide-active</span></span><br><span class="line">    <span class="selector-class">.blog-slider__img</span></span><br><span class="line">      <span class="selector-tag">img</span></span><br><span class="line">        <span class="attribute">opacity</span> <span class="number">1</span></span><br><span class="line">        <span class="attribute">transition-delay</span> .<span class="number">3s</span></span><br><span class="line">    <span class="selector-class">.blog-slider__content</span></span><br><span class="line">      &amp; &gt; *</span><br><span class="line">        <span class="attribute">opacity</span> <span class="number">1</span></span><br><span class="line">        <span class="attribute">transform</span> none</span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.3s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.4s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.5s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.6s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">5</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.7s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">6</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.8s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">7</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.9s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">8</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">9</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.1s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">10</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.2s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">11</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.3s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">12</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.4s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">13</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.5s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">14</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.6s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">15</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.7s</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__img</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">300px</span></span><br><span class="line">  <span class="attribute">flex-shrink</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">10px</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">20px</span></span><br><span class="line">  <span class="attribute">transform</span> <span class="built_in">translateX</span>(<span class="number">0px</span>)</span><br><span class="line">  <span class="attribute">overflow</span> hidden</span><br><span class="line">  <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">    <span class="attribute">content</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">15px</span></span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0.8</span></span><br><span class="line">  <span class="selector-tag">img</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">object-fit</span> cover</span><br><span class="line">    <span class="attribute">display</span> block</span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">5px</span></span><br><span class="line">    <span class="attribute">transition</span> all .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__content</span></span><br><span class="line">  <span class="attribute">padding-right</span> <span class="number">50px</span></span><br><span class="line">  <span class="attribute">padding-left</span> <span class="number">25px</span></span><br><span class="line">  &amp; &gt; *</span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">transform</span> <span class="built_in">translateY</span>(<span class="number">25px</span>)</span><br><span class="line">    <span class="attribute">transition</span> all .<span class="number">4s</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__code</span></span><br><span class="line">  <span class="attribute">text-align</span> left</span><br><span class="line">  <span class="attribute">color</span> <span class="built_in">var</span>(--text-p3)</span><br><span class="line">  <span class="attribute">margin-bottom</span> <span class="number">10px</span></span><br><span class="line">  <span class="attribute">display</span> block</span><br><span class="line">  <span class="attribute">font-weight</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__title</span></span><br><span class="line">  <span class="attribute">text-align</span> left</span><br><span class="line">  <span class="attribute">font-size</span> <span class="variable">$fs</span>-h3</span><br><span class="line">  <span class="attribute">font-weight</span> <span class="number">500</span></span><br><span class="line">  <span class="attribute">color</span> <span class="built_in">var</span>(--text-p1)</span><br><span class="line">  <span class="attribute">margin-bottom</span> <span class="number">15px</span></span><br><span class="line">  -webkit-line-clamp <span class="number">1</span></span><br><span class="line">  <span class="attribute">display</span> -webkit-box</span><br><span class="line">  <span class="attribute">overflow</span> hidden</span><br><span class="line">  -webkit-box-orient vertical</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__text</span></span><br><span class="line">  <span class="attribute">text-align</span> left</span><br><span class="line">  <span class="attribute">font-size</span> <span class="variable">$fs</span>-h5</span><br><span class="line">  <span class="attribute">color</span> <span class="built_in">var</span>(--text-p3)</span><br><span class="line">  -webkit-line-clamp <span class="number">3</span></span><br><span class="line">  <span class="attribute">display</span> -webkit-box</span><br><span class="line">  <span class="attribute">overflow</span> hidden</span><br><span class="line">  -webkit-box-orient vertical</span><br><span class="line">  <span class="attribute">margin-bottom</span> <span class="number">15px</span></span><br><span class="line">  <span class="attribute">line-height</span> <span class="number">1.5em</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">  <span class="attribute">word-break</span> break-all</span><br><span class="line">  <span class="attribute">word-wrap</span> break-word</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__button</span></span><br><span class="line">  <span class="attribute">display</span> inline-flex</span><br><span class="line">  <span class="attribute">background-color</span> <span class="built_in">var</span>(--block)</span><br><span class="line">  <span class="attribute">padding</span> <span class="number">14px</span> <span class="number">14px</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">8px</span></span><br><span class="line">  <span class="attribute">color</span> <span class="built_in">var</span>(--text-p1)</span><br><span class="line">  <span class="attribute">text-decoration</span> none</span><br><span class="line">  <span class="attribute">font-weight</span> <span class="number">500</span></span><br><span class="line">  <span class="attribute">justify-content</span> center</span><br><span class="line">  <span class="attribute">text-align</span> center</span><br><span class="line">  <span class="attribute">letter-spacing</span> <span class="number">1px</span></span><br><span class="line">  <span class="attribute">display</span> none</span><br><span class="line">  <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">    <span class="attribute">background-color</span> <span class="built_in">var</span>(--block-hover)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider</span> <span class="selector-class">.swiper-container-horizontal</span> &gt; <span class="selector-class">.swiper-pagination-bullets</span>, <span class="selector-class">.blog-slider</span> <span class="selector-class">.swiper-pagination-custom</span>, <span class="selector-class">.blog-slider</span> <span class="selector-class">.swiper-pagination-fraction</span></span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">10px</span></span><br><span class="line">  <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__pagination</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">1</span></span><br><span class="line">  <span class="attribute">right</span> <span class="number">20px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">11px</span> <span class="meta">!important</span></span><br><span class="line">  <span class="attribute">text-align</span> center</span><br><span class="line">  <span class="attribute">left</span> auto <span class="meta">!important</span></span><br><span class="line">  <span class="attribute">top</span> <span class="number">50%</span></span><br><span class="line">  <span class="attribute">bottom</span> auto <span class="meta">!important</span></span><br><span class="line">  <span class="attribute">transform</span> <span class="built_in">translateY</span>(-<span class="number">50%</span>)</span><br><span class="line">  &amp;<span class="selector-class">.swiper-pagination-bullets</span></span><br><span class="line">    <span class="selector-class">.swiper-pagination-bullet</span></span><br><span class="line">      <span class="attribute">margin</span> <span class="number">8px</span> <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line">  <span class="selector-class">.swiper-pagination-bullet</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">11px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">11px</span></span><br><span class="line">    <span class="attribute">display</span> block</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#858585</span></span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0.2</span></span><br><span class="line">    <span class="attribute">transition</span> all .<span class="number">3s</span></span><br><span class="line">  <span class="selector-class">.swiper-pagination-bullet-active</span></span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">1</span></span><br><span class="line">    <span class="attribute">background</span> <span class="variable">$color</span>-theme</span><br><span class="line">    <span class="attribute">height</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">600px</span>)</span><br><span class="line">  .blog-slider__pagination</span><br><span class="line">    transform translateX(-<span class="number">50%</span>)</span><br><span class="line">    left <span class="number">50%</span> !important</span><br><span class="line">    top <span class="number">320px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span> !important</span><br><span class="line">    display flex</span><br><span class="line">    justify-content center</span><br><span class="line">    align-items center</span><br><span class="line"></span><br><span class="line">  .blog-slider__pagination</span><br><span class="line">    &amp;.swiper-pagination-bullets</span><br><span class="line">      .swiper-pagination-bullet</span><br><span class="line">        margin <span class="number">0</span> <span class="number">5px</span> !important</span><br><span class="line"></span><br><span class="line">  .blog-slider__pagination</span><br><span class="line">    .swiper-pagination-bullet-active</span><br><span class="line">      <span class="attribute">height</span> <span class="number">11px</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider</span><br><span class="line">    <span class="attribute">min-height</span> <span class="number">350px</span></span><br><span class="line">    <span class="attribute">height</span> auto</span><br><span class="line">    margin-bottom <span class="number">10px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider__content</span><br><span class="line">    margin-top <span class="number">20px</span></span><br><span class="line">    text-align center</span><br><span class="line">    padding <span class="number">0</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider__item</span><br><span class="line">    flex-direction column</span><br><span class="line"></span><br><span class="line">  .blog-slider__img</span><br><span class="line">  .blog-slider__content</span><br><span class="line">    padding-left <span class="number">10px</span></span><br><span class="line">    padding-right <span class="number">10px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider__pagination.swiper-pagination-clickable.swiper-pagination-bullets</span><br><span class="line">    top <span class="number">230px</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>添加自定义文件之后需要在 themes&#x2F;stellar&#x2F;source&#x2F;css&#x2F;main.styl 中引用</p><figure class="highlight stylus"><figcaption><span>themes/stellar/source/css/main.styl</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义样式</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;_custom/*&#x27;</span></span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920102106017.png" fancybox="true"/></div></div><h4 id="增改-文件"><a href="#增改-文件" class="headerlink" title="增改 文件"></a>增改 文件</h4><p>添加如下代码：</p><figure class="highlight plaintext"><figcaption><span>blog/themes/stellar/layout/_partial/scripts/index.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// -------- start 自定义首页文章轮播</span><br><span class="line"> if (&#x27;&lt;%- theme.customSwiperTopArticle.enable %&gt;&#x27; == &#x27;true&#x27;) &#123;</span><br><span class="line">   stellar.plugins.customSwiperTopArticle = Object.assign(&lt;%- JSON.stringify(theme.customSwiperTopArticle) %&gt;);</span><br><span class="line"> &#125;</span><br><span class="line"> // -------- end 自定义首页文章轮播</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920102436788.png" fancybox="true"/></div></div><h5 id=""><a href="#" class="headerlink" title=""></a></h5><figure class="highlight plaintext"><figcaption><span>blog/themes/stellar/layout/index.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">function layout_post_pin_article(type,post,content)&#123;</span><br><span class="line">  var el=&#x27;&#x27;;</span><br><span class="line">  if(post.post===undefined)&#123;</span><br><span class="line">    post.post=&#x27;article&#x27;;</span><br><span class="line">  &#125;</span><br><span class="line">  //文章简述</span><br><span class="line">  var articleDescription=&#x27;&#x27;;</span><br><span class="line">  if(post.excerpt)&#123;</span><br><span class="line">    articleDescription=strip_html(post.excerpt)</span><br><span class="line">  &#125;else if(post.description)&#123;</span><br><span class="line">    articleDescription=post.description</span><br><span class="line">  &#125;else if(post.content&amp;&amp;theme.article.auto_excerpt&gt;0)&#123;</span><br><span class="line">    articleDescription=truncate(strip_html(post.content),&#123;length:theme.article.auto_excerpt&#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  el +=&#x27;&lt;div class=&quot;blog-slider__item swiper-slide&quot;&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;a class=&quot;blog-slider__img&quot; href=&quot;&#x27; + url_for(post.link || post.path) + &#x27;&quot;&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;img width=&quot;48&quot; height=&quot;48&quot; no-lazy src=&quot;&#x27; + post.swiper_thumbnail + &#x27;&quot; alt=&quot;&quot;/&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;/a&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;div class=&quot;blog-slider__content&quot;&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;span class=&quot;blog-slider__code&quot;&gt;&#x27;+ date(post.date,config.date_format) +&#x27;&lt;/span&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;a class=&quot;blog-slider__title&quot; href=&quot;&#x27; + url_for(post.link || post.path) + &#x27;&quot; title=&quot;&#x27;+ (post.title || post.seo_title) +&#x27;&quot;&gt;&#x27;+(post.title || post.seo_title) +&#x27;&lt;/a&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;div class=&quot;blog-slider__text&quot;&gt;&#x27;+articleDescription +&#x27;&lt;/div&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;a class=&quot;blog-slider__button&quot; href=&quot;&#x27; + url_for(post.link || post.path) + &#x27;&quot;&gt;详情&lt;/a&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;/div&gt;&#x27;;</span><br><span class="line">  el +=&#x27;&lt;/div&gt;&#x27;;</span><br><span class="line">  return el;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function layout_posts(partial) &#123;</span><br><span class="line">  var el = &#x27;&#x27;;</span><br><span class="line">  el += &#x27;&lt;div class=&quot;post-list post&quot;&gt;&#x27;;</span><br><span class="line">  if (is_home()) &#123;</span><br><span class="line">    // pinned posts</span><br><span class="line">    const pinned = site.posts.filter(function(post)&#123;</span><br><span class="line">      return post.pin !== undefined;</span><br><span class="line">    &#125;).sort((config.index_generator &amp;&amp; config.index_generator.order_by) || &#x27;-date&#x27;);</span><br><span class="line"></span><br><span class="line">    if (page.current === 1) &#123;</span><br><span class="line">      el += &#x27;&lt;div id=&quot;_custom-post-categories&quot;&gt;&lt;/div&gt;&#x27;;</span><br><span class="line">      if(theme.customSwiperTopArticle.enable)&#123;</span><br><span class="line">        el+=&#x27;&lt;div class=&quot;blog-slider swiper-container-fade swiper-container-horizontal&quot; id=&quot;swiper_container&quot;&gt;&#x27;;</span><br><span class="line">        el+=&#x27;&lt;div class=&quot;blog-slider__wrp swiper-wrapper&quot;&gt;&#x27;;</span><br><span class="line">        pinned.forEach((post,i)=&gt;&#123;</span><br><span class="line">          el+=layout_post_pin_article(&#x27;post&#x27;,post,partial(post));</span><br><span class="line">        &#125;);</span><br><span class="line">        el+=&#x27;&lt;/div&gt;&#x27;;</span><br><span class="line">        el+=&#x27;&lt;div class=&quot;blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets&quot;&gt;&lt;/div&gt;&#x27;;</span><br><span class="line">        el+=&#x27;&lt;/div&gt;&#x27;;</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        pinned.forEach((post,i)=&gt;&#123;</span><br><span class="line">          el += layout_post_card(&#x27;post&#x27;,post,partial(post));</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // unpinned posts</span><br><span class="line">    page.posts.each(function(post)&#123;</span><br><span class="line">      if (theme.customSwiperTopArticle.enable) &#123;</span><br><span class="line">        el += layout_post_card(&#x27;post&#x27;, post, partial(post));</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        if(post.pin == undefined)&#123;</span><br><span class="line">          el += layout_post_card(&#x27;post&#x27;,post,partial(post));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    page.posts.each(function(post)&#123;</span><br><span class="line">      el += layout_post_card(&#x27;post&#x27;, post, partial(post));</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  el += &#x27;&lt;/div&gt;&#x27;;</span><br><span class="line">  return el;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920103014118.png" fancybox="true"/></div></div><p>起始位置在<code>function layout_post_card</code>的下面</p><p>覆盖了<code>function layout_posts</code></p><p>末尾在<code>function layout_wikis</code>的上方</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920103135355.png" fancybox="true"/></div></div><figure class="highlight js"><figcaption><span>blog/themes/stellar/source/js/main.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// swiper</span></span><br><span class="line"><span class="comment">// ------------------- start 首页置顶文章轮播  新增</span></span><br><span class="line"><span class="keyword">if</span> (stellar.<span class="property">plugins</span>.<span class="property">swiper</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> swiper_container = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;swiper_container&#x27;</span>);</span><br><span class="line">  <span class="keyword">if</span> (swiper_container !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">    stellar.<span class="title function_">loadCSS</span>(stellar.<span class="property">plugins</span>.<span class="property">customSwiperTopArticle</span>.<span class="property">css</span>);</span><br><span class="line">    stellar.<span class="title function_">loadScript</span>(stellar.<span class="property">plugins</span>.<span class="property">customSwiperTopArticle</span>.<span class="property">js</span>, &#123;<span class="attr">defer</span>:<span class="literal">true</span>&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> swiper = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&#x27;.blog-slider&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">passiveListeners</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">spaceBetween</span>: <span class="number">30</span>,</span><br><span class="line">        <span class="attr">effect</span>: <span class="string">&#x27;fade&#x27;</span>,</span><br><span class="line">        <span class="attr">loop</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">autoplay</span>: &#123;</span><br><span class="line">          <span class="attr">disableOnInteraction</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">delay</span>: <span class="number">3000</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">mousewheel</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="comment">// autoHeight: true,</span></span><br><span class="line">        <span class="attr">pagination</span>: &#123;</span><br><span class="line">          <span class="attr">el</span>: <span class="string">&#x27;.blog-slider__pagination&#x27;</span>,</span><br><span class="line">          <span class="attr">clickable</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      swiper_container.<span class="property">onmouseenter</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        swiper.<span class="property">autoplay</span>.<span class="title function_">stop</span>();</span><br><span class="line">      &#125;;</span><br><span class="line">      swiper_container.<span class="property">onmouseleave</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        swiper.<span class="property">autoplay</span>.<span class="title function_">start</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">// ------------------- end 首页置顶文章轮播  新增</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// swiper</span></span><br><span class="line">  <span class="keyword">const</span> swiper_api = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;swiper-api&#x27;</span>);</span><br><span class="line">  <span class="keyword">if</span> (swiper_api != <span class="literal">undefined</span>) &#123;</span><br><span class="line">    stellar.<span class="title function_">loadCSS</span>(stellar.<span class="property">plugins</span>.<span class="property">swiper</span>.<span class="property">css</span>);</span><br><span class="line">    stellar.<span class="title function_">loadScript</span>(stellar.<span class="property">plugins</span>.<span class="property">swiper</span>.<span class="property">js</span>, &#123;<span class="attr">defer</span>:<span class="literal">true</span>&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> swiper = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&#x27;.swiper-container&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">slidesPerView</span>: <span class="string">&#x27;auto&#x27;</span>,</span><br><span class="line">        <span class="attr">spaceBetween</span>: <span class="number">8</span>,</span><br><span class="line">        <span class="attr">centeredSlides</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">loop</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pagination</span>: &#123;</span><br><span class="line">          <span class="attr">el</span>: <span class="string">&#x27;.swiper-pagination&#x27;</span>,</span><br><span class="line">          <span class="attr">clickable</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">navigation</span>: &#123;</span><br><span class="line">          <span class="attr">nextEl</span>: <span class="string">&#x27;.swiper-button-next&#x27;</span>,</span><br><span class="line">          <span class="attr">prevEl</span>: <span class="string">&#x27;.swiper-button-prev&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920103418577.png" fancybox="true"/></div></div><h5 id="引入swiper轮播图插件"><a href="#引入swiper轮播图插件" class="headerlink" title="引入swiper轮播图插件"></a>引入swiper轮播图插件</h5><figure class="highlight yaml"><figcaption><span>blog/_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自定义swiper文章置顶</span></span><br><span class="line"><span class="attr">customSwiperTopArticle:</span></span><br><span class="line"> <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"> <span class="attr">css:</span> <span class="string">https://cdn.jsdelivr.net/gh/XuxuGood/simple-blog-cdn@main/css/swiper/swiper.min.css</span></span><br><span class="line"> <span class="attr">js:</span> <span class="string">https://cdn.jsdelivr.net/gh/XuxuGood/simple-blog-cdn@main/js/swiper/swiper.min.js</span></span><br><span class="line"> <span class="attr">init_js:</span> <span class="string">https://cdn.jsdelivr.net/gh/XuxuGood/simple-blog-cdn@main/js/swiper/swiper_init.js</span></span><br></pre></td></tr></table></figure><h5 id="正式使用"><a href="#正式使用" class="headerlink" title="正式使用"></a>正式使用</h5><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920103603509.png" fancybox="true"/></div></div><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pin:</span> <span class="literal">true</span> <span class="comment"># 是否置顶</span></span><br><span class="line"><span class="attr">swiper_thumbnail:</span> <span class="string">图片地址</span></span><br></pre></td></tr></table></figure><h5 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h5><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920103710944.png" fancybox="true"/></div></div><p>由于字少，没有将左边顶过去</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920103804435.png" fancybox="true"/></div></div><h5 id="bug和缺陷"><a href="#bug和缺陷" class="headerlink" title="bug和缺陷"></a>bug和缺陷</h5><p>将鼠标放在文字那一块有一个图片放大放大镜图标<br>在除了主页外就会报错，待修(不过不影响使用)，最大的问题应该是加载的问题，图片比js早就会出现分离的状况</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20230920205655436.png" fancybox="true"/></div></div><h4 id="footer-content文本居中"><a href="#footer-content文本居中" class="headerlink" title="footer:content文本居中"></a>footer:content文本居中</h4><p>嗯，怎么嗦呢，他这个都是有点偏左，我某名奇妙就是想让这块部分居中，神奇吧？！那就开干吧</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231230133420214.png" fancybox="true"/></div></div><p>方法一</p><p>使用css对样式调整一下，然后在head导入css。需要对css选择器和样式有一定了解。</p><figure class="highlight css"><figcaption><span>blog/source/css/override.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-footer</span> <span class="selector-class">.text</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><figcaption><span>blog/_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/override.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>方法二</p><p>使用<code>&lt;center&gt;</code>标签</p><figure class="highlight yaml"><figcaption><span>blog\_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    &lt;center&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;本破站由 &lt;a href=&quot;/&quot;&gt;@BXZDYG&lt;/a&gt; 使用 &lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://github.com/xaoxuu/hexo-theme-stellar&quot;&gt;Stellar&lt;/a&gt; 主题创建。&lt;br&gt;本博客部分素材来源于网络，如有侵权请联系&lt;a href=&quot;mailto:1476341845@qq.com&quot;&gt;1476341845@qq.com&lt;/a&gt;删除&lt;br&gt;本博客所有文章除特别声明外，均采用 &lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;CC BY-NC-SA 4.0&lt;/a&gt; 许可协议，转载请注明出处。&lt;/p&gt; </span></span><br><span class="line"><span class="string">    &lt;/center&gt;</span></span><br></pre></td></tr></table></figure><p>使用这种方式嵌套<code>*[@BXZDYG](/)*</code>这类markdown语法无法进行正常转义，需要先运行一次，将对应的html元素复制下来，放到这里。</p><h4 id="更换代码高亮显示"><a href="#更换代码高亮显示" class="headerlink" title="更换代码高亮显示"></a>更换代码高亮显示</h4><p>诱因：默认的无法识别vue</p><p>待编辑……qwq(其实写了的，一定是不见了！)</p><h4 id="图片点击放大"><a href="#图片点击放大" class="headerlink" title="图片点击放大"></a>图片点击放大</h4><p>官方文档很详细的说明了</p><blockquote><p><a href="https://xaoxuu.com/wiki/stellar/tag-plugins/express/#%E6%94%AF%E6%8C%81-Fancybox-%E6%8F%92%E4%BB%B6%E7%82%B9%E5%87%BB%E6%94%BE%E5%A4%A7">Stellar：表达类标签组件（15+个） - XAOXUU</a></p></blockquote><p>但是居然你跟着我一步一步的配置，那我就不能不提，我觉得这个很重要</p><h5 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h5><figure class="highlight yaml"><figcaption><span>blog\_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tag_plugins:</span></span><br><span class="line">  <span class="attr">image:</span></span><br><span class="line">    <span class="attr">fancybox:</span> <span class="literal">true</span> <span class="comment"># true, false  # 全局配置图片点击放大</span></span><br></pre></td></tr></table></figure><h5 id="局部配置"><a href="#局部配置" class="headerlink" title="局部配置"></a>局部配置</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image ./index/image-20230809162752613.png fancybox:true %&#125;</span><br></pre></td></tr></table></figure><h4 id="黑夜模式"><a href="#黑夜模式" class="headerlink" title="黑夜模式"></a>黑夜模式</h4><h5 id="前人的肩膀"><a href="#前人的肩膀" class="headerlink" title="前人的肩膀"></a>前人的肩膀</h5><blockquote><p><a href="https://blog.thatcoder.cn/Stellar%E5%8F%AF%E6%8E%A7%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F/">Stellar可控夜间模式 - 那个码农 (thatcoder.cn)</a></p></blockquote><p>stellar本来就提供了dark模式，不过做不到手动切换，找到一个大佬提取了样式，head中插入js代码，然后由css检验并展示当前是什么模式，中间用到了<code>localStorage</code>存储主题模式</p><p>不过还是有些样式没有照顾到位，比如引入一些stellar大佬支持的评论，对应的评论样式比较突兀，原方法的博主，通过css选择器，没有判断下面标签有没有存在，导致在wiki页面会弹一个错误（强迫症），虽然影响不大，还有跟随模式到底是什么呢？</p><p>新建两个文件，没有就大胆创建，因为这是我们自己加的。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">blog\source\css\darkmode.css</span><br><span class="line">blog\source\js\darkmode.js</span><br></pre></td></tr></table></figure><h5 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h5><p>先提取对应的css样式，设置不同的类名，以便于之后自动切换样式</p><figure class="highlight css"><figcaption><span>blog\source\css\darkmode.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#Dark</span><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attr">--site-bg</span>: <span class="number">#1c1e21</span>;</span><br><span class="line">    <span class="attr">--card</span>: <span class="number">#373d43</span>;</span><br><span class="line">    <span class="attr">--block</span>: <span class="number">#26292c</span>;</span><br><span class="line">    <span class="attr">--block-border</span>: <span class="number">#383d42</span>;</span><br><span class="line">    <span class="attr">--block-hover</span>: <span class="number">#2f3337</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#b3b3b3</span>;</span><br><span class="line">    <span class="attr">--text-p3</span>: <span class="number">#858585</span>;</span><br><span class="line">    <span class="attr">--text-p4</span>: <span class="number">#707070</span>;</span><br><span class="line">    <span class="attr">--text-meta</span>: <span class="number">#4d4d4d</span>;</span><br><span class="line">    <span class="attr">--text-code</span>: <span class="number">#ff6333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">667px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#Dark</span><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">        <span class="attr">--site-bg</span>: <span class="number">#000</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attr">--blur-bg</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.float-panel</span> &#123;</span><br><span class="line">    <span class="attr">--blur-bg</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.4</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-class">.tag</span> &#123;</span><br><span class="line">    <span class="attr">--theme</span>: <span class="number">#ff6333</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#3d1e14</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#2f2522</span>;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#5c2d1f</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#ffc4b3</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#dfae9f</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#f1997e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;red&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--theme</span>: <span class="number">#f44336</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#3d1714</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#2f2322</span>;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#5c231f</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#ffb8b3</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#dfa49f</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#f1867e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;orange&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--theme</span>: <span class="number">#fa6400</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#3d2514</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#2f2722</span>;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#5c371f</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#ffd1b3</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#dfb99f</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#f1ac7e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;yellow&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--theme</span>: <span class="number">#ffbd2b</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#3d3014</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#2f2b22</span>;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#5c491f</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#ffe7b3</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#dfcb9f</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#f1cd7e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;green&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--theme</span>: <span class="number">#3dc550</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#143d1a</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#222f24</span>;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#1f5c27</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#b3ffbd</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#9fdfa8</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#7ef18e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;cyan&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--theme</span>: <span class="number">#1bcdfc</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#14353d</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#222d2f</span>;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#1f4f5c</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#b3efff</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#9fd2df</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#7ed9f1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;blue&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--theme</span>: <span class="number">#2196f3</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#142b3d</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#222a2f</span>;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#1f415c</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#b3ddff</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#9fc3df</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#7ebef1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;purple&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--theme</span>: <span class="number">#9c27b0</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#37143d</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#2d222f</span>;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#531f5c</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#f4b3ff</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#d69fdf</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#e07ef1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;light&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#e0e0e0</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#000</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#111</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#1f1f1f</span>;</span><br><span class="line">    <span class="attr">--text-p3</span>: <span class="number">#555</span>;</span><br><span class="line">    <span class="attr">--text-code</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;dark&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--theme-border</span>: <span class="number">#000</span>;</span><br><span class="line">    <span class="attr">--theme-bg1</span>: <span class="number">#1f1f1f</span>;</span><br><span class="line">    <span class="attr">--theme-bg2</span>: <span class="number">#111</span>;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#e0e0e0</span>;</span><br><span class="line">    <span class="attr">--text-p3</span>: <span class="number">#ddd</span>;</span><br><span class="line">    <span class="attr">--text-code</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;warning&#x27;</span>]</span>,</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.tag-plugin</span><span class="selector-attr">[color=<span class="string">&#x27;light&#x27;</span>]</span> &#123;</span><br><span class="line">    <span class="attr">--text-p0</span>: <span class="number">#000</span>;</span><br><span class="line">    <span class="attr">--text-p1</span>: <span class="number">#111</span>;</span><br><span class="line">    <span class="attr">--text-p2</span>: <span class="number">#1f1f1f</span>;</span><br><span class="line">    <span class="attr">--text-p3</span>: <span class="number">#555</span>;</span><br><span class="line">    <span class="attr">--text-code</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.social-wrap</span> <span class="selector-tag">a</span><span class="selector-class">.social</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* waline评论样式 */</span></span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.wl-count</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">375em</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.25em</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#Dark</span> <span class="selector-class">.cmt-body</span><span class="selector-class">.waline</span>&#123;</span><br><span class="line">    <span class="attr">--waline-white</span>: <span class="number">#000</span>;</span><br><span class="line">    <span class="attr">--waline-light-grey</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attr">--waline-dark-grey</span>: <span class="number">#999</span>;</span><br><span class="line">    <span class="comment">/* 布局颜色 */</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">--waline-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attr">--waline-bgcolor</span>: <span class="built_in">var</span>(--block);</span><br><span class="line">    <span class="attr">--waline-bgcolor-light</span>: <span class="number">#272727</span>;</span><br><span class="line">    <span class="attr">--waline-border-color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attr">--waline-disable-bgcolor</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attr">--waline-disable-color</span>: <span class="number">#272727</span>;</span><br><span class="line">    <span class="comment">/* 特殊颜色 */</span></span><br><span class="line">    <span class="attr">--waline-bq-color</span>: <span class="number">#272727</span>;</span><br><span class="line">    <span class="comment">/* 其他颜色 */</span></span><br><span class="line">    <span class="attr">--waline-info-bgcolor</span>: <span class="number">#272727</span>;</span><br><span class="line">    <span class="attr">--waline-info-color</span>: <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h5><figure class="highlight js"><figcaption><span>blog\source\js\darkmode.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 监听系统主题</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> &#123;<span class="type">MediaQueryList</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">OSTheme</span> = <span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(<span class="string">&#x27;(prefers-color-scheme: dark)&#x27;</span>);</span><br><span class="line"><span class="title class_">OSTheme</span>.<span class="title function_">addListener</span>(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;Theme_Mode&#x27;</span>) === <span class="string">&#x27;auto&#x27;</span>) &#123;</span><br><span class="line">        <span class="title class_">ThemeChange</span>(<span class="string">&#x27;auto&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自动模式 6:00-18:00-Light 18:00-6:00-Dark,开启后每三十分钟检查一次</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">AutoMode</span> = (<span class="params">htmlElement</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">var</span> hours = date.<span class="title function_">getHours</span>();</span><br><span class="line">    <span class="keyword">if</span> (hours &lt; <span class="number">18</span> &amp;&amp; hours &gt;= <span class="number">6</span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;html&quot;</span>).<span class="property">id</span> = <span class="string">&quot;Light&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;html&quot;</span>).<span class="property">id</span> = <span class="string">&quot;Dark&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// if (htmlElement.id === &quot;Light&quot;) &#123;    // 闪瞎你的眼模式（速度快一点的话）</span></span><br><span class="line">    <span class="comment">//     htmlElement.id = &quot;Dark&quot;;</span></span><br><span class="line">    <span class="comment">// &#125; else &#123; htmlElement.id = &quot;Light&quot;; &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> autoTimer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 修改博客主题</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> theme 亮为light,暗为dark,自动为auto</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@constructor</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">ThemeChange</span> = (<span class="params">theme</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 清除计时器</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(autoTimer);</span><br><span class="line">    <span class="comment">// 抽取元素</span></span><br><span class="line">    <span class="keyword">const</span> htmlElement = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;html&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> themeBtnIcon;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        themeBtnIcon = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#start &gt; aside &gt; footer &gt; div &gt; a:last-child &gt; i&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="comment">// 元素不存在</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (theme === <span class="string">&#x27;light&#x27;</span> || (theme === <span class="string">&#x27;auto&#x27;</span> &amp;&amp; !<span class="title class_">OSTheme</span>.<span class="property">matches</span>)) &#123;</span><br><span class="line">        htmlElement.<span class="property">id</span> = <span class="string">&quot;Light&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (themeBtnIcon) &#123;</span><br><span class="line">            themeBtnIcon.<span class="property">className</span> = <span class="string">&#x27;fa-solid fa-sun fa-spin fa-spin-reverse&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        htmlElement.<span class="property">id</span> = <span class="string">&quot;Dark&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (themeBtnIcon) &#123;</span><br><span class="line">            themeBtnIcon.<span class="property">className</span> = <span class="string">&#x27;fa-solid fa-moon fa-fade&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (theme === <span class="string">&#x27;auto&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (themeBtnIcon) &#123;</span><br><span class="line">            themeBtnIcon.<span class="property">className</span> = <span class="string">&#x27;fa-solid fa-circle-half-stroke fa-flip&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title class_">AutoMode</span>(htmlElement);</span><br><span class="line">        autoTimer = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title class_">AutoMode</span>(htmlElement);</span><br><span class="line">        &#125;, <span class="number">1000</span> * <span class="number">60</span> * <span class="number">30</span>); <span class="comment">// 半小时一次</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;Theme_Mode&#x27;</span>, theme);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 初始化博客主题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">switch</span> (<span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;Theme_Mode&#x27;</span>)) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;light&#x27;</span>:</span><br><span class="line">        <span class="title class_">ThemeChange</span>(<span class="string">&#x27;light&#x27;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;dark&#x27;</span>:</span><br><span class="line">        <span class="title class_">ThemeChange</span>(<span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">        <span class="title class_">ThemeChange</span>(<span class="string">&#x27;auto&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 切换主题模式</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 绑定按钮点击事件</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#start &gt; aside &gt; footer &gt; div &gt; a:last-child&quot;</span>).<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;Theme_Mode&#x27;</span>) === <span class="string">&#x27;auto&#x27;</span>) &#123;</span><br><span class="line">            hud.<span class="title function_">toast</span>(<span class="string">&#x27;🌞白天模式&#x27;</span>);</span><br><span class="line">            <span class="title class_">ThemeChange</span>(<span class="string">&#x27;light&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;Theme_Mode&#x27;</span>) === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">            hud.<span class="title function_">toast</span>(<span class="string">&#x27;🌙 夜间模式&#x27;</span>);</span><br><span class="line">            <span class="title class_">ThemeChange</span>(<span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            hud.<span class="title function_">toast</span>(<span class="string">&#x27;🌞/🌙 自动模式&#x27;</span>);</span><br><span class="line">            <span class="title class_">ThemeChange</span>(<span class="string">&#x27;auto&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="comment">// 元素不存在</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h5><figure class="highlight yaml"><figcaption><span>blog\_config.stellar.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">######## Footer ########</span></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">social:</span></span><br><span class="line">    <span class="attr">mode:</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">&#x27;&lt;i class=&quot;fa-solid fa-circle-half-stroke fa-flip&quot;&gt;&lt;/i&gt;&#x27;</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">javaScript:void(0);</span></span><br></pre></td></tr></table></figure><p>注意要结合上面js文件的css选择器，我的是最后一个a标签</p><h5 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h5><figure class="highlight yaml"><figcaption><span>blog\_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/darkmode.css&quot;&gt;</span> <span class="comment"># 黑夜样式</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/darkmode.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># 黑夜控制</span></span><br></pre></td></tr></table></figure><p>最后的最后，好好学前端，顺便给这个模式多加上一个动画，像是element-plus官网的那个，很炫酷。<psw>你们觉得卡吗？就两个计时器，页面怎么就这么卡</psw></p><h2 id="常见错误"><a href="#常见错误" class="headerlink" title="常见错误"></a>常见错误</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hexo : 无法将“hexo”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。</span><br><span class="line">所在位置 行:1 字符: 1</span><br><span class="line">+ hexo --<span class="built_in">help</span></span><br><span class="line">+ ~~~~</span><br><span class="line">    + CategoryInfo          : ObjectNotFound: (hexo:String) [], CommandNotFoundException</span><br><span class="line">    + FullyQualifiedErrorId : CommandNotFoundException</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20231229195955620.png" fancybox="true"/></div></div><p>没有进行全局安装，解决办法,将node_modules文件中的.bin文件设置环境变量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\....\blog\node_modules\.bin</span><br></pre></td></tr></table></figure><div class="tag-plugin image"><div class="image-bg"><img src="image-20231229200259736.png" fancybox="true"/></div></div><p>如果还是不行，那就使用<code>npm run</code> 之类的命令吧，每次运行项目你也可以看见的</p><p>在<code>package.json</code>中</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo generate&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;clean&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo clean&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;deploy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo deploy&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo server&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;new&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo new&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm run server <span class="comment"># 运行</span></span><br><span class="line">npm run clean <span class="comment">#清除public</span></span><br><span class="line">npm run build <span class="comment">#build public文件</span></span><br><span class="line">npm run new 文章 <span class="comment"># 创建文章</span></span><br><span class="line">npm run new page <span class="comment"># 创建页面</span></span><br><span class="line">npm run new draft <span class="comment"># 创建草稿 # 不会被build</span></span><br></pre></td></tr></table></figure><h2 id="更新后引起的错误"><a href="#更新后引起的错误" class="headerlink" title="更新后引起的错误"></a>更新后引起的错误</h2><h3 id="头代码中的参考资料"><a href="#头代码中的参考资料" class="headerlink" title="头代码中的参考资料"></a>头代码中的参考资料</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">references:</span><br><span class="line"><span class="bullet">  -</span> title: Django+cropper实现用户头像裁剪, 预览和上传 - 大江狗的文章 - 知乎 </span><br><span class="line"><span class="code">    url: https://zhuanlan.zhihu.com/p/41181618</span></span><br><span class="line"><span class="code">  - title:  在Django中如何限制上传文件的类型与大小_Sc.Crist的博客-CSDN博客</span></span><br><span class="line"><span class="code">    url: https://blog.csdn.net/weixin_51523373/article/details/117562387</span></span><br></pre></td></tr></table></figure><p>现象：无<code>build</code>正常文章，其他文章都能够生成</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231202339676.png" fancybox="true"/></div></div><p>新版本：<a href="https://xaoxuu.com/wiki/stellar/pages/index.html#%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0%E6%8E%A8%E8%8D%90">Stellar：编写文章以及独立页面 - XAOXUU</a></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">references:</span><br><span class="line"><span class="bullet">  -</span> &#x27;[<span class="string">Django+cropper实现用户头像裁剪, 预览和上传 - 大江狗的文章 - 知乎</span>](<span class="link">https://zhuanlan.zhihu.com/p/41181618</span>)&#x27;</span><br><span class="line"><span class="bullet">  -</span> &#x27;[<span class="string">在Django中如何限制上传文件的类型与大小_Sc.Crist的博客-CSDN博客</span>](<span class="link">https://blog.csdn.net/weixin_51523373/article/details/117562387</span>)&#x27;</span><br></pre></td></tr></table></figure><p>我大概明白这部分更新的意义是什么，就是可以直接复制到头代码里面，省去自己划分的时间，之前还需要划分一个<code>auth</code></p><h3 id="消失的tag"><a href="#消失的tag" class="headerlink" title="消失的tag"></a>消失的tag</h3><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231220107844.png" fancybox="true"/></div></div><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231220134560.png" fancybox="true"/></div></div><p>一刻也没有为tag哀悼，立刻赶来战场的是…<strong>hashtag</strong> !</p><div class="tag-plugin image"><div class="image-bg"><img src="image-20231231220903697.png" fancybox="true"/></div></div><h3 id="图片无非正常显示"><a href="#图片无非正常显示" class="headerlink" title="图片无非正常显示"></a>图片无非正常显示</h3><div class="tag-plugin image"><div class="image-bg"><img src="image-20240101084536051.png" fancybox="true"/></div></div><p>不知怎么评价，多<code>clean</code> <code> build</code>就好了</p>]]></content>
    
    
    <summary type="html">我要整一个又好看又好用的博客！😀</summary>
    
    
    
    <category term="记录" scheme="https://bxzdyg.cn/categories/%E8%AE%B0%E5%BD%95/"/>
    
    <category term="博客开发" scheme="https://bxzdyg.cn/categories/%E8%AE%B0%E5%BD%95/%E5%8D%9A%E5%AE%A2%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Hexo" scheme="https://bxzdyg.cn/tags/Hexo/"/>
    
    <category term="Stellar" scheme="https://bxzdyg.cn/tags/Stellar/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://bxzdyg.cn/p/hello-world/"/>
    <id>https://bxzdyg.cn/p/hello-world/</id>
    <published>2023-09-17T12:00:54.000Z</published>
    <updated>2024-01-01T11:42:13.099Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>从这里开始……</p><span id="more"></span><div class="tag-plugin poetry"><div class="content"><div class="title">岳阳楼记</div><div class="meta"><span>范仲淹</span></div><div class="body"><p>庆历四年春，滕子京谪守巴陵郡。越明年，政通人和，百废具兴，乃重修岳阳楼，增其旧制，刻唐贤今人诗赋于其上，属予作文以记之。</p><p>予观夫巴陵胜状，在洞庭一湖。衔远山，吞长江，浩浩汤汤，横无际涯，朝晖夕阴，气象万千，此则岳阳楼之大观也，前人之述备矣。然则北通巫峡，南极潇湘，迁客骚人，多会于此，览物之情，得无异乎？</p><p>若夫淫雨霏霏，连月不开，阴风怒号，浊浪排空，日星隐曜，山岳潜形，商旅不行，樯倾楫摧，薄暮冥冥，虎啸猿啼。登斯楼也，则有去国怀乡，忧谗畏讥，满目萧然，感极而悲者矣。</p><p>至若春和景明，波澜不惊，上下天光，一碧万顷，沙鸥翔集，锦鳞游泳，岸芷汀兰，郁郁青青。而或长烟一空，皓月千里，浮光跃金，静影沉璧，渔歌互答，此乐何极！登斯楼也，则有心旷神怡，宠辱偕忘，把酒临风，其喜洋洋者矣。</p><p>嗟夫！予尝求古仁人之心，或异二者之为，何哉？<strong>不以物喜，不以己悲，居庙堂之高则忧其民，处江湖之远则忧其君。是进亦忧，退亦忧。然则何时而乐耶？其必曰“先天下之忧而忧，后天下之乐而乐”乎！</strong>噫！微斯人，吾谁与归？</p><p>时六年九月十五日。</p></div><div class="footer">文言文节选</div></div></div><p>以《岳阳楼记》，以镇此楼。</p><div class="tag-plugin quot"><h2 class="content" id="你好世界" type="text"><a href="#你好世界" class="headerlink" title="你好世界"></a>你好世界</h2></div><p>&nbsp;&nbsp;很高兴在这里和你相遇，向你诉说着一些我的个人经历，还有我的个人性格。<br>&nbsp;&nbsp;我是一个理想主义者，对平等、正义、民主有很强烈的向往，也希望能够做一些造福于社会的事情。可我在生活中，在还没有完全开始，就已经意识到我个人的能力是如此低微。我只是一个空想主义者，或者白日梦想家。我不是那么勇敢，也不是那么聪明，也没有那么坚强。失败在我这是家常便饭，一心想做成最好的自己，于是我鼓起勇气，握紧双拳，尽力推动自己向前走，可总是忧虑很多事情而不敢向前迈步，对自己的人生方向一直很迷茫。<br>&nbsp;&nbsp;小时候对画画很感兴趣，也练了一段时间，参加了不少比赛，可是后来贪玩荒废了，大学期间想重拾画板，学习板绘想当一个画家，自诩自己是有一点天赋的，可不断练习了一段时间发现自己的水平依然还是我小学的水准。最后，还是继续学习编程，虽然这条路依然是那么艰难。</p><div class="tag-plugin quot"><h2 class="content" id="撤回" type="text"><a href="#撤回" class="headerlink" title="撤回"></a>撤回</h2></div><p>&nbsp;&nbsp;我不是来互联网卖惨的，虽然之前这段是一番自我愧疚和感动的片段，但是真的挺碍眼的，因我再怎么愧疚也改变不了现状，也没有太多能力。我对自己人生价值和活着的意义肯定是有定义的，可惜的就是我还不是实现自我价值的“我”。现在是新年新气象，我一定要扫去我的颓和衰，别太自卑了！——此段二〇二四年一月一日补评。</p><div class="tag-plugin quot"><h2 class="content" id="建站初衷" type="text"><a href="#建站初衷" class="headerlink" title="建站初衷"></a>建站初衷</h2></div><p>&nbsp;&nbsp;虽然最开始是为了给自己招聘加点分，但是已经建站了，那性质已然不是那么单一了，本着无私分享知识和分享个人经验的初心，和明确与国家相统一的立场，向着未来，前进！</p><div class="tag-plugin quot"><h2 class="content" id="感谢" type="text"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h2></div><p>&nbsp;&nbsp;我觉得我最大的优势就是能够发自真心的仰慕大佬，真真正正的钦佩大佬，我也一直站在大佬的肩上，借助大佬眺望远方。尤其是我就很仰慕小猪,一个学神，我曾经的初中同桌。</p><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />开源大佬</p></div><div class="tag-plugin users-wrap"><div class="group-body"><div class="user-card"><a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://xaoxuu.com"><img src="https://bu.dusays.com/2021/09/24/2f74810ceb3d3.png" onerror="javascript:this.removeAttribute(&quotdata-src&quot)this.src=&quothttps://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg&quot"/><div class="name"><span>xaoxuu</span></div></a></div></div></div><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />博客网站开发参考</p></div><div class="tag-plugin users-wrap"><div class="group-body"><div class="user-card"><a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://xaoxuu.com"><img src="https://bu.dusays.com/2021/09/24/2f74810ceb3d3.png" onerror="javascript:this.removeAttribute(&quotdata-src&quot)this.src=&quothttps://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg&quot"/><div class="name"><span>xaoxuu</span></div></a></div><div class="user-card"><a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://jhlzlove.github.io/"><img src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg" onerror="javascript:this.removeAttribute(&quotdata-src&quot)this.src=&quothttps://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg&quot"/><div class="name"><span>江湖浪子</span></div></a></div><div class="user-card"><a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.cayzlh.com/"><img src="https://www.cayzlh.com/avatar.svg" onerror="javascript:this.removeAttribute(&quotdata-src&quot)this.src=&quothttps://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg&quot"/><div class="name"><span>CAYZLH</span></div></a></div><div class="user-card"><a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.ezhixuan.xyz/"><img src="https://www.ezhixuan.xyz/img/avatar.jpg" onerror="javascript:this.removeAttribute(&quotdata-src&quot)this.src=&quothttps://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg&quot"/><div class="name"><span>Ezhixuan</span></div></a></div><div class="user-card"><a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://weekdaycare.cn"><img src="https://weekdaycare.cn/asset/avatar.svg" onerror="javascript:this.removeAttribute(&quotdata-src&quot)this.src=&quothttps://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg&quot"/><div class="name"><span>星日语</span></div></a></div><div class="user-card"><a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://chenliss.cn/"><img src="https://bu.dusays.com/2023/08/27/64eb384e49c82.jpg" onerror="javascript:this.removeAttribute(&quotdata-src&quot)this.src=&quothttps://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg&quot"/><div class="name"><span>Chenli</span></div></a></div><div class="user-card"><a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://blog.thatcoder.cn/"><img src="https://upyun.thatcdn.cn/hexo/stellar/image/favicon.webp" onerror="javascript:this.removeAttribute(&quotdata-src&quot)this.src=&quothttps://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg&quot"/><div class="name"><span>钟意博客</span></div></a></div><div class="user-card"><a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.kuhehe.top/"><img src="https://q1.qlogo.cn/g?b=qq&nk=3111349763&s=100" onerror="javascript:this.removeAttribute(&quotdata-src&quot)this.src=&quothttps://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/avatar/round/3442075.svg&quot"/><div class="name"><span>酷小呵</span></div></a></div></div></div><div class="tag-plugin quot"><h2 class="content" id="目标" type="text"><a href="#目标" class="headerlink" title="目标"></a>目标</h2></div><p>&nbsp;&nbsp;现在的博客目标就是完善我的博文，将我的笔记整理放在博文上。而且个性化依然还没有达到我的目标。个人目标就是感觉找到找一个工作。还需要不断的努力。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;从这里开始……&lt;/p&gt;</summary>
    
    
    
    <category term="记录" scheme="https://bxzdyg.cn/categories/%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="Hexo" scheme="https://bxzdyg.cn/tags/Hexo/"/>
    
    <category term="无痛呻吟" scheme="https://bxzdyg.cn/tags/%E6%97%A0%E7%97%9B%E5%91%BB%E5%90%9F/"/>
    
  </entry>
  
  <entry>
    <title>MySQL必备语句和授权🧠&amp;四十道练习题📜</title>
    <link href="https://bxzdyg.cn/p/MySQL%E5%BF%85%E5%A4%87%E8%AF%AD%E5%8F%A5%E5%92%8C%E6%8E%88%E6%9D%83-%E5%9B%9B%E5%8D%81%E9%81%93%E7%BB%83%E4%B9%A0%E9%A2%98/"/>
    <id>https://bxzdyg.cn/p/MySQL%E5%BF%85%E5%A4%87%E8%AF%AD%E5%8F%A5%E5%92%8C%E6%8E%88%E6%9D%83-%E5%9B%9B%E5%8D%81%E9%81%93%E7%BB%83%E4%B9%A0%E9%A2%98/</id>
    <published>2023-08-05T12:19:23.000Z</published>
    <updated>2023-12-31T13:01:03.343Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="必备SQL语句"><a href="#必备SQL语句" class="headerlink" title="必备SQL语句"></a>必备SQL语句</h2><p>SQL程序语言有四种类型，对数据库的基本操作都属于这四类，它们分别为；数据定义语言(DDL)、数据查询语言（DQL）、数据操纵语言（DML）、数据控制语言（DCL）</p><h3 id="类型分类"><a href="#类型分类" class="headerlink" title="类型分类"></a>类型分类</h3><h4 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h4><p>主要语法有</p><p><em>CREATE、ALTER、DROP和TRUNCATE</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE 表名称</span><br><span class="line">(</span><br><span class="line">列名称1 数据类型,</span><br><span class="line">列名称2 数据类型,</span><br><span class="line">列名称3 数据类型,</span><br><span class="line">....</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">ALTER TABLE table_name</span><br><span class="line">ALTER COLUMN column_name datatype</span><br><span class="line"></span><br><span class="line">DROP TABLE 表名称</span><br><span class="line">DROP DATABASE 数据库名称</span><br><span class="line">TRUNCATE TABLE 表名称</span><br></pre></td></tr></table></figure><h4 id="DQL"><a href="#DQL" class="headerlink" title="DQL"></a>DQL</h4><p>主要语法是</p><p><em>SELECT</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 列名称 FROM 表名称</span><br></pre></td></tr></table></figure><h4 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h4><p>主要语法有</p><p><em>INSERT、UPDATE、DELETE</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE 表名称 SET 列名称 = 新值 WHERE 列名称 = 某值</span><br><span class="line">INSERT INTO table_name (列1, 列2,...) VALUES (值1, 值2,....)</span><br><span class="line">DELETE FROM 表名称 WHERE 列名称 = 值</span><br></pre></td></tr></table></figure><h4 id="DCL"><a href="#DCL" class="headerlink" title="DCL"></a>DCL</h4><p>主要语法有</p><p><em>GRANT,REVOKE,COMMIT,ROLLBACK</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">GRANT 权限1, … , 权限n ON 数据库.对象  TO 用户名;</span><br><span class="line"></span><br><span class="line">REVOKE 权限1, … , 权限n ON 数据库.对象 FORM 用户名;</span><br><span class="line"></span><br><span class="line">BEGIN TRANSACTION  //事务开始</span><br><span class="line">SQL1</span><br><span class="line">SQL2</span><br><span class="line">COMMIT   //事务提交</span><br><span class="line"></span><br><span class="line">BEGIN TRANSACTION  //事务开始</span><br><span class="line">SQL1</span><br><span class="line">SQL2</span><br><span class="line"> ROLLBACK   //事务回滚</span><br></pre></td></tr></table></figure><hr><p>而基于上面的语法可以有很多操作,练习基础表,可以建表敲敲代码试试看</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE depart(</span><br><span class="line">id int not null primary key auto_increment,</span><br><span class="line">title varchar(16) not NULL)DEFAULT CHARSET=utf8;</span><br><span class="line">CREATE table info(</span><br><span class="line">id int not null primary key auto_increment,</span><br><span class="line">name varchar(20) not NULL,</span><br><span class="line">`email` varchar(20) NULL,</span><br><span class="line">age INT not NULL,</span><br><span class="line">`depart_id` int not NULL)DEFAULT CHARSET=utf8;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO `depart` VALUES (1, &#x27;开发&#x27;);</span><br><span class="line">INSERT INTO `depart` VALUES (2, &#x27;运营&#x27;);</span><br><span class="line">INSERT INTO `depart` VALUES (3, &#x27;销售&#x27;);</span><br><span class="line">INSERT INTO `info` VALUES (1, &#x27;abc&#x27;, &#x27;123@qq.com&#x27;, 20, 1);</span><br><span class="line">INSERT INTO `info` VALUES (2, &#x27;bobo&#x27;, &#x27;530@qq.com&#x27;, 20, 1);</span><br><span class="line">INSERT INTO `info` VALUES (3, &#x27;ccc&#x27;, &#x27;3321@163.com&#x27;, 10, 1);</span><br><span class="line">INSERT INTO `info` VALUES (4, &#x27;abc1&#x27;, &#x27;asda@qq.com&#x27;, 51, 2);</span><br><span class="line">INSERT INTO `info` VALUES (5, &#x27;1b&#x27;, &#x27;asd@qq.com&#x27;, 30, 3);</span><br><span class="line">INSERT INTO `info` VALUES (6, &#x27;cc&#x27;, &#x27;3321@163.coms&#x27;, 28, 1);</span><br></pre></td></tr></table></figure><h3 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">select * from info where id &gt;1;</span><br><span class="line">select * from info where id =1;</span><br><span class="line">select * from info where id &gt;=1;</span><br><span class="line">select * from info where id !=1;</span><br><span class="line">select * from info where id between 2 and 4; #2、4取得到</span><br><span class="line">SELECT * from info where id&gt;2 and id &lt;4;#只能取得到3</span><br><span class="line"> </span><br><span class="line">select * from  info where name =&#x27;abc&#x27; and age=20;</span><br><span class="line">select * from info where (name=&#x27;abc&#x27; or email=&quot;123@qq.com&quot;) and age =20;</span><br><span class="line">select * from info where ( email=&quot;530@qq.com&quot; or name=&#x27;abc&#x27;) and age =20;#返回两个</span><br><span class="line"></span><br><span class="line">select * from info where id in(1,4,6);</span><br><span class="line">select * from info where id not in (1,4,6);</span><br><span class="line">select * from info where id in (select id from depart); -- 只返回id=1的</span><br><span class="line">-- select * from info where depart_id in (select depart.id from depart where depart.id = 3);</span><br><span class="line">select * from info where depart_id in (select id from depart where id = 3); -- 我真服了自己在这里纠结这么久 一直写的是id in 而不是depart_id in</span><br><span class="line">select * from info where exists (select * from depart where id =3); --exists -- 用于判断，判断子查询有没有结果，有的话为TRUE 返回所有 没有则为False</span><br><span class="line"></span><br><span class="line">select * from info where not exists (select * from depart where id=3); -- 结果为空集,就是没有结果</span><br><span class="line"></span><br><span class="line">select * from (select * from info where id &gt;3) as T where T.age &gt;10;#T表示子查询语句，将临时查询的结果作为一张表</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h3><p>一般用于模糊查找</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- % 表示匹配任意字符</span><br><span class="line">select * from info where name like  &quot;%b%&quot;;</span><br><span class="line">select * from info where name like  &quot;%b&quot;;</span><br><span class="line">select * from info where email LIKE &quot;%@qq.com&quot;;</span><br><span class="line">select * from info where name like &quot;a%c&quot;;</span><br><span class="line">select * from info where email like &quot;3321%&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 一个_表示一个字符占位符</span><br><span class="line">select * from info where email like &quot;___@qq.com&quot;;</span><br><span class="line">select * from info where email like &quot;123_qq.co_&quot;;</span><br><span class="line">select * from info where email like &quot;_23_qq.co_&quot;;</span><br><span class="line"></span><br><span class="line">select * from info where email like &quot;%@__.com&quot;;</span><br></pre></td></tr></table></figure><p>注意：数量少，数据量大的搜索</p><h3 id="映射"><a href="#映射" class="headerlink" title="映射"></a>映射</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">select * from info;</span><br><span class="line"></span><br><span class="line">select id, name from info;</span><br><span class="line">select id, name as NM from info;</span><br><span class="line">select id, bane as MN,123from info;</span><br><span class="line"></span><br><span class="line">select max(id) from depart ;</span><br><span class="line">select min(id) from depart ;</span><br><span class="line">SELECT max(id) as mid ,min(id) as nid FROM depart;</span><br><span class="line">select </span><br><span class="line">id,</span><br><span class="line">name,</span><br><span class="line">666 as num,</span><br><span class="line">(select max(id) from depart) as mid,</span><br><span class="line">(select min(id) from depart) as nid, </span><br><span class="line">age</span><br><span class="line">from info;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 注意效率很低</span><br><span class="line"></span><br><span class="line">select </span><br><span class="line">id,</span><br><span class="line">name,</span><br><span class="line">(select title from depart where depart.id=info.id )as x1,</span><br><span class="line">(select title from depart where depart.id=info.depart_id) as x2</span><br><span class="line">FROM info;,</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">select </span><br><span class="line">id,</span><br><span class="line">name,</span><br><span class="line">case depart_id when 1 then &quot;第1部门&quot; end v1,</span><br><span class="line">case depart_id when 1 then &quot;第1部门&quot; else &quot;其他&quot; end v2,</span><br><span class="line">case depart_id when 1 then &quot;第1部门&quot; when 2 then &quot;第2部门&quot; else &quot;其他&quot; end v3,</span><br><span class="line">case when age&lt;18 then &quot;未成年&quot; end v4,</span><br><span class="line">    case when age&lt;18 then &quot;少年&quot; else &quot;老少年&quot; end v5,</span><br><span class="line">    case when age&lt;18 then &quot;少年&quot; when age&lt;30 then &quot;青年&quot; else &quot;大叔&quot; end v6</span><br><span class="line">from info;</span><br><span class="line"></span><br><span class="line">/* </span><br><span class="line">UPDATE info SET age_level = </span><br><span class="line">    CASE </span><br><span class="line">        WHEN age BETWEEN 0 AND 10 THEN 1</span><br><span class="line">        WHEN age BETWEEN 11 AND 20 THEN 2</span><br><span class="line">        WHEN age BETWEEN 21 AND 30 THEN 3</span><br><span class="line">        WHEN age BETWEEN 31 AND 40 THEN 4</span><br><span class="line">        ELSE 5</span><br><span class="line">    END ; </span><br><span class="line">*/</span><br></pre></td></tr></table></figure><h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">select * from info order by age desc; -- 倒数</span><br><span class="line">select * from info order by age asc; -- 顺序</span><br><span class="line"></span><br><span class="line">select * from info order by id desc;</span><br><span class="line">select * from info order by id asc;</span><br><span class="line"></span><br><span class="line">select * from info order by age asc ,id desc; -- 优先按照age从小到大,如果age相同则按照id从大到小。</span><br><span class="line">select * from info where id &gt;2 order by age asc ,id desc;</span><br><span class="line">select * from info where id &gt;3 or name like &quot;%qq.com&quot; order by age asc ,id desc;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="取部分"><a href="#取部分" class="headerlink" title="取部分"></a>取部分</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select * from info limit 5;-- 获取前5条数据</span><br><span class="line">select * from info order by id desc limit 3;-- 先排序，再获取前3条数据</span><br><span class="line">select * from info where id &gt; 10 order by id desc limit 3;-- 先排序，在获取前3条数据</span><br><span class="line"></span><br><span class="line">select * from info limit 3 offset 2-- 从位置2开始，向后获取前3条数据（初始索引为0）</span><br></pre></td></tr></table></figure><h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select 字段名 from 表名 group by 字段名;</span><br><span class="line">select depart_id ,count(id) from info group by depart_id;  -- 分组依据的字段要放入查询结果中</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select age,max(id),min(id),sum(id),count(id),avg(id) from info group by age;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select age,name from info group by age; -- 不建议 因为同一个年龄下有多个姓名数据，所以会报错</span><br><span class="line">select * from info where id in (select max(id) from info group by age);</span><br><span class="line">-- 先括号内获取每个年龄段最大的id号，然后查询出来</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select age ,count(id) from info group by age having count(id) &gt; 2; -- 聚合条件</span><br><span class="line">SELECT age,count(id) FROM info WHERE id&gt;1 GROUP BY age HAVING count(id)&gt;0 ORDER BY age ASC;</span><br><span class="line">-- 统计范围id&gt;2且人数大于2的年龄，且结果以年龄升序</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 到目前为止SQL顺序</span><br><span class="line">where --</span><br><span class="line">group by-- 聚合条件</span><br><span class="line">having--</span><br><span class="line">order by--</span><br><span class="line">limit-- </span><br><span class="line">-- 用了group by 想要再进行二次筛选应该使用having</span><br><span class="line">-- where 可以单独使用 having只能分组后使用</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">select age,count(id) from info where id &gt;2 group by age having count(id)&gt;1 order by age desc limit 1;</span><br><span class="line">-要查询的表info</span><br><span class="line">-条件 id&gt;2</span><br><span class="line">-根据age分组</span><br><span class="line">-过滤数量小于等于1</span><br><span class="line">-根据age降序排序</span><br><span class="line">-获取第一条</span><br><span class="line">SELECT age,count(id) FROM info WHERE id&gt;1 GROUP BY age HAVING count(id)&gt;0 ORDER BY age ASC limit 1;</span><br></pre></td></tr></table></figure><h3 id="连表"><a href="#连表" class="headerlink" title="连表"></a>连表</h3><p>多个表可以连接起来查询</p><h4 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">主表 left outer join 从表 on 主表.x =从表.id</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from info left outer join depart on info.depart_id=depart.id; -- 向外表进行左连接，表示这个表为主表.连接条件为depart_id</span><br><span class="line">select info.id,info.name,info.email,depart.title from info left outer join depart on info.depart_id=depart.id;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">从表 right outer join  主表 on主表.字段=从表.字段</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from depart right outer join  info on depart.id=info.depart_id;</span><br></pre></td></tr></table></figure><p>主表在左从表在右</p><p>为了更加直接的查看效果，我们分别在depart表和info中额外插入一条数据。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">insert into depart(title) values(&quot;安全&quot;);</span><br><span class="line">insert into info(name,email,age,depart_id) values(&quot;蛮吉&quot;,&quot;sjs@kuiba.com&quot;,2012);</span><br></pre></td></tr></table></figure><p>左外连接</p><p><img src="/image-20230601214446343.png" alt="image-20230601214446343"></p><p>右外连接</p><p><img src="/image-20230601215212688.png" alt="image-右外连接"></p><p>简写</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from depart left join info on ...</span><br></pre></td></tr></table></figure><h4 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h4><p>有对应关系才显示，没有就忽略掉</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from info  inner join depart on info.depart_id=depart.id;</span><br><span class="line">-- 注意这里没有左右了</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">到目前位置的SQL执行顺序</span><br><span class="line">select</span><br><span class="line">from</span><br><span class="line">join on</span><br><span class="line">where -- (select from)</span><br><span class="line">group by</span><br><span class="line">having -- (和group by绑定)</span><br><span class="line">order by</span><br><span class="line">limit</span><br></pre></td></tr></table></figure><h3 id="联合"><a href="#联合" class="headerlink" title="联合"></a>联合</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">select id,title from depart</span><br><span class="line">union</span><br><span class="line">select id,name from info;</span><br><span class="line"></span><br><span class="line">-- 列数需相同,就能连接。</span><br><span class="line">-- 列数指的是查询结果为几列的列</span><br><span class="line"></span><br><span class="line">select id,title from depart</span><br><span class="line">union</span><br><span class="line">select email,name from info;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select id from depart</span><br><span class="line">union</span><br><span class="line">select id from info;</span><br><span class="line"></span><br><span class="line">-- 自动去重,如果列名相同</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select id from depart</span><br><span class="line">union all</span><br><span class="line">select id from info;</span><br><span class="line"></span><br><span class="line">-- 保留所有</span><br></pre></td></tr></table></figure><h2 id="表关系"><a href="#表关系" class="headerlink" title="表关系"></a>表关系</h2><ul><li>单表</li><li>一对多</li><li>多对多</li></ul><p>外键约束</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE table info(</span><br><span class="line">id int not null primary key auto_increment,</span><br><span class="line">name varchar(20) not NULL,</span><br><span class="line">`email` varchar(20) NULL,</span><br><span class="line">age INT not NULL,</span><br><span class="line">`depart_id` int not NULL,</span><br><span class="line">    constraint fk_info_depart foreign key (depart_id) references depart(id)</span><br><span class="line">    </span><br><span class="line">)DEFAULT CHARSET=utf8;</span><br></pre></td></tr></table></figure><p>如果表已经建 好了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table info add constraint fk_info_depart foreign key info(depart_id) references depart(id);</span><br></pre></td></tr></table></figure><p>删除外键</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table info drop foreign key fk_info_depart;</span><br></pre></td></tr></table></figure><p>外键条件<br>在我们使用外键的时候，应该遵循如下条件：</p><p>外键要存在，首先必须保证表的引擎是 InnoDB（默认的存储引擎），如果不是 InnoDB 存储引擎，那么外键可以创建成功，但没有约束作用；<br>外键字段的字段类型（列类型），必须与父表的主键类型完全一致；<br>每张表中的外键名称不能重复；<br>增加外键的字段，如果数据已经存在，那么要保证数据与父表中的主键对应。<br>如果外键约束模式选择SET NULL ，那么字段必须允许为NULL，否则出现Cannot add foreign key constraint。</p><p>在以后项目开发时，设计表结构及其关系的是一个非常重要的技能。一般项目开始开发的步骤：</p><ul><li><p>需求调研</p></li><li><p>设计数据库表结构（根据需求）</p></li><li><p>项目开发（写代码）</p><p>大量的工作应该放在前2个步骤，前期的设计完成之后，后续的功能代码开发就比较简单了。</p></li></ul><h2 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h2><p>之前我们无论是基于Python代码还是自带客户端去连接MySQL时，均使用的是root账户，拥有对MySQL数据库操作的所有权限。</p><p><img src="/image-20230602105023159.png" alt="image-20230602105023159"></p><p>如果有多个程序的数据库都放在同一个MySQL中，如果程序都用root账户就存在风险了。<br>这种情况怎么办呢？</p><blockquote><p>在MySQL中支持创建账户，并给账户分配权限，例如：只拥有数据库A操作的权限、只拥有数据库B中某些表的权限、只拥有数据库B中某些表的读权限等。</p></blockquote><h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><p>在MySQL的默认数据库<code>mysql</code>中的<code>user</code>表中存储着所有的账户信息(含账户、权限等)。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line">mysql&gt; use mysql</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; SELECT user, authentication_string FROM user;</span><br><span class="line">+------------------+------------------------------------------------------------------------+</span><br><span class="line">| user             | authentication_string                                                  |</span><br><span class="line">+------------------+------------------------------------------------------------------------+</span><br><span class="line">| mysql.infoschema | $s$012$THISISACOMBINAcccccccccDPASSWORDcccccNEVasEaaaaUSED |</span><br><span class="line">| mysql.session    | $s$012$THISISACOMBINAcccccccccDPASSWORDcccccNEVasEaaaaUSED |</span><br><span class="line">| mysql.sys        | $s$012$THISISACOMBINAcccccccccDPASSWORDcccccNEVasEaaaaUSED |</span><br><span class="line">| root             | $s$012$THISISACOMBINAcccccccccDPASSWORDcccccNEVasEaaaaUSED  |</span><br><span class="line">+------------------+------------------------------------------------------------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">desc mysql.`user`</span><br><span class="line">-- 查看权限</span><br></pre></td></tr></table></figure><h4 id="创建和删除用户"><a href="#创建和删除用户" class="headerlink" title="创建和删除用户"></a>创建和删除用户</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user &#x27;用户名&#x27;@&#x27;连接者的IP地址&#x27; identified by &#x27;密码&#x27;;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">create user bobo@127.0.0.1 identified by &#x27;root&#x27;;</span><br><span class="line">drop user bobo@127.0.0.1;</span><br><span class="line"></span><br><span class="line">create user bobo1@&#x27;127.0.0.%&#x27; identified by &#x27;root&#x27;;</span><br><span class="line">drop user bobo1@&#x27;127.0.0.%&#x27;;</span><br><span class="line"></span><br><span class="line">create user bobo2@&#x27;%&#x27; identified by &#x27;root&#x27;;</span><br><span class="line">drop user bobo@&#x27;%&#x27;;</span><br><span class="line"></span><br><span class="line">create user &#x27;bobo3&#x27;@&#x27;%&#x27; identified by &#x27;root&#x27;;</span><br><span class="line">drop user &#x27;bobo3&#x27;@&#x27;%&#x27;;</span><br></pre></td></tr></table></figure><h4 id="修改用户"><a href="#修改用户" class="headerlink" title="修改用户"></a>修改用户</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename user &#x27;用户名&#x27;@&#x27;连接者ip地址&#x27; identified by &#x27;密码&#x27;;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rename user bobo@127.0.0.1 to bobo@localhost;</span><br><span class="line">rename user &#x27;bobo&#x27;@&#x27;127.0.0.1&#x27; to &#x27;bobo&#x27;@&#x27;localhost&#x27;;</span><br></pre></td></tr></table></figure><h4 id="修改密码-mysql-5-7"><a href="#修改密码-mysql-5-7" class="headerlink" title="修改密码(mysql&#x3D;&#x3D;5.7)"></a>修改密码(mysql&#x3D;&#x3D;5.7)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set password for &#x27;用户名&#x27;@&#x27;ip地址&#x27;=Password(&#x27;新密码&#x27;);</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set password for &#x27;bobo&#x27;@&#x27;127.0.0.1&#x27;=Password(&#x27;123&#x27;)</span><br></pre></td></tr></table></figure><h3 id="授权管理"><a href="#授权管理" class="headerlink" title="授权管理"></a>授权管理</h3><p>创建好用户后就可以进行授权了</p><ul><li><p>授权</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant 权限 on 数据库.表 to &#x27;用户&#x27;@&#x27;ip地址&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on *.* TO &#x27;bobo&#x27;@&#x27;localhost&#x27;;</span><br><span class="line">-- 用户bobo且在本地时拥有所有权限</span><br><span class="line">grant all privileges on django_test.* TO &#x27;bobo&#x27;@&#x27;localhost&#x27;;</span><br><span class="line">-- 用户bobo且在本地时拥有django_test库所有权限</span><br><span class="line">grant all privileges on django_test.info to &#x27;bobo&#x27;@&#x27;localhost&#x27;;</span><br><span class="line">-- 用户bobo且在本地时拥有django_test库的info表所有权限</span><br><span class="line"></span><br><span class="line">grant select on django_test.info To &#x27;bobo&#x27;@&#x27;localhost&#x27;; </span><br><span class="line">-- 用户bobo且在本地时拥有django_test库select权限</span><br><span class="line">grant select,insert on django_test.* to &#x27;bobo&#x27;@&#x27;localhost&#x27;; </span><br><span class="line">-- 用户bobo且在本地时拥有django_test库select,insert权限</span><br><span class="line"></span><br><span class="line">-- 注意flush privileges; 将数据读取到内存，从而立即生效</span><br></pre></td></tr></table></figure><ul><li><p>对于权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">all privileges除grant外的所有权限</span><br><span class="line">select仅查权限</span><br><span class="line">select,insert查和插入权限</span><br><span class="line">...</span><br><span class="line">usage无访问权限</span><br><span class="line">alter使用alter table</span><br><span class="line">alter routine使用alter procedure和drop procedure</span><br><span class="line">create使用create table</span><br><span class="line">create routine使用create procedure</span><br><span class="line">create temporary tables使用create temporary tables</span><br><span class="line">create user使用create user、drop user、rename user和revoke all privileges</span><br><span class="line">create view使用create view</span><br><span class="line">delete使用delete</span><br><span class="line">drop使用drop table</span><br><span class="line">execute使用ca11和存储过程</span><br><span class="line">file使用select into outfile和load data infile</span><br><span class="line">grant option使用grant和revoke</span><br><span class="line">index使用index</span><br><span class="line">insert使用insert</span><br><span class="line">lock tables使用lock tab1e</span><br><span class="line">process使用show ful1 processlist</span><br><span class="line">select使用select</span><br><span class="line">show databases使用show databases</span><br><span class="line">show view使用show view</span><br><span class="line">update使用update</span><br><span class="line">reload使用f1ush</span><br><span class="line">shutdown使用mysqladmin shutdown(关闭MySQL)</span><br><span class="line">super使用change master、kill、logs、purge、master和set global。还允许mysqladmin调试登陆</span><br><span class="line">replication client服务器位置的访问</span><br><span class="line">replication slave由复制从属使用</span><br></pre></td></tr></table></figure></li><li><p>对数据库和表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数据库名数据库中的所有</span><br><span class="line">数据库.表名       指定数据库中的某张表</span><br><span class="line">数据库.存储过程名 指定数据库中的存储过程</span><br><span class="line">*。*</span><br></pre></td></tr></table></figure></li></ul></li><li><p>查看授权</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show grants for &#x27;用户&#x27;@&#x27;IP地址&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show grants for &#x27;bobo&#x27;@&#x27;localhost&#x27;;</span><br></pre></td></tr></table></figure></li><li><p>取消权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">revoke 权限 on数据库.表 from &#x27;用户&#x27;@&#x27;IP地址&#x27;;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">revoke all privileges on django_test.info.* from &#x27;bobo&#x27;@&#x27;localhost&#x27;;</span><br></pre></td></tr></table></figure></li></ul><p>一般情况下，在很多的正规公司，数据库都是由DBA来统一进行管理，DBA为每个项目的数据库创建用户，并赋予相关的权限。</p><h2 id="数据库的导入和导出"><a href="#数据库的导入和导出" class="headerlink" title="数据库的导入和导出"></a>数据库的导入和导出</h2><p>根据上图创建 数据库&amp;表结构 并录入数据（可以自行创造数据）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create database test default charset utf8 collate utf8_general_ci;</span><br><span class="line"></span><br><span class="line">drop database test;</span><br><span class="line">drop databases IF EXISTS test;#如果存在就删除</span><br></pre></td></tr></table></figure><p>利用导入数据库命令:</p><ul><li><p>导入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p test &lt; </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot &lt; /home/project/init-MySql.sql</span><br></pre></td></tr></table></figure></li><li><p>导出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 数据+结构</span><br><span class="line">mysqldump -u root -p test &gt; backup.sql</span><br><span class="line"></span><br><span class="line">mysqldump -u root -p database_name &gt;/home/project/init-MySql.sql</span><br><span class="line"># 结构</span><br><span class="line">mysqldump -u root -p -d test &gt; backup.sql</span><br></pre></td></tr></table></figure></li></ul><h2 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h2><p><img src="/image-20230804170225695m.png" alt="image-20230804170225695"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">1.根据上图创建数据库&amp;表结构并录入数据（可以自行创造数据）</span><br><span class="line">2.创建用户test_root并赋予此数据库的所有权限。</span><br><span class="line">3.查询姓“李&quot;的老师的个数。</span><br><span class="line">4.查询姓“张&quot;的学生名单。</span><br><span class="line">5.查询男生、女生的人数。</span><br><span class="line">6.查询同名同姓学生名单，并统计同名人数。</span><br><span class="line">7.查询“三年二班”的所有学生。</span><br><span class="line">8.查询每个班级的班级名称、班级人数。</span><br><span class="line">9.查询成绩小于60分的同学的学号、姓名、成绩、课程名称。</span><br><span class="line">10.查询选修了&quot;生物课&quot;的所有学生ID、学生姓名、成绩。</span><br><span class="line">11.查询选修了&quot;生物课”且分数低于60的的所有学生ID、学生姓名、成绩。</span><br><span class="line">12.查询所有同学的学号、姓名、选课数、总成绩。</span><br><span class="line">13.查询各科被选修的学生数。</span><br><span class="line">14.查询各科成绩的总分、最高分、最低分，显示：课程ID、课程名称、总分、最高分、最低分。</span><br><span class="line">15.查询各科成绩的平均分，显示：课程ID、课程名称、平均分。</span><br><span class="line">16.查询各科成绩的平均分，显示：课程ID、课程名称、平均分（按平均分从大到小排序）。</span><br><span class="line">17.查询各科成绩的平均分和及格率，显示：课程ID、课程名称、平均分、及格率。</span><br><span class="line">18.查询平均成绩大于60的所有学生的学号、平均成绩。</span><br><span class="line">19.查询平均成绩大于85的所有学生的学号、平均成绩、姓名。</span><br><span class="line">20.查询“三年二班”每个学生的学号、姓名、总成绩、平均成绩。</span><br><span class="line">21.查询各个班级的班级名称、总成绩、平均成绩、及格率（按平均成绩从大到小排序）</span><br><span class="line">22.查询学过“朱元璋”老师课的同学的学号、姓名。</span><br><span class="line">23.查询没学过“朱元璋”老师课的同学的学号、姓名。</span><br><span class="line">24.查询选修“朱棣”老师所授课程的学生中，成绩最高的学生姓名及其成绩（不考虑并列）。</span><br><span class="line">25.查询选修“朱棣”老师所授课程的学生中，成绩最高的学生姓名及其成绩（考虑并列）</span><br><span class="line">26.查询只选修了一门课程的全部学生的学号、姓名。</span><br><span class="line">27.查询至少选修两门课程的学生学号、学生姓名、选修课程数量。</span><br><span class="line">28.查询两门及以上不及格的同学的学号、学生姓名、选修课程数量。</span><br><span class="line">29.查询选修了所有课程的学生的学号、姓名。</span><br><span class="line">30.查询未选修所有课程的学生的学号、姓名。</span><br><span class="line">31.查询所有学生都选修了的课程的课程号、课程名。</span><br><span class="line">32.查询选修“生物°和“物理”课程的所有学生学号、姓名。</span><br><span class="line">33.查询至少有一们课与学号为“1的学生所选的裸程相同的其他学生学号和姓名</span><br><span class="line">34.查询与学号为“2”的同学选修的课程完全相同的具地学生学号和姓名。</span><br><span class="line">35.查询生物”课程比”物理”课程成绩高的所有学生的学号：</span><br><span class="line">36.查询每门课程成绩最好的前3名（不专虑成绩并列情况）。</span><br><span class="line">37.查询每门课程成绩最好的前3名（考虑成绩并列情况）。</span><br><span class="line">38.创建一个表sc,然后将score表中所有数据插入到sc表中。</span><br><span class="line">39.向score表中插入一些记录，这些记录要求符合以下条件:</span><br><span class="line">- 学生ID为：没上过课程D为“2”课程的学生的学号：</span><br><span class="line">    - 课程ID为：2</span><br><span class="line">- 成绩为：80</span><br><span class="line">40.向score表中插人些记录，这些记录要求符合以下条件：</span><br><span class="line">- 学生ID为：学过课程ID为“5”课程的学生的学号。</span><br><span class="line">- 课程ID为：2。(我知道根据我的数据这个同学已经学历这个课程)</span><br><span class="line">- 成绩为：课程ID为3的最高分。</span><br></pre></td></tr></table></figure><h2 id="注意下面为答案"><a href="#注意下面为答案" class="headerlink" title="注意下面为答案"></a>注意下面为答案</h2><p>个人写的可能有些问题</p><h3 id="1-10"><a href="#1-10" class="headerlink" title="1-10"></a>1-10</h3><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />1.根据上图创建数据库&表结构并录入数据（可以自行创造数据）</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">-- 创建数据库</span><br><span class="line">create DATABASE `test`;</span><br><span class="line">use `test`;</span><br><span class="line">-- 班级表</span><br><span class="line">create TABLE class(</span><br><span class="line"> cid int not null auto_increment PRIMARY key,</span><br><span class="line"> caption VARCHAR(12) not null);</span><br><span class="line">insert into class values(1,&quot;三年二班&quot;),(2,&quot;一年三班&quot;),(3,&quot;三年一班&quot;);</span><br><span class="line"></span><br><span class="line">-- 教师表</span><br><span class="line">CREATE TABLE teacher(tid int not null auto_increment PRIMARY KEY,tname VARCHAR(10) not null);</span><br><span class="line">insert into teacher VALUES(1,&#x27;朱元璋&#x27;),(2,&#x27;朱棣&#x27;),(3,&#x27;于谦&#x27;),(4,&#x27;郭子兴&#x27;),(5,&#x27;姚广孝&#x27;),(6,&#x27;王守仁&#x27;),(7,&#x27;海瑞&#x27;);</span><br><span class="line"></span><br><span class="line">-- 学生表</span><br><span class="line">CREATE TABLE student(</span><br><span class="line">sid int not null auto_increment PRIMARY key,</span><br><span class="line">sname VARCHAR(10) not null,</span><br><span class="line">gender char(1) not null ,</span><br><span class="line">class_id int not null);</span><br><span class="line">INSERT INTO `student` VALUES (1, &#x27;常遇春&#x27;, &#x27;男&#x27;, 1);</span><br><span class="line">INSERT INTO `student` VALUES (2, &#x27;蓝玉&#x27;, &#x27;男&#x27;, 1);</span><br><span class="line">INSERT INTO `student` VALUES (3, &#x27;朱标&#x27;, &#x27;男&#x27;, 2);</span><br><span class="line">INSERT INTO `student` VALUES (4, &#x27;秦良玉&#x27;, &#x27;女&#x27;, 2);</span><br><span class="line">INSERT INTO `student` VALUES (5, &#x27;张居正&#x27;, &#x27;男&#x27;, 1);</span><br><span class="line">INSERT INTO `student` VALUES (6, &#x27;宋濂&#x27;, &#x27;男&#x27;, 2);</span><br><span class="line">INSERT INTO `student` VALUES (7, &#x27;朱厚照&#x27;, &#x27;男&#x27;, 2);</span><br><span class="line">INSERT INTO `student` VALUES (8, &#x27;朱由检&#x27;, &#x27;男&#x27;, 3);</span><br><span class="line">INSERT INTO `student` VALUES (9, &#x27;刘基&#x27;, &#x27;男&#x27;, 3);</span><br><span class="line">INSERT INTO `student` VALUES (10, &#x27;唐寅&#x27;, &#x27;男&#x27;, 3);</span><br><span class="line">INSERT INTO `student` VALUES (11, &#x27;朱允炆&#x27;, &#x27;男&#x27;, 3);</span><br><span class="line">INSERT INTO `student` VALUES (12, &#x27;徐阶&#x27;, &#x27;男&#x27;, 2);</span><br><span class="line">INSERT INTO `student` VALUES (13, &#x27;朱祐樘&#x27;, &#x27;男&#x27;, 3);</span><br><span class="line">INSERT INTO `student` VALUES (14, &#x27;李如柏&#x27;, &#x27;男&#x27;, 1);</span><br><span class="line">INSERT INTO `student` VALUES (15, &#x27;李成梁&#x27;, &#x27;男&#x27;, 1);</span><br><span class="line">INSERT INTO `student` VALUES (16, &#x27;李如松&#x27;, &#x27;男&#x27;, 3);</span><br><span class="line">INSERT INTO `student` VALUES (17, &#x27;徐霞客&#x27;, &#x27;男&#x27;, 1);</span><br><span class="line">INSERT INTO `student` VALUES (18, &#x27;胡宗宪&#x27;, &#x27;男&#x27;, 1);</span><br><span class="line">INSERT INTO `student` VALUES (19, &#x27;戚继光&#x27;, &#x27;男&#x27;, 3);</span><br><span class="line">INSERT INTO `student` VALUES (20, &#x27;戚继光&#x27;, &#x27;男&#x27;, 2);</span><br><span class="line">-- 课程表</span><br><span class="line">CREATE TABLE course (cid int not null auto_increment PRIMARY key ,cname VARCHAR(10),teacher_id int not null);</span><br><span class="line">insert into course values(1,&quot;生物&quot;,1),(2,&quot;体育&quot;,1),(3,&quot;物理&quot;,2),(4, &#x27;IT&#x27;, 3),(5, &#x27;刑法&#x27;, 5),(6, &#x27;语文&#x27;, 7);</span><br><span class="line"></span><br><span class="line">-- 成绩表</span><br><span class="line">CREATE TABLE score (sid int not null PRIMARY key auto_increment ,student_id int not null ,course_id int not null,number int not null);</span><br><span class="line">INSERT INTO `score` VALUES (1, 1, 1, 60);</span><br><span class="line">INSERT INTO `score` VALUES (2, 1, 2, 59);</span><br><span class="line">INSERT INTO `score` VALUES (3, 2, 2, 100);</span><br><span class="line">INSERT INTO `score` VALUES (4, 3, 3, 54);</span><br><span class="line">INSERT INTO `score` VALUES (5, 4, 4, 59);</span><br><span class="line">INSERT INTO `score` VALUES (6, 5, 6, 86);</span><br><span class="line">INSERT INTO `score` VALUES (7, 11, 1, 59);</span><br><span class="line">INSERT INTO `score` VALUES (8, 8, 1, 100);</span><br><span class="line">INSERT INTO `score` VALUES (9, 16, 1, 45);</span><br><span class="line">INSERT INTO `score` VALUES (10, 12, 1, 66);</span><br><span class="line">INSERT INTO `score` VALUES (11, 6, 1, 66);</span><br><span class="line">INSERT INTO `score` VALUES (12, 6, 2, 67);</span><br><span class="line">INSERT INTO `score` VALUES (13, 6, 3, 68);</span><br><span class="line">INSERT INTO `score` VALUES (14, 6, 4, 69);</span><br><span class="line">INSERT INTO `score` VALUES (15, 6, 5, 70);</span><br><span class="line">INSERT INTO `score` VALUES (16, 6, 6, 71);</span><br><span class="line">INSERT INTO `score` VALUES (17, 2, 1, 66);</span><br><span class="line">INSERT INTO `score` VALUES (18, 3, 1, 66);</span><br><span class="line">INSERT INTO `score` VALUES (19, 4, 1, 66);</span><br><span class="line">INSERT INTO `score` VALUES (20, 19, 1, 99);</span><br><span class="line">INSERT INTO `score` VALUES (21, 20, 1, 99);</span><br><span class="line">INSERT INTO `score` VALUES (22, 5, 1, 66);</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />2.创建用户test_root并赋予此数据库的所有权限。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create user &#x27;test_user&#x27;@&#x27;127.0.0.1&#x27; identified by &#x27;root&#x27;;</span><br><span class="line">grant all privileges on test.* TO  &#x27;test_user&#x27;@&#x27;127.0.0.1&#x27;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure></div></details><p><img src="/image-20230606000130037m.png" alt="image-20230606000130037"></p><p><img src="/image-20230606000702498m.png" alt="image-20230606000702498"></p><p>注意要是链接写的是127.0.0.1 实际上也是本地，但是还是得写127.0.0.1而不能写localhost 否则1045</p><p><img src="/image-20230606000825442m.png" alt="image-20230606000825442"></p><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />3.查询姓“李"的老师的个数。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(tid) from teacher where tname like &#x27;李%&#x27;;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />4.查询姓“张"的学生名单。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * from student WHERE sname like &quot;张%&quot;;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />5.查询男生、女生的人数。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SELECT gender,count(1) from student GROUP BY gender ;-- count在这里只是一个聚合函数里面写1还是0都行</span><br><span class="line"></span><br><span class="line">-- 横向统计</span><br><span class="line">SELECT gender,COUNT(sid) as `人数` FROM student GROUP BY gender;</span><br><span class="line">-- 竖向统计</span><br><span class="line">SELECT</span><br><span class="line">* </span><br><span class="line">FROM</span><br><span class="line">( SELECT COUNT( sid ) AS `女` FROM student WHERE gender = &#x27;女&#x27; ) nv,</span><br><span class="line">( SELECT COUNT( sid ) AS `男` FROM student WHERE gender = &#x27;男&#x27; ) AS nan;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="text">6.查询同名同姓学生名单，并统计同名人数。icon:hashtag</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">-- 返回同名同姓的姓名和人数</span><br><span class="line">SELECT</span><br><span class="line">sname,</span><br><span class="line">count( 1 ) </span><br><span class="line">FROM</span><br><span class="line">student </span><br><span class="line">GROUP BY</span><br><span class="line">sname;-- 所有名字数量的统计</span><br><span class="line"></span><br><span class="line">SELECT</span><br><span class="line">sname,</span><br><span class="line">count( 1 ) </span><br><span class="line">FROM</span><br><span class="line">student </span><br><span class="line">GROUP BY</span><br><span class="line">sname </span><br><span class="line">HAVING</span><br><span class="line">COUNT( 1 )&gt; 1;</span><br><span class="line">SELECT</span><br><span class="line">sname,</span><br><span class="line">COUNT( sid ) AS `人数` </span><br><span class="line">FROM</span><br><span class="line">student </span><br><span class="line">GROUP BY</span><br><span class="line">sname </span><br><span class="line">HAVING</span><br><span class="line">COUNT( sid )&gt; 1;</span><br><span class="line"></span><br><span class="line">-- 返回同名同姓的姓名和信息</span><br><span class="line">SELECT</span><br><span class="line">student.* </span><br><span class="line">FROM</span><br><span class="line">student </span><br><span class="line">WHERE</span><br><span class="line">sname IN ( SELECT sname FROM student GROUP BY sname HAVING COUNT( sid )&gt; 1 );</span><br></pre></td></tr></table></figure></div></details><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>综合整的花活</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 综合 整的花活</span><br><span class="line">SELECT student.*, zi.`同名同姓人数`</span><br><span class="line">FROM student</span><br><span class="line">INNER JOIN (</span><br><span class="line">    SELECT sname, COUNT(sid) AS `同名同姓人数`</span><br><span class="line">    FROM student</span><br><span class="line">    GROUP BY sname</span><br><span class="line">    HAVING COUNT(sid) &gt; 1</span><br><span class="line">) AS zi ON student.sname = zi.sname;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />7.查询“三年二班”的所有学生。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">* </span><br><span class="line">FROM</span><br><span class="line">student </span><br><span class="line">WHERE</span><br><span class="line">class_id = ( SELECT cid FROM class WHERE caption = &quot;三年二班&quot; );</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">* </span><br><span class="line">FROM</span><br><span class="line">student</span><br><span class="line">LEFT JOIN class ON student.class_id = class.cid </span><br><span class="line">WHERE</span><br><span class="line">class.caption = &#x27;三年二班&#x27;</span><br><span class="line">-- 显示class_id还是cid都行，重要是拿取到关键数据</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />8.查询每个班级的班级名称、班级人数。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">-- 显示班级id不显示班级名</span><br><span class="line">SELECT class_id,COUNT(1) FROM student GROUP BY class_id;</span><br><span class="line">-- 显示班级名</span><br><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">class.caption,</span><br><span class="line">COUNT( 1 ) AS `人数` </span><br><span class="line">FROM</span><br><span class="line">student</span><br><span class="line">LEFT JOIN class ON student.class_id = class.cid </span><br><span class="line">GROUP BY</span><br><span class="line">class.caption;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">class.caption,</span><br><span class="line">count( sid ) AS `人数` </span><br><span class="line">FROM</span><br><span class="line">student,</span><br><span class="line">`class` </span><br><span class="line">WHERE</span><br><span class="line">class.cid = student.class_id </span><br><span class="line">GROUP BY</span><br><span class="line">student.class_id;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />9.查询成绩小于60分的同学的学号、姓名、成绩、课程名称。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">score.number,</span><br><span class="line">course.* </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid </span><br><span class="line">WHERE</span><br><span class="line">number &lt; 60;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student.sname,</span><br><span class="line">zi.cname,</span><br><span class="line">zi.number,</span><br><span class="line">zi.student_id </span><br><span class="line">FROM</span><br><span class="line">student,</span><br><span class="line">( SELECT course.cname, score.* FROM score INNER JOIN course ON score.course_id = course.cid WHERE number &lt; 60 ) AS zi </span><br><span class="line">WHERE</span><br><span class="line">student.sid = zi.student_id;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />10.查询选修了"生物课"的所有学生ID、学生姓名、成绩。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sname,</span><br><span class="line">student.sid,</span><br><span class="line">score.number,</span><br><span class="line">course.cname </span><br><span class="line">FROM</span><br><span class="line">course,</span><br><span class="line">student,</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">student.sid = score.sid </span><br><span class="line">AND course.cid = score.course_id </span><br><span class="line">AND course.cname = &#x27;生物&#x27;;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">score.number </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid </span><br><span class="line">WHERE</span><br><span class="line">course.cname = &#x27;生物&#x27;;</span><br></pre></td></tr></table></figure></div></details><h3 id="11-20"><a href="#11-20" class="headerlink" title="11-20"></a>11-20</h3><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />11.查询选修了"生物课”且分数低于60的的所有学生ID、学生姓名、成绩。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sname,</span><br><span class="line">student.sid,</span><br><span class="line">score.number,</span><br><span class="line">course.cname </span><br><span class="line">FROM</span><br><span class="line">course,</span><br><span class="line">student,</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">student.sid = score.sid </span><br><span class="line">AND course.cid = score.course_id </span><br><span class="line">AND course.cname = &#x27;生物&#x27; </span><br><span class="line">AND score.number &lt; 60;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student.sname,</span><br><span class="line">student.sid,</span><br><span class="line">score.number,</span><br><span class="line">course.cname </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid </span><br><span class="line">WHERE</span><br><span class="line">course.cname = &#x27;生物&#x27; </span><br><span class="line">AND score.number &lt; 60</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />12.查询所有同学的学号、姓名、选课数、总成绩。</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">SUM( score.number ) AS total,</span><br><span class="line">count(student.class_id) as &#x27;选课数&#x27;</span><br><span class="line">FROM</span><br><span class="line">student,</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">score.student_id = student.sid </span><br><span class="line">GROUP BY</span><br><span class="line">student.sid,</span><br><span class="line">student.sname;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student_id,</span><br><span class="line">student.sname,</span><br><span class="line">SUM( number ) AS &#x27;总分&#x27;,</span><br><span class="line">COUNT( 1 ) AS &#x27;选课数量&#x27; </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid </span><br><span class="line">GROUP BY</span><br><span class="line">student_id</span><br></pre></td></tr></table></figure><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />13.查询各科被选修的学生数。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- 核心</span><br><span class="line">SELECT</span><br><span class="line">course_id,</span><br><span class="line">COUNT( 1 ) </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">GROUP BY</span><br><span class="line">course_id;</span><br><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">course.cname,</span><br><span class="line">count( score.sid ) AS `人数` </span><br><span class="line">FROM</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">score.course_id;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">cname,</span><br><span class="line">count( 1 ) AS `人数` </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">course_id</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />14.查询各科成绩的总分、最高分、最低分，显示：课程ID、课程名称、总分、最高分、最低分。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">course_id AS &#x27;课程ID&#x27;,</span><br><span class="line">course.cname AS &#x27;课程名称&#x27;,</span><br><span class="line">SUM( number ) AS &#x27;总分&#x27;,</span><br><span class="line">MAX( number ) AS &#x27;最高分&#x27;,</span><br><span class="line">MIN( number ) AS &#x27;最低分&#x27;,</span><br><span class="line">AVG( number ) AS &#x27;平均分&#x27; </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">course_id </span><br><span class="line">ORDER BY</span><br><span class="line">AVG( number ) DESC;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">course.cid AS &#x27;课程ID&#x27;,</span><br><span class="line">course.cname AS &#x27;课程名称&#x27;,</span><br><span class="line">sum( score.number ) AS &#x27;总分&#x27;,</span><br><span class="line">max( score.number ) AS &#x27;最高分&#x27;,</span><br><span class="line">min( score.number ) AS &#x27;最低分&#x27;,</span><br><span class="line">avg( score.number ) AS &#x27;平均分&#x27;,</span><br><span class="line">count( score.sid ) AS `人数` </span><br><span class="line">FROM</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">score.course_id </span><br><span class="line">ORDER BY</span><br><span class="line">avg( score.number ) DESC;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />15.查询各科成绩的平均分，显示：课程ID、课程名称、平均分。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">course_id AS &#x27;课程ID&#x27;,</span><br><span class="line">course.cname AS &#x27;课程名称&#x27;,</span><br><span class="line">SUM( number ) AS &#x27;总分&#x27;,</span><br><span class="line">MAX( number ) AS &#x27;最高分&#x27;,</span><br><span class="line">MIN( number ) AS &#x27;最低分&#x27;,</span><br><span class="line">AVG( number ) AS &#x27;平均分&#x27; </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">course_id </span><br><span class="line">ORDER BY</span><br><span class="line">AVG( number ) DESC;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">course.cid AS &#x27;课程ID&#x27;,</span><br><span class="line">course.cname AS &#x27;课程名称&#x27;,</span><br><span class="line">sum( score.number ) AS &#x27;总分&#x27;,</span><br><span class="line">max( score.number ) AS &#x27;最高分&#x27;,</span><br><span class="line">min( score.number ) AS &#x27;最低分&#x27;,</span><br><span class="line">avg( score.number ) AS &#x27;平均分&#x27;,</span><br><span class="line">count( score.sid ) AS `人数` </span><br><span class="line">FROM</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">score.course_id </span><br><span class="line">ORDER BY</span><br><span class="line">avg( score.number ) DESC;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />16.查询各科成绩的平均分，显示：课程ID、课程名称、平均分（按平均分从大到小排序）。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">course_id AS &#x27;课程ID&#x27;,</span><br><span class="line">course.cname AS &#x27;课程名称&#x27;,</span><br><span class="line">SUM( number ) AS &#x27;总分&#x27;,</span><br><span class="line">MAX( number ) AS &#x27;最高分&#x27;,</span><br><span class="line">MIN( number ) AS &#x27;最低分&#x27;,</span><br><span class="line">AVG( number ) AS &#x27;平均分&#x27; </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">course_id </span><br><span class="line">ORDER BY</span><br><span class="line">AVG( number ) DESC;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">course.cid AS &#x27;课程ID&#x27;,</span><br><span class="line">course.cname AS &#x27;课程名称&#x27;,</span><br><span class="line">sum( score.number ) AS &#x27;总分&#x27;,</span><br><span class="line">max( score.number ) AS &#x27;最高分&#x27;,</span><br><span class="line">min( score.number ) AS &#x27;最低分&#x27;,</span><br><span class="line">avg( score.number ) AS &#x27;平均分&#x27;,</span><br><span class="line">count( score.sid ) AS `人数` </span><br><span class="line">FROM</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">score.course_id </span><br><span class="line">ORDER BY</span><br><span class="line">avg( score.number ) DESC;</span><br></pre></td></tr></table></figure></div></details><blockquote><p>注14-16题写的都是满足所有的需求，即句子一样。看题目删去</p></blockquote><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />17.查询各科成绩的平均分和及格率，显示：课程ID、课程名称、平均分、及格率。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">course.cid AS &#x27;课程ID&#x27;,</span><br><span class="line">course.cname AS &#x27;课程名称&#x27;,</span><br><span class="line">sum( score.number ) AS &#x27;总分&#x27;,</span><br><span class="line">max( score.number ) AS &#x27;最高分&#x27;,</span><br><span class="line">min( score.number ) AS &#x27;最低分&#x27;,</span><br><span class="line">avg( score.number ) AS &#x27;平均分&#x27;,</span><br><span class="line">count( score.sid ) AS `人数`,</span><br><span class="line">count( CASE WHEN score.number &gt;= 60 THEN 1 END ) / count( score.sid )* 100 AS &#x27;及格率(%)&#x27; </span><br><span class="line">FROM</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">score.course_id;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">course_id AS &#x27;课程ID&#x27;,</span><br><span class="line">course.cname AS &#x27;课程名称&#x27;,</span><br><span class="line">AVG( number ) AS &#x27;平均分&#x27;,</span><br><span class="line">SUM( CASE WHEN score.number &gt;= 60 THEN 1 ELSE 0 END ) / COUNT( 1 ) * 100 AS &#x27;及格率(%)&#x27; </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">course_id;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />18.查询平均成绩大于60的所有学生的学号、平均成绩。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sid AS &#x27;学生ID&#x27;,</span><br><span class="line">avg( score.number ) AS &#x27;平均成绩&#x27; </span><br><span class="line">FROM</span><br><span class="line">student,</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">student.sid = score.student_id </span><br><span class="line">AND course.cid = score.course_id </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id </span><br><span class="line">HAVING</span><br><span class="line">avg( score.number )&gt; 60;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student_id AS &#x27;学生ID&#x27;,</span><br><span class="line">AVG( number )  &#x27;平均成绩&#x27; </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">GROUP BY</span><br><span class="line">student_id </span><br><span class="line">HAVING</span><br><span class="line">AVG( number )&gt; 60</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />19.查询平均成绩大于85的所有学生的学号、平均成绩、姓名。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">-- (核心)</span><br><span class="line">SELECT</span><br><span class="line">student_id,</span><br><span class="line">AVG( number ) </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">GROUP BY</span><br><span class="line">student_id </span><br><span class="line">HAVING</span><br><span class="line">AVG( number ) &gt; 85;</span><br><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">avg( score.number ) AS &#x27;平均成绩&#x27; </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid </span><br><span class="line">GROUP BY</span><br><span class="line">student_id </span><br><span class="line">HAVING</span><br><span class="line">AVG( number ) &gt; 85;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">avg( score.number ) AS &#x27;平均成绩&#x27; </span><br><span class="line">FROM</span><br><span class="line">student,</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">student.sid = score.student_id </span><br><span class="line">AND course.cid = score.course_id </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id </span><br><span class="line">HAVING</span><br><span class="line">avg( score.number )&gt; 85;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />20.查询“三年二班”每个学生的学号、姓名、总成绩、平均成绩。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">sum( score.number ) AS &#x27;总成绩&#x27;,</span><br><span class="line">avg( score.number ) AS &#x27;平均&#x27; </span><br><span class="line">FROM</span><br><span class="line">class</span><br><span class="line">JOIN student ON class.cid = student.class_id</span><br><span class="line">JOIN score ON student.sid = score.student_id </span><br><span class="line">WHERE</span><br><span class="line">class.caption = &#x27;三年二班&#x27; </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student_id,</span><br><span class="line">sname,</span><br><span class="line">sum( number ) AS &#x27;总成绩&#x27;,</span><br><span class="line">avg( number ) AS &#x27;平均&#x27; </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid</span><br><span class="line">LEFT JOIN class ON class.cid = student.class_id </span><br><span class="line">WHERE</span><br><span class="line">class.caption = &#x27;三年二班&#x27; </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id;</span><br></pre></td></tr></table></figure></div></details><h3 id="21-30"><a href="#21-30" class="headerlink" title="21-30"></a>21-30</h3><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />21.查询各个班级的班级名称、总成绩、平均成绩、及格率（按平均成绩从大到小排序）</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">class.caption AS &#x27;班级名称&#x27;,</span><br><span class="line">sum( score.number ) AS &#x27;总成绩&#x27;,</span><br><span class="line">avg( score.number ) AS &#x27;平均成绩&#x27;,</span><br><span class="line">count( CASE WHEN score.number &gt;= 60 THEN 1 END )/ count( score.sid )* 100 AS &#x27;及格率(%)&#x27; </span><br><span class="line">FROM</span><br><span class="line">student,</span><br><span class="line">score,</span><br><span class="line">class </span><br><span class="line">WHERE</span><br><span class="line">student.sid = score.student_id </span><br><span class="line">AND student.class_id = class.cid </span><br><span class="line">GROUP BY</span><br><span class="line">class.caption </span><br><span class="line">ORDER BY</span><br><span class="line">avg( score.number ) DESC;</span><br><span class="line"></span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">class.caption AS &#x27;班级名称&#x27;,</span><br><span class="line">sum( number ) AS &#x27;总成绩&#x27;,</span><br><span class="line">avg( number ) AS &#x27;平均成绩&#x27;,</span><br><span class="line">SUM( CASE WHEN score.number &gt;= 60 THEN 1 ELSE 0 END )/ count( 1 )* 100 AS &#x27;及格率(%)&#x27; </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid</span><br><span class="line">LEFT JOIN class ON class.cid = student.class_id </span><br><span class="line">GROUP BY</span><br><span class="line">class.caption </span><br><span class="line">ORDER BY</span><br><span class="line">avg( number ) DESC;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />22.查询学过“朱元璋”老师课的同学的学号、姓名。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">teacher,</span><br><span class="line">student,</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">score.course_id = course.cid </span><br><span class="line">AND teacher.tid = course.teacher_id </span><br><span class="line">AND student.sid = score.student_id </span><br><span class="line">AND teacher.tname = &#x27;朱元璋&#x27;;</span><br><span class="line"></span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">score LEFT JOIN student on score.student_id=student.sid</span><br><span class="line">LEFT JOIN course on score.course_id=course.cid</span><br><span class="line">LEFT JOIN teacher on course.teacher_id=teacher.tid</span><br><span class="line">WHERE</span><br><span class="line">teacher.tname = &#x27;朱元璋&#x27;;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />23.查询没学过“朱元璋”老师课的同学的学号、姓名。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">-- 有选课的</span><br><span class="line">select student.sid,student.sname from teacher,student,score,course where score.course_id=course.cid and teacher.tid = course.teacher_id and student.sid=score.student_id and teacher.tname !=&#x27;朱元璋&#x27; GROUP BY student.sid</span><br><span class="line">-- 包含无选课的</span><br><span class="line">UNION </span><br><span class="line">select student.sid ,student.sname from student where  student.sid   not in (SELECT score.student_id from score) ORDER BY sid</span><br><span class="line"></span><br><span class="line">-- 好看一点(就是拼凑在一起)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">teacher,</span><br><span class="line">student,</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">score.course_id = course.cid </span><br><span class="line">AND teacher.tid = course.teacher_id </span><br><span class="line">AND student.sid = score.student_id </span><br><span class="line">AND teacher.tname != &#x27;朱元璋&#x27; </span><br><span class="line">GROUP BY</span><br><span class="line">student.sid UNION</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">student </span><br><span class="line">WHERE</span><br><span class="line">student.sid NOT IN ( SELECT score.student_id FROM score ) </span><br><span class="line">ORDER BY</span><br><span class="line">sid;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />24.查询选修“朱棣”老师所授课程的学生中，成绩最高的学生姓名及其成绩（不考虑并列）。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">score.number </span><br><span class="line">FROM</span><br><span class="line">teacher</span><br><span class="line">JOIN course ON teacher.tid = course.teacher_id</span><br><span class="line">JOIN score ON score.course_id = course.cid</span><br><span class="line">JOIN student ON student.sid = score.student_id </span><br><span class="line">WHERE</span><br><span class="line">teacher.tname = &#x27;朱棣&#x27; </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">score.number </span><br><span class="line">FROM</span><br><span class="line">teacher,</span><br><span class="line">student,</span><br><span class="line">score,</span><br><span class="line">course </span><br><span class="line">WHERE</span><br><span class="line">score.course_id = course.cid </span><br><span class="line">AND teacher.tid = course.teacher_id </span><br><span class="line">AND student.sid = score.student_id </span><br><span class="line">AND teacher.tname = &#x27;朱棣&#x27; </span><br><span class="line">ORDER BY</span><br><span class="line">score.number DESC </span><br><span class="line">LIMIT 1;</span><br><span class="line">-- (3)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">score.number </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid</span><br><span class="line">LEFT JOIN teacher ON course.teacher_id = teacher.tid </span><br><span class="line">WHERE</span><br><span class="line">teacher.tname = &#x27;朱棣&#x27; </span><br><span class="line">ORDER BY</span><br><span class="line">score.number DESC </span><br><span class="line">LIMIT 1;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />25.查询选修“朱棣”老师所授课程的学生中，成绩最高的学生姓名及其成绩（考虑并列）</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT student.sid, student.sname, score.number </span><br><span class="line">FROM teacher, student, score, course </span><br><span class="line">WHERE score.course_id = course.cid </span><br><span class="line">  AND teacher.tid = course.teacher_id </span><br><span class="line">  AND student.sid = score.student_id </span><br><span class="line">  AND teacher.tname = &#x27;朱棣&#x27; </span><br><span class="line">  AND score.number = (</span><br><span class="line">    SELECT MAX(score.number) -- 满足等于最高分就考虑了并列的情况</span><br><span class="line">    FROM teacher, student, score, course </span><br><span class="line">    WHERE score.course_id = course.cid </span><br><span class="line">      AND teacher.tid = course.teacher_id </span><br><span class="line">      AND student.sid = score.student_id </span><br><span class="line">      AND teacher.tname = &#x27;朱棣&#x27;</span><br><span class="line">  );</span><br><span class="line"> </span><br><span class="line">-- (2) </span><br><span class="line">SELECT</span><br><span class="line">student.sid,student.sname ,score.number</span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid</span><br><span class="line">LEFT JOIN teacher ON course.teacher_id = teacher.tid </span><br><span class="line">WHERE</span><br><span class="line">teacher.tname = &#x27;朱棣&#x27;  </span><br><span class="line">AND score.number =(</span><br><span class="line">SELECT</span><br><span class="line">max( number ) </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid</span><br><span class="line">LEFT JOIN teacher ON course.teacher_id = teacher.tid </span><br><span class="line">WHERE</span><br><span class="line">teacher.tname = &#x27;朱棣&#x27; </span><br><span class="line">)</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />26.查询只选修了一门课程的全部学生的学号、姓名</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">student.sname,</span><br><span class="line">student.sid,</span><br><span class="line">count( score.sid ) AS &#x27;选修课程数量&#x27; </span><br><span class="line">FROM</span><br><span class="line">student</span><br><span class="line">JOIN score ON student.sid = score.student_id </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id </span><br><span class="line">HAVING</span><br><span class="line">count( score.sid )= 1;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />27.查询至少选修两门课程的学生学号、学生姓名、选修课程数量。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">student.sname,</span><br><span class="line">student.sid,</span><br><span class="line">count( score.sid ) AS &#x27;选修课程数量&#x27; </span><br><span class="line">FROM</span><br><span class="line">student</span><br><span class="line">JOIN score ON student.sid = score.student_id </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id </span><br><span class="line">HAVING</span><br><span class="line">count( score.sid )&gt; 1;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />28.查询两门及以上不及格的同学的学号、学生姓名、选修课程数量。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">count( score.sid ) AS &#x27;选修课程数量&#x27; </span><br><span class="line">FROM</span><br><span class="line">student</span><br><span class="line">JOIN score ON student.sid = score.student_id </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id </span><br><span class="line">HAVING</span><br><span class="line">count( score.number &lt;= 60 ) &gt;1</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />29.查询选修了所有课程的学生的学号、姓名。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">student.sname,</span><br><span class="line">student.sid,</span><br><span class="line">count( score.sid ) AS &#x27;选课数量&#x27; </span><br><span class="line">FROM</span><br><span class="line">student</span><br><span class="line">JOIN score ON student.sid = score.student_id </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id </span><br><span class="line">HAVING</span><br><span class="line">count( score.sid ) =(</span><br><span class="line">SELECT</span><br><span class="line">count( course.cid ) </span><br><span class="line">FROM</span><br><span class="line">course </span><br><span class="line">);</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />30.查询未选修所有课程的学生的学号、姓名。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">-- 选修了课程 连上没有选修课程的学生</span><br><span class="line">SELECT</span><br><span class="line">student.sname,</span><br><span class="line">student.sid </span><br><span class="line">FROM</span><br><span class="line">student</span><br><span class="line">JOIN score ON student.sid = score.student_id </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id </span><br><span class="line">HAVING</span><br><span class="line">count( score.sid ) !=(</span><br><span class="line">SELECT</span><br><span class="line">count( course.cid ) </span><br><span class="line">FROM</span><br><span class="line">course </span><br><span class="line">) UNION</span><br><span class="line">SELECT</span><br><span class="line">student.sname,</span><br><span class="line">student.sid </span><br><span class="line">FROM</span><br><span class="line">student </span><br><span class="line">WHERE</span><br><span class="line">student.sid IN ( SELECT score.student_id FROM score );</span><br><span class="line">-- UNION 会去重</span><br><span class="line"></span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid </span><br><span class="line">GROUP BY</span><br><span class="line">student_id </span><br><span class="line">HAVING</span><br><span class="line">COUNT( 1 ) !=(</span><br><span class="line">SELECT</span><br><span class="line">COUNT( 1 ) </span><br><span class="line">FROM</span><br><span class="line">course)</span><br></pre></td></tr></table></figure></div></details><h3 id="31-40"><a href="#31-40" class="headerlink" title="31-40"></a>31-40</h3><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />31.查询所有学生都选修了的课程的课程号、课程名。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">-- 可能有些没有选的，排除</span><br><span class="line">SELECT</span><br><span class="line">course.cid,</span><br><span class="line">course.cname </span><br><span class="line">FROM</span><br><span class="line">course</span><br><span class="line">JOIN score ON course.cid = score.course_id </span><br><span class="line">GROUP BY</span><br><span class="line">score.course_id </span><br><span class="line">HAVING</span><br><span class="line">count( score.sid ) = ( SELECT COUNT( 1 ) FROM ( SELECT student_id FROM score GROUP BY student_id ) AS subquery );-- having的另一边对应着选了选修课的人数</span><br><span class="line"></span><br><span class="line">-- 范围为全部，不排除没选课的</span><br><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">course.cid,</span><br><span class="line">course.cname </span><br><span class="line">FROM</span><br><span class="line">course</span><br><span class="line">JOIN score ON course.cid = score.course_id </span><br><span class="line">GROUP BY</span><br><span class="line">score.course_id </span><br><span class="line">HAVING</span><br><span class="line">count( score.sid ) = ( SELECT count( sid ) FROM student );</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">course.cid,</span><br><span class="line">course.cname </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">left JOIN course ON course.cid = score.course_id </span><br><span class="line">GROUP BY</span><br><span class="line">course_id</span><br><span class="line">HAVING</span><br><span class="line">count(1) = ( SELECT count( 1 ) FROM student );</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />32.查询选修“生物°和“物理”课程的所有学生学号、姓名。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">course.cname </span><br><span class="line">FROM</span><br><span class="line">course</span><br><span class="line">JOIN score ON course.cid = score.course_id</span><br><span class="line">JOIN student ON score.student_id = student.sid </span><br><span class="line">WHERE</span><br><span class="line">course.cname IN ( &#x27;生物&#x27;, &#x27;物理&#x27; ) </span><br><span class="line">ORDER BY</span><br><span class="line">course.cname</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />33.查询至少有一们课与学号为“1的学生所选的裸程相同的其他学生学号和姓名</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">count( score.course_id ) &#x27;与学号为1的同学相同的选课数量&#x27; </span><br><span class="line">FROM</span><br><span class="line">student</span><br><span class="line">JOIN score ON student.sid = score.student_id </span><br><span class="line">WHERE</span><br><span class="line">score.course_id IN ( SELECT course_id FROM score WHERE student_id = 1 ) </span><br><span class="line">GROUP BY</span><br><span class="line">score.student_id </span><br><span class="line">HAVING</span><br><span class="line">score.student_id != 1;</span><br><span class="line"></span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname,</span><br><span class="line">count( score.course_id ) &#x27;与学号为1的同学相同的选课数量&#x27; </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid </span><br><span class="line">WHERE</span><br><span class="line">score.course_id IN ( SELECT course_id FROM score WHERE student_id = 1 ) </span><br><span class="line">AND score.student_id != 1 </span><br><span class="line">GROUP BY</span><br><span class="line">student_id </span><br><span class="line">HAVING</span><br><span class="line">count( 1 )&gt;= 1;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />34.查询与学号为“2”的同学选修的课程完全相同的具地学生学号和姓名。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">score.student_id,</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">JOIN student ON score.student_id = student.sid </span><br><span class="line">WHERE</span><br><span class="line">course_id IN ( SELECT course_id FROM score WHERE student_id = 2 ) </span><br><span class="line">GROUP BY</span><br><span class="line">student_id </span><br><span class="line">HAVING</span><br><span class="line">COUNT( DISTINCT course_id ) = ( SELECT COUNT( DISTINCT course_id ) FROM score WHERE student_id = 2 ) </span><br><span class="line">AND student_id != 2;</span><br><span class="line"></span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">student.sid,</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid</span><br><span class="line">LEFT JOIN student ON score.student_id = student.sid </span><br><span class="line">WHERE</span><br><span class="line">score.course_id IN ( SELECT course_id FROM score WHERE student_id = 2 ) </span><br><span class="line">AND score.student_id != 2 </span><br><span class="line">GROUP BY</span><br><span class="line">student_id </span><br><span class="line">HAVING</span><br><span class="line">COUNT( 1 )=(</span><br><span class="line">SELECT</span><br><span class="line">COUNT( 1 ) </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">student_id = 2 </span><br><span class="line">);</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />35.查询生物”课程比”物理”课程成绩高的所有学生的学号。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">-- 没有选择目标课程不做考虑</span><br><span class="line">SELECT</span><br><span class="line">s1.student_id </span><br><span class="line">FROM</span><br><span class="line">score s1 </span><br><span class="line">WHERE</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">s2.number </span><br><span class="line">FROM</span><br><span class="line">score s2 </span><br><span class="line">WHERE</span><br><span class="line">s1.student_id = s2.student_id </span><br><span class="line">AND s1.course_id = 3 </span><br><span class="line">AND s2.course_id = 1 </span><br><span class="line">AND s2.number &gt; s1.number </span><br><span class="line">);</span><br><span class="line">-- 只满足一个选课条件，但是给另一个假定值0或-1</span><br><span class="line"></span><br><span class="line">-- (1)</span><br><span class="line">SELECT</span><br><span class="line">student_id,</span><br><span class="line">max( CASE cname WHEN &#x27;生物&#x27; THEN number ELSE 0 END ) AS sw,</span><br><span class="line">max( CASE cname WHEN &#x27;物理&#x27; THEN number ELSE 0 END ) AS wl </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid </span><br><span class="line">WHERE</span><br><span class="line">cname IN ( &#x27;生物&#x27;, &#x27;物理&#x27; ) </span><br><span class="line">GROUP BY</span><br><span class="line">student_id </span><br><span class="line">HAVING</span><br><span class="line">sw &gt; wl;</span><br><span class="line">-- (2)</span><br><span class="line">SELECT</span><br><span class="line">*,</span><br><span class="line">CASE cname WHEN &#x27;生物&#x27; THEN number ELSE -1 END  sw,</span><br><span class="line">CASE cname WHEN &#x27;物理&#x27; THEN number ELSE -1 END  wl </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN course ON score.course_id = course.cid </span><br><span class="line">WHERE</span><br><span class="line">cname IN ( &#x27;生物&#x27;, &#x27;物理&#x27; ) ;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />36.*查询每门课程成绩最好的前3名（不专虑成绩并列情况）。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">-- (1) 前三信息(并列也取前三个)</span><br><span class="line">WITH cte AS (</span><br><span class="line">  SELECT *, ROW_NUMBER() OVER (PARTITION BY course_id ORDER BY number DESC) rn</span><br><span class="line">  FROM score</span><br><span class="line">)</span><br><span class="line">SELECT course_id, student_id, number</span><br><span class="line">FROM cte</span><br><span class="line">WHERE rn &lt;= 3</span><br><span class="line">ORDER BY course_id, rn;</span><br><span class="line"></span><br><span class="line">-- (2)前三成绩</span><br><span class="line">SELECT</span><br><span class="line">cid,</span><br><span class="line">cname,</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON student.sid = score.student_id </span><br><span class="line">WHERE</span><br><span class="line">course_id = course.cid </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1 OFFSET 0 </span><br><span class="line">) AS &#x27;第一名&#x27;,(</span><br><span class="line">SELECT</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON student.sid = score.student_id </span><br><span class="line">WHERE</span><br><span class="line">course_id = course.cid </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1 OFFSET 1 </span><br><span class="line">) AS &#x27;第二名&#x27;,(</span><br><span class="line">SELECT</span><br><span class="line">student.sname </span><br><span class="line">FROM</span><br><span class="line">score</span><br><span class="line">LEFT JOIN student ON student.sid = score.student_id </span><br><span class="line">WHERE</span><br><span class="line">course_id = course.cid </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1 OFFSET 2 </span><br><span class="line">) AS &#x27;第三名&#x27; </span><br><span class="line">FROM</span><br><span class="line">course;</span><br><span class="line">-- (3)前三分数</span><br><span class="line">SELECT</span><br><span class="line">cid,</span><br><span class="line">cname,(</span><br><span class="line">SELECT</span><br><span class="line">number </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">number </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1 OFFSET 0 </span><br><span class="line">) AS &#x27;最高分&#x27;,(</span><br><span class="line">SELECT</span><br><span class="line">number </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">number </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1 OFFSET 1 </span><br><span class="line">) AS &#x27;第二高分&#x27;,(</span><br><span class="line">SELECT</span><br><span class="line">number </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">number </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1 OFFSET 2 </span><br><span class="line">) AS &#x27;第三高分&#x27; </span><br><span class="line">FROM</span><br><span class="line">course;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />37.*查询每门课程成绩最好的前3名（考虑成绩并列情况）。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">SELECT s1.course_id, s1.student_id, s1.number</span><br><span class="line">FROM score s1</span><br><span class="line">WHERE (</span><br><span class="line">  SELECT COUNT( s2.number)</span><br><span class="line">  FROM score s2</span><br><span class="line">  WHERE s2.course_id = s1.course_id AND s2.number &gt; s1.number</span><br><span class="line">) &lt; 3</span><br><span class="line">ORDER BY s1.course_id, s1.number DESC;</span><br><span class="line"></span><br><span class="line">-- 只显示没课前三，不显示学生信息</span><br><span class="line">SELECT</span><br><span class="line">cid,</span><br><span class="line">cname,(</span><br><span class="line">SELECT</span><br><span class="line">number </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">number </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1 OFFSET 0 </span><br><span class="line">) AS &#x27;最高分&#x27;,(</span><br><span class="line">SELECT</span><br><span class="line">number </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">number </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1 OFFSET 1 </span><br><span class="line">) AS &#x27;第二高分&#x27;,(</span><br><span class="line">SELECT</span><br><span class="line">number </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">course_id = course.cid </span><br><span class="line">GROUP BY</span><br><span class="line">number </span><br><span class="line">ORDER BY</span><br><span class="line">number DESC </span><br><span class="line">LIMIT 1 OFFSET 2 </span><br><span class="line">) AS &#x27;第三高分&#x27; </span><br><span class="line">FROM</span><br><span class="line">course;</span><br><span class="line"></span><br><span class="line">-- 综合</span><br><span class="line">SELECT</span><br><span class="line">score.*,</span><br><span class="line">( SELECT MAX( number ) FROM score WHERE course_id = score.course_id ) AS &#x27;最高分&#x27;,</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">MAX( number ) </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">course_id = score.course_id </span><br><span class="line">AND number &lt; ( SELECT MAX( number ) FROM score WHERE course_id = score.course_id ) </span><br><span class="line">) AS &#x27;第二高分&#x27;,</span><br><span class="line">(</span><br><span class="line">SELECT</span><br><span class="line">MAX( number ) </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">course_id = score.course_id </span><br><span class="line">AND number &lt; ( SELECT MAX( number ) FROM score WHERE course_id = score.course_id ) </span><br><span class="line">AND number &lt; (</span><br><span class="line">SELECT</span><br><span class="line">MAX( number ) </span><br><span class="line">FROM</span><br><span class="line">score </span><br><span class="line">WHERE</span><br><span class="line">course_id = score.course_id </span><br><span class="line">AND number &lt; ( SELECT MAX( number ) FROM score WHERE course_id = score.course_id ) </span><br><span class="line">) </span><br><span class="line">) AS &#x27;第三高分&#x27; </span><br><span class="line">FROM</span><br><span class="line">score;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />38.创建一个表sc,然后将score表中所有数据插入到sc表中。</p></div><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案(step1)</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE sc(</span><br><span class="line">    sid int not null PRIMARY key auto_increment ,</span><br><span class="line">    student_id int not null ,</span><br><span class="line">    course_id int not null,</span><br><span class="line">    number int not null,</span><br><span class="line">    CONSTRAINT `fk_sc_course` FOREIGN KEY (`course_id`) REFERENCES `course` (`cid`),</span><br><span class="line">CONSTRAINT `fk_sc_student` FOREIGN KEY (`student_id`) REFERENCES `student` (`sid`)</span><br><span class="line">) DEFAULT CHARSET=utf8;</span><br></pre></td></tr></table></figure></div></details><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案(step2)</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into sc select * from score;</span><br><span class="line"></span><br><span class="line">insert into sc(sid,student_id,course_id,number)   SELECT sid,student_id,course_id,number FROM score;</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" />39.向score表中插入一些记录，这些记录要求符合以下条件:</p></div><pre><code>- 学生ID为：没上过课程D为“2”课程的学生的学号：- 课程ID为：2- 成绩为：80</code></pre><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案(step1)</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT student.sid,2,80 FROM  student JOIN  score  on student.sid=score.student_id   GROUP BY score.student_id HAVING MAX(CASE WHEN score.course_id = 2 THEN score.number END) IS NULL</span><br></pre></td></tr></table></figure></div></details><blockquote><p>这里使用了MAX函数和CASE表达式来判断学生是否选了课程2。如果学生选了课程2，那么MAX函数会返回该课程的最高分数；如果学生没有选课程2，那么MAX函数会返回NULL。通过判断MAX函数的返回值是否为NULL，就可以筛选出没有选课程2的学生了。</p></blockquote><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案(step2)</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into sc (student_id,course_id,number)  SELECT student.sid,2,80 FROM  student JOIN  score  on student.sid=score.student_id   GROUP BY score.student_id HAVING MAX(CASE WHEN score.course_id = 2 THEN score.number END) IS NULL</span><br></pre></td></tr></table></figure></div></details><div class="tag-plugin quot"><p class="content" type="text">40.向score表中插人些记录，这些记录要求符合以下条件：icon:hashtag</p></div><pre><code>- 学生ID为：学过课程ID为“5”课程的学生的学号。- 课程ID为：2。(我知道根据我的数据这个同学已经学历这个课程)- 成绩为：课程ID为3的最高分。</code></pre><details class="tag-plugin colorful folding" color="yellow" child="codeblock"><summary><span>警告此处为个人本题答案仅供参考，非唯一答案</span></summary><div class="body"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO score (student_id, course_id, number)</span><br><span class="line">SELECT student_id, 2, (SELECT MAX(number) FROM score)</span><br><span class="line">FROM score</span><br><span class="line">WHERE course_id = 5;</span><br></pre></td></tr></table></figure></div></details><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>练习题做了挺久的，至于多久呢？我也不好意思说，以免你说我太菜了（扶额</p><p>好吧，最近可能要开启爆更模式咯。喜欢我的文章麻烦点个有用或者赞同或者收藏之类的呗(<em>^_^</em>)。有什么问题和疑问可以在评论区留盐</p><p>同样在知乎发布:</p><p><a href="https://zhuanlan.zhihu.com/p/648047565">MySQL必备语句和授权🧠&amp;四十道练习题📜(含答案🕶) - 知乎 (zhihu.com)</a></p>]]></content>
    
    
    <summary type="html">一些的mysql必备语句简单总结，并且配备一些些小题目</summary>
    
    
    
    <category term="MySQL" scheme="https://bxzdyg.cn/categories/MySQL/"/>
    
    
    <category term="MySQL" scheme="https://bxzdyg.cn/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Django呐！🤣 图片🖼（含GIF)上传和剪切✂</title>
    <link href="https://bxzdyg.cn/p/django-cropper/"/>
    <id>https://bxzdyg.cn/p/django-cropper/</id>
    <published>2023-08-05T08:32:00.000Z</published>
    <updated>2023-12-31T12:37:54.356Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Python-实现图片剪切"><a href="#Python-实现图片剪切" class="headerlink" title="Python 实现图片剪切"></a>Python 实现图片剪切</h2><p>Python对图片处理的库是非常丰富的，所以有很多库能实现这一目标的方法如Pillow,OpenCV,moviepy等等，而这里给的gif处理方法主要使用的是Pillow,moviepy库的</p><p>安装Pillow,moviepy</p><figure class="highlight bash"><figcaption><span>终端上</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install Pillow</span><br><span class="line">pip install moviepy</span><br></pre></td></tr></table></figure><p>对于图片的剪切主要是通过坐标进行判断，需要提供一个矩形坐标，即四个坐标点进行定位，然后对原图进行剪切处理。</p><p>那么其他废话不多说，直接上代码。(学别人讲的话，直接上代码确实很爽)</p><h3 id="除GIF的图片文件处理"><a href="#除GIF的图片文件处理" class="headerlink" title="除GIF的图片文件处理"></a>除GIF的图片文件处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">U_x = <span class="number">144.73429951690818</span>    <span class="comment"># x轴坐标</span></span><br><span class="line">U_y = <span class="number">76.13526570048306</span><span class="comment"># y轴坐标</span></span><br><span class="line">U_width = <span class="number">640.0000000000001</span><span class="comment"># 剪切大小</span></span><br><span class="line">U_height = <span class="number">640.0000000000001</span></span><br><span class="line">u_rotate = <span class="number">90</span><span class="comment"># 旋转角度</span></span><br><span class="line"></span><br><span class="line">img = Image.<span class="built_in">open</span>(<span class="string">&#x27;input.img&#x27;</span>)</span><br><span class="line">    crop_im = img.crop((U_x, U_y, U_x + U_width, U_y + U_height)).resize((<span class="number">400</span>, <span class="number">400</span>),Image.LANCZOS).rotate(u_rotate)</span><br><span class="line">    <span class="comment"># 注意这里的Image.LANCZOS，如果你的Pillow是10.0直接CV那么啥事情，但是其他的版本可能是Image.ANTIALIAS如9.5</span></span><br></pre></td></tr></table></figure><p>备注：LANCZOS实际上和ANTIALIAS指向的是同一种图像插值模式算法</p><h3 id="GIF图片文件处理"><a href="#GIF图片文件处理" class="headerlink" title="GIF图片文件处理"></a>GIF图片文件处理</h3><p>#用Pillow处理</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 2023/8/3 11:25</span></span><br><span class="line"><span class="comment"># @Author  : BXZDYG</span></span><br><span class="line"><span class="comment"># @Software: PyCharm</span></span><br><span class="line"><span class="comment"># @File    : Pillow_crop_gif.py</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, ImageSequence</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    first_time = time.time()      <span class="comment"># 时间戳检验剪切速度</span></span><br><span class="line">    start=time.perf_counter()         <span class="comment"># 计算机时间检验剪切速度</span></span><br><span class="line">    U_x = <span class="number">144.73429951690818</span> <span class="comment">#  x轴坐标</span></span><br><span class="line">    U_y = <span class="number">76.13526570048306</span> <span class="comment"># y轴坐标</span></span><br><span class="line">    U_width = <span class="number">640.0000000000001</span><span class="comment"># 剪切大小</span></span><br><span class="line">    U_height = <span class="number">640.0000000000001</span></span><br><span class="line">    u_rotate = <span class="number">90</span><span class="comment"># 旋转角度</span></span><br><span class="line">    frames = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> Image.<span class="built_in">open</span>(<span class="string">&#x27;input.gif&#x27;</span>) <span class="keyword">as</span> im:</span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> frame <span class="keyword">in</span> ImageSequence.Iterator(im):</span><br><span class="line">            frame = frame.crop((U_x, U_y, U_x + U_width, U_y + U_height)).resize((<span class="number">400</span>, <span class="number">400</span>)).rotate(u_rotate)</span><br><span class="line">            frame.info[<span class="string">&#x27;duration&#x27;</span>] = im.info[<span class="string">&#x27;duration&#x27;</span>]</span><br><span class="line">            frames.append(frame)</span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line">    frames[<span class="number">0</span>].save(<span class="string">&#x27;out.gif&#x27;</span>,</span><br><span class="line">                   save_all=<span class="literal">True</span>, append_images=frames[<span class="number">1</span>:], loop=<span class="number">0</span>, duration=im.info[<span class="string">&#x27;duration&#x27;</span>], quality=<span class="number">80</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;时间戳说——总共用时:&#x27;</span>,time.time()-first_time,<span class="string">&#x27;秒&#x27;</span>)   <span class="comment"># 总共用时: 4-5 秒</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;计算机说——总共用时:&#x27;</span>,time.perf_counter()-start,<span class="string">&#x27;秒&#x27;</span>)   <span class="comment"># 总共用时: 4-5 秒</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>#用moviepy进行图片剪切</p><p>备注：如果你要求对分辨率的在处理的话，那么需要Pillow的版本为9.5，10.0和其底层的resize中设置的<strong>图像插值模式</strong>冲突，是Image.ANTIALIAS，手动打上去还改不了，而且速度极慢，是用Pillow和结合Pillow库的两倍。而且在movie官方文档也不建议在大型框架和web上使用moviepy.editor子模块</p><p><img src="/image-20230805085423585.png" alt="image-20230805085423585"></p><div class="tag-plugin link dis-select"><a class="link-card plain" title="moviepy-cn 文档" href="http://doc.moviepy.com.cn/index.html#document-2_MoviePy入门/index" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">moviepy-cn 文档</span><span class="cap link fs12">http://doc.moviepy.com.cn/index.html#document-2_MoviePy入门/index</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># @Time    : 2023/8/3 11:26</span></span><br><span class="line"><span class="comment"># @Author  : BXZDYG</span></span><br><span class="line"><span class="comment"># @Software: PyCharm</span></span><br><span class="line"><span class="keyword">from</span> moviepy.editor <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    first_time = time.time()  <span class="comment"># 时间戳检验剪切速度</span></span><br><span class="line">    start = time.perf_counter()  <span class="comment"># CPU时间检验剪切速度</span></span><br><span class="line">    x = <span class="number">144.73429951690818</span></span><br><span class="line">    y = <span class="number">76.13526570048306</span></span><br><span class="line">    width = <span class="number">640.0000000000001</span></span><br><span class="line">    height = <span class="number">640.0000000000001</span></span><br><span class="line">    t_rotate = <span class="number">90</span></span><br><span class="line">    gif = VideoFileClip(<span class="string">&#x27;head_cap.gif&#x27;</span>)</span><br><span class="line">    <span class="comment"># 获取帧数</span></span><br><span class="line">    nframes = gif.reader.nframes</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 设置每帧duration</span></span><br><span class="line">    durations = [<span class="number">0.1</span>] * nframes</span><br><span class="line"></span><br><span class="line">    images = [gif.get_frame(t) <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(nframes)]</span><br><span class="line"></span><br><span class="line">    clip = ImageSequenceClip(images, durations=durations)</span><br><span class="line"></span><br><span class="line">    rotated = clip.crop(x1=x, y1=y, x2=x + width, y2=y + height).resize((<span class="number">400</span>, <span class="number">400</span>)).rotate(t_rotate)</span><br><span class="line">    <span class="comment"># resized = rotated.resize((400, 400)) # 调整分辨率</span></span><br><span class="line">    <span class="comment"># resized.write_gif(&#x27;23.gif&#x27;, fps=20)</span></span><br><span class="line">    rotated.write_gif(<span class="string">&#x27;23.gif&#x27;</span>, fps=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;时间戳说——总共用时:&#x27;</span>, time.time() - first_time, <span class="string">&#x27;秒&#x27;</span>)  <span class="comment"># 总共用时: 10+ 秒</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;CPU说——总共用时:&#x27;</span>, time.perf_counter() - start, <span class="string">&#x27;秒&#x27;</span>)  <span class="comment"># 总共用时: 10+ 秒</span></span><br></pre></td></tr></table></figure><p>#用Pillow对每一帧图片进行剪切，moviepy生成gif文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 2023/8/3 11:26</span></span><br><span class="line"><span class="comment"># @Author  : BXZDYG</span></span><br><span class="line"><span class="comment"># @Software: PyCharm</span></span><br><span class="line"><span class="comment"># @File   : Movie_Pillow_crop_gif.py</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> moviepy.editor <span class="keyword">import</span> VideoFileClip</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pillow_movie_crop</span>(<span class="params">img</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    :param img:</span></span><br><span class="line"><span class="string">    :return: 存在缺点帧数丢失，图片变大</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    im = Image.fromarray(img)</span><br><span class="line">    cropped = im.crop((x, y, x+width, y+height)).resize((<span class="number">400</span>,<span class="number">400</span>)).rotate(t_rotate)</span><br><span class="line">    <span class="keyword">return</span> np.array(cropped)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    first_time=time.time()</span><br><span class="line">    x = <span class="number">144.73429951690818</span></span><br><span class="line">    y = <span class="number">76.13526570048306</span></span><br><span class="line">    width = <span class="number">640.0000000000001</span></span><br><span class="line">    height = <span class="number">640.0000000000001</span></span><br><span class="line">    t_rotate = <span class="number">90</span></span><br><span class="line">    clip = VideoFileClip(<span class="string">&quot;head_cap.gif&quot;</span>, has_mask=<span class="literal">False</span>)  <span class="comment"># 在加载GIF时指定保留所有帧</span></span><br><span class="line">    cropped_clip = clip.fl_image(pillow_movie_crop)</span><br><span class="line">    cropped_clip.write_gif(<span class="string">&quot;21.gif&quot;</span>, fuzz=<span class="number">10</span>, opt=<span class="string">&#x27;nq&#x27;</span>)  <span class="comment"># 在写出GIF时指定优化参数,减少质量损</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;总共用时:&#x27;</span>,time.time()-first_time,<span class="string">&#x27;秒&#x27;</span>)         <span class="comment"># 4.687000274658203 秒 基本上4-5s左右</span></span><br></pre></td></tr></table></figure><p>所以其实使用Pillow库是一个优选</p><h2 id="Django-文件上传"><a href="#Django-文件上传" class="headerlink" title="Django 文件上传"></a>Django 文件上传</h2><h3 id="启用-media"><a href="#启用-media" class="headerlink" title="启用 media"></a>启用 media</h3><figure class="highlight python"><figcaption><span>settings.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在末尾加入</span></span><br><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">&#x27;media&#x27;</span>)</span><br><span class="line">MEDIA_URL = <span class="string">&#x27;/media/&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>utils.py 自主封装的自定义文件字段,对上传文件进行限制</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RestrictedFileField</span>(<span class="title class_ inherited__">FileField</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; max_upload_size:</span></span><br><span class="line"><span class="string">            2.5MB - 2621440</span></span><br><span class="line"><span class="string">            5MB - 5242880</span></span><br><span class="line"><span class="string">            10MB - 10485760</span></span><br><span class="line"><span class="string">            20MB - 20971520</span></span><br><span class="line"><span class="string">            50MB - 5242880</span></span><br><span class="line"><span class="string">            100MB 104857600</span></span><br><span class="line"><span class="string">            250MB - 214958080</span></span><br><span class="line"><span class="string">            500MB - 429916160</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        self.content_types = kwargs.pop(<span class="string">&quot;content_types&quot;</span>, [])</span><br><span class="line">        self.max_upload_size = kwargs.pop(<span class="string">&quot;max_upload_size&quot;</span>, [])</span><br><span class="line">        <span class="built_in">super</span>().__init__(*args, **kwargs)</span><br><span class="line">     <span class="keyword">def</span> <span class="title function_">clean</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        data = <span class="built_in">super</span>().clean(*args, **kwargs)  <span class="comment"># clean()方法来自于FileField的父类Field, 用于验证</span></span><br><span class="line"></span><br><span class="line">        file = data.file</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">        content_type = file.content_type</span><br><span class="line">            <span class="comment"># 自定义验证</span></span><br><span class="line">            <span class="keyword">if</span> content_type <span class="keyword">in</span> self.content_types:</span><br><span class="line">                <span class="keyword">if</span> file.size &gt; self.max_upload_size:</span><br><span class="line">                   <span class="keyword">raise</span> forms.ValidationError(<span class="string">&#x27;文件大小要求为&#123;&#125;. 当前文件大小为 &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(filesizeformat(self.max_upload_size), filesizeformat(file.size))) </span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">raise</span> forms.ValidationError(<span class="string">&#x27;当前文件格式不被运行,仅支持&#123;&#125;.&#x27;</span>.<span class="built_in">format</span>(self.content_types))</span><br><span class="line">        <span class="keyword">except</span> AttributeError:</span><br><span class="line">             <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">return</span> data</span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>models.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> utils <span class="keyword">import</span> RestrictedFileField</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>(models.Model)</span><br><span class="line">avatar = RestrictedFileField(verbose_name=<span class="string">u&#x27;头像&#x27;</span>, max_length=<span class="number">50</span>, default=<span class="string">&#x27;avatar/用户.png&#x27;</span>,</span><br><span class="line">                             upload_to=<span class="string">&#x27;avatar/&#x27;</span>,</span><br><span class="line">                             content_types=[<span class="string">&#x27;image/jpeg&#x27;</span>, <span class="string">&#x27;image/png&#x27;</span>, <span class="string">&#x27;image/gif&#x27;</span>, <span class="string">&#x27;image/bmp&#x27;</span>,</span><br><span class="line">                                            <span class="string">&#x27;image/tiff&#x27;</span>],max_upload_size=<span class="number">5242880</span>)</span><br><span class="line"><span class="built_in">id</span> = models.BigAutoField(verbose_name=<span class="string">&#x27;UID&#x27;</span>, primary_key=<span class="literal">True</span>)</span><br><span class="line">……</span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>urls.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include, re_path</span><br><span class="line"><span class="keyword">from</span> django.views.static <span class="keyword">import</span> serve</span><br><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    <span class="comment"># 上传文件位置</span></span><br><span class="line">    re_path(<span class="string">r&#x27;^media/(?P&lt;path&gt;.*)$&#x27;</span>, serve, &#123;<span class="string">&#x27;document_root&#x27;</span>: settings.MEDIA_ROOT&#125;, name=<span class="string">&#x27;media&#x27;</span>),</span><br><span class="line">    ……</span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>views.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> app.error <span class="keyword">import</span> errorResponse</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfoForm</span>(forms.ModelForm):</span><br><span class="line">    <span class="comment"># avatar = forms.FileField(label=&#x27;头像&#x27;)</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = UserInfo</span><br><span class="line">        fields = <span class="string">&#x27;__all__&#x27;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">edit_info</span>(<span class="params">request</span>):</span><br><span class="line">    uid = request.session[<span class="string">&#x27;uid&#x27;</span>] <span class="comment"># 用户登录存储在session中的信息</span></span><br><span class="line">    userinfo = UserInfo.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).get()</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;GET&#x27;</span>:</span><br><span class="line">        form = UserInfoForm(instance=userinfo)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&#x27;space_edit_info.html&#x27;</span>, &#123;</span><br><span class="line">            <span class="string">&#x27;userinfo&#x27;</span>: userinfo,</span><br><span class="line">            <span class="string">&#x27;form&#x27;</span>: form,</span><br><span class="line">            <span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;个人中心-编辑个人信息&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    form = UserInfoForm(instance=userinfo, data=request.POST)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&#x27;/space/edit_info/&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> errorResponse(request, errMsg=form[<span class="string">&#x27;avatar&#x27;</span>].errors[<span class="number">0</span>] )</span><br></pre></td></tr></table></figure><p>此处的errorResponse是自己封装的处理错误页函数,这样可以在前端显示自定义头像组件的错误</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def errorResponse(request, errMsg):</span><br><span class="line">    &#x27;&#x27;&#x27;</span><br><span class="line">    :param request:</span><br><span class="line">    :param errMsg:返回错误信息到前端页面</span><br><span class="line">    :return:</span><br><span class="line">    &#x27;&#x27;&#x27;</span><br><span class="line">    return render(request, &#x27;error.html&#x27;, &#123;&#x27;errMsg&#x27;: errMsg&#125;)</span><br></pre></td></tr></table></figure><h2 id="Django-图片上传剪切综合案例实现"><a href="#Django-图片上传剪切综合案例实现" class="headerlink" title="Django 图片上传剪切综合案例实现"></a>Django 图片上传剪切综合案例实现</h2><h3 id="前端获取所需的坐标数据"><a href="#前端获取所需的坐标数据" class="headerlink" title="前端获取所需的坐标数据"></a>前端获取所需的坐标数据</h3><p>使用基于JQuery的cropper和Bootstrap,可以更方便的实现获取用户对图片剪切的操作(缩放，旋转等)后的数据和坐标。</p><blockquote><p>jQuery cropper是一款使用简单且功能强大的图片剪裁jquery插件。该插件支持图片放大，缩小，旋转，裁剪和预览等功能。</p></blockquote><p>素材来源17素材，不用登录另存为网页就行。</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="html5头像图片上传截图保存修改代码(17sucai.com)" href="https://www.17sucai.com/pins/27291.html" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">html5头像图片上传截图保存修改代码(17sucai.com)</span><span class="cap link fs12">https://www.17sucai.com/pins/27291.html</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><p><img src="/image-20230805103944306.png" alt="image-20230805103944306"></p><p>注意演示里的最右上角x最好点一下，因为我们要的里面的<code>&lt;iframe&gt;</code>标签的html文档，然后保存下来的就是我们需要的素材，然后自己处理一下。文件主要如下</p><p><img src="/image-20230805104223047.png" alt="image-20230805104223047"></p><p>sitelogo.js是利用cropper获取坐标等数据,然后携带数据向处理的url放送请求</p><p>目标的url又写在了签单的html文件里 from的action,修改这个即可。</p><p>这里我使用的是Django的url反向解析,更便利一些，有着不少好处。</p><p><img src="/image-20230805104752054.png" alt="image-20230805104752054"></p><p>而在sitelogo.js中，主要要去关注两部分</p><p>这部分是序列化坐标和旋转角度数据，这里的x,y是左上的坐标，根据height和width可以计算出选中的矩形整个坐标。</p><p><img src="/image-20230805110952558.png" alt="image-20230805110952558"></p><p>发送ajax请求</p><p><img src="/image-20230805111222984.png" alt="image-20230805111222984"></p><p>前端的文件主要知道这些就可以了，自己不喜欢这些样式，想再多添加些功能可以自己改。</p><p>而前端重中之重就是记得Django有一个csrf安全验证机制，如果没有在中间件关闭它，就需要在前端添提交表单添加一个<code>&#123;% csrf_token%&#125;</code>或者在对应函数前面标记注释。再或者直接根据上面这张ajax提交代码的图片，在你自己写的js代码中添加在headers中.</p><p>@csrf_exempt</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.views.decorators.csrf <span class="keyword">import</span> csrf_exempt</span><br><span class="line"><span class="comment">#在对应函数前面标记注释</span></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br></pre></td></tr></table></figure><h3 id="后端根据坐标对图片进行剪切"><a href="#后端根据坐标对图片进行剪切" class="headerlink" title="后端根据坐标对图片进行剪切"></a>后端根据坐标对图片进行剪切</h3><p>#models.py 继承上面</p><figure class="highlight python"><figcaption><span>urls.py继承上面且扩充</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">&#x27;upload_avatar/&#x27;</span>, views.upload_avatar, name=<span class="string">&#x27;upload_avatar&#x27;</span>),</span><br><span class="line">path(<span class="string">&#x27;ajax_avatar_upload/&#x27;</span>, views.ajax_avatar_upload, name=<span class="string">&#x27;ajax_avatar_upload&#x27;</span>),</span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>views.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> uuid</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect, get_object_or_404</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> reverse</span><br><span class="line"><span class="keyword">from</span> django.views.decorators.csrf <span class="keyword">import</span> csrf_exempt</span><br><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, ImageSequence</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> UserInfo</span><br><span class="line"><span class="comment"># 这里使用的是Form而不是ModelForm,你可以直接引用上面写的UserInfo,用其自定义的头像字段，当然这里只是为了讲解和展示，你自己可以试试我说的</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AvatarUploadForm</span>(forms.Form):</span><br><span class="line">    avatar_file = forms.ImageField()</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">upload_avatar</span>(<span class="params">request</span>):</span><br><span class="line">uid = request.session[<span class="string">&#x27;uid&#x27;</span>]</span><br><span class="line">    userinfo = UserInfo.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).get()</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&#x27;Document.html&#x27;</span>, &#123;</span><br><span class="line">        <span class="string">&#x27;userinfo&#x27;</span>: userinfo</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ajax_avatar_upload</span>(<span class="params">request</span>):</span><br><span class="line">uid = request.session[<span class="string">&#x27;uid&#x27;</span>]</span><br><span class="line">    userinfo = get_object_or_404(UserInfo, userName=username)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        form = AvatarUploadForm(request.POST, request.FILES)</span><br><span class="line">        <span class="keyword">if</span> form.is_valid():</span><br><span class="line">            img = request.FILES[<span class="string">&#x27;avatar_file&#x27;</span>]  <span class="comment"># 获取上传图片</span></span><br><span class="line">            data = request.POST[<span class="string">&#x27;avatar_data&#x27;</span>]  <span class="comment"># 获取ajax返回图片坐标</span></span><br><span class="line">            <span class="comment"># print(img.size)  # 图片大小</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> img.size &gt; <span class="number">5242880</span>:</span><br><span class="line">              <span class="comment"># 相当于if img.size / 1024 / 1024 &gt; 5:</span></span><br><span class="line">                <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;上传图片大小应小于5MB, 请重新上传。&quot;</span>, &#125;)</span><br><span class="line"></span><br><span class="line">            current_avatar = userinfo.avatar</span><br><span class="line">            cropped_avatar = crop_image(current_avatar, img, data, userinfo.<span class="built_in">id</span>)</span><br><span class="line">            userinfo.avatar = cropped_avatar  <span class="comment"># 将图片路径修改到当前会员数据库</span></span><br><span class="line">            userinfo.save()</span><br><span class="line">            <span class="comment"># 向前台返回一个json，result值是图片路径</span></span><br><span class="line">            data = &#123;<span class="string">&quot;result&quot;</span>: userinfo.avatar.url, &#125;</span><br><span class="line">            <span class="keyword">return</span> JsonResponse(data)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;请重新上传。只能上传图片&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> HttpResponseRedirect(reverse(<span class="string">&#x27;upload_avatar&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">crop_image</span>(<span class="params">current_avatar, file, data, uid</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param current_avatar:  当前头像</span></span><br><span class="line"><span class="string">    :param file:            上传文件</span></span><br><span class="line"><span class="string">    :param data:            坐标</span></span><br><span class="line"><span class="string">    :param uid:             用户id</span></span><br><span class="line"><span class="string">    :return:                保存的图片路径名</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># 随机生成新的图片名，自定义路径。</span></span><br><span class="line">    ext = file.name.split(<span class="string">&#x27;.&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">    file_name = <span class="string">&#x27;&#123;&#125;.&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(uuid.uuid4().<span class="built_in">hex</span>[:<span class="number">10</span>], ext)</span><br><span class="line">    cropped_avatar = os.path.join(<span class="built_in">str</span>(uid), <span class="string">&quot;avatar&quot;</span>, file_name)</span><br><span class="line">    <span class="comment"># 相对根目录路径</span></span><br><span class="line">    file_path = os.path.join(<span class="string">&quot;media&quot;</span>, <span class="built_in">str</span>(uid), <span class="string">&quot;avatar&quot;</span>, file_name)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取Ajax发送的裁剪参数data，先用json解析。</span></span><br><span class="line">    coords = json.loads(data)</span><br><span class="line">    t_x = <span class="built_in">int</span>(coords[<span class="string">&#x27;x&#x27;</span>])</span><br><span class="line">    t_y = <span class="built_in">int</span>(coords[<span class="string">&#x27;y&#x27;</span>])</span><br><span class="line">    t_width = t_x + <span class="built_in">int</span>(coords[<span class="string">&#x27;width&#x27;</span>])</span><br><span class="line">    t_height = t_y + <span class="built_in">int</span>(coords[<span class="string">&#x27;height&#x27;</span>])</span><br><span class="line">    t_rotate = coords[<span class="string">&#x27;rotate&#x27;</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">abs</span>(t_rotate)&lt;=<span class="number">90</span>:<span class="comment">#这里旋转小于等于90度居然是相反方向</span></span><br><span class="line">        t_rotate=-t_rotate</span><br><span class="line">    <span class="comment"># 通过文件名判断是否为gif</span></span><br><span class="line">    <span class="keyword">if</span> file_name.endswith(<span class="string">&#x27;.gif&#x27;</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;成功了就是保存的文件会变大，还有保存速度太慢了4~5s,前台应该做个动画&#x27;&#x27;&#x27;</span></span><br><span class="line">        frames = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> Image.<span class="built_in">open</span>(file) <span class="keyword">as</span> im:</span><br><span class="line">            idx = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> frame <span class="keyword">in</span> ImageSequence.Iterator(im):</span><br><span class="line">                frame = frame.crop((t_x, t_y, t_width, t_height)).resize((<span class="number">400</span>, <span class="number">400</span>)).rotate(t_rotate)</span><br><span class="line">                frame.info[<span class="string">&#x27;duration&#x27;</span>] = im.info[<span class="string">&#x27;duration&#x27;</span>]</span><br><span class="line">                frames.append(frame)</span><br><span class="line">                idx += <span class="number">1</span></span><br><span class="line">        frames[<span class="number">0</span>].save(file_path,</span><br><span class="line">                       save_all=<span class="literal">True</span>, append_images=frames[<span class="number">1</span>:], loop=<span class="number">0</span>, duration=im.info[<span class="string">&#x27;duration&#x27;</span>], quality=<span class="number">80</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 裁剪图片,压缩尺寸为400*400。</span></span><br><span class="line">        img = Image.<span class="built_in">open</span>(file)</span><br><span class="line">        <span class="comment"># 由于我的Pillow版本是     10.0 Image.ANTIALIAS 被弃用</span></span><br><span class="line">        crop_im = img.crop((t_x, t_y, t_width, t_height)).resize((<span class="number">400</span>, <span class="number">400</span>), Image.LANCZOS).rotate(t_rotate)</span><br><span class="line"></span><br><span class="line">        directory = os.path.dirname(file_path)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(directory):</span><br><span class="line">            os.makedirs(directory)</span><br><span class="line">        crop_im.save(file_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 如果头像不是默认头像，删除老头像图片, 节省空间</span></span><br><span class="line">    <span class="comment"># 这部分可以删去，或者限制用户可以查看最近10张头像历史</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> current_avatar == os.path.join(<span class="string">&quot;media&quot;</span>, <span class="string">&quot;avatar&quot;</span>, <span class="string">&quot;用户.png&quot;</span>):</span><br><span class="line">        current_avatar_path = os.path.join(<span class="string">&quot;media&quot;</span>, <span class="built_in">str</span>(uid), <span class="string">&quot;avatar&quot;</span>,os.path.basename(current_avatar.url))</span><br><span class="line">        os.remove(current_avatar_path)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cropped_avatar</span><br></pre></td></tr></table></figure><p>效果展示</p><p>#静图剪切</p><p><img src="/%E9%9D%99%E5%9B%BE%E5%89%AA%E5%88%87%E5%8A%A8%E7%94%BB.gif" alt="静图剪切动画"></p><p>#动图剪切（这一步其实挺慢的，中间等待的部分剪去了）</p><p><img src="/gif%E5%8A%A8%E5%9B%BE%E5%89%AA%E5%88%87.gif" alt="gif动图剪切"></p><h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>当初自己整这个可是整了挺久的，很难找到直接拿来用的，很多都是前端VUE处理的，没有直接是Html或是Html+JQuery,而且那些头像处理没有对GiF处理的步骤，就观在那些大型网站来看，现在好像确实没有多少支持用gif动图为头像的。</p><psw>而且这个前端处理的js文件坐标点好像有点偏移……</psw><p>虽然历经不少，也找到了解决办法，但是还是那么难找，整了挺久的。找到了还是要自己理解和运用，就这样吧，希望我的文章能给你提供帮助。</p><p>希望能够我一个赞同&#x2F;赞&#x2F;收藏辣(‾◡◝)</p><p>大家有什么问题可以在评论区大胆留盐（不用加密（bushi</p><blockquote><p>与CSDN同步发布，我应该在博客园也发一份~</p></blockquote>]]></content>
    
    
    <summary type="html">前后端不分离的项目中使用Pillow等库地图片进行简单的剪切</summary>
    
    
    
    <category term="后端" scheme="https://bxzdyg.cn/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="Django" scheme="https://bxzdyg.cn/tags/Django/"/>
    
    <category term="Python" scheme="https://bxzdyg.cn/tags/Python/"/>
    
    <category term="Pillow" scheme="https://bxzdyg.cn/tags/Pillow/"/>
    
  </entry>
  
  <entry>
    <title>超详细MySql的安装✨，包含各种安装问题及解决方法🎯</title>
    <link href="https://bxzdyg.cn/p/mysql-setup/"/>
    <id>https://bxzdyg.cn/p/mysql-setup/</id>
    <published>2023-05-30T11:57:09.000Z</published>
    <updated>2024-01-02T10:25:57.767Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h2><p>本文主要讲的是MySQL本地部署即安装与配置</p><p>zip 和 msi</p><p>这两种版本大致就是更详细的安装和更粗暴的安装罢了，没有什么太大区别，除了mysql的版本外，能正常使用就行</p><h2 id="zip包版"><a href="#zip包版" class="headerlink" title="zip包版"></a>zip包版</h2><h3 id="第1步下载安装"><a href="#第1步下载安装" class="headerlink" title="第1步下载安装"></a><strong>第1步下载安装</strong></h3><p>官网下载地址:</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="MySQL Community Downloads" href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">MySQL Community Downloads</span><span class="cap link fs12">https://dev.mysql.com/downloads/mysql/</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><p><img src="/image-20230505141807188.png" alt="image-20230505141807188"></p><p><img src="/image-20230506142841841.png" alt="image-20230506142841841"></p><p>点击下载后有人可能很懵逼，啥？居然还要登录。其实下面有一个直接开始下载的按钮。点一下直接下载就行</p><h3 id="第2步：解压到任意文件夹并创建配置文件"><a href="#第2步：解压到任意文件夹并创建配置文件" class="headerlink" title="第2步：解压到任意文件夹并创建配置文件"></a>第2步：解压到任意文件夹并创建配置文件</h3><p><strong>建议解压至软件安装目录</strong></p><p>并在安装目录下创建my.ini的文件，作为MySQL的配置文件</p><p><img src="/image-20230506165531300.png" alt="image-20230506165531300"></p><p><img src="/image-20230506174312996.png" alt="image-20230506174312996"></p><p>配置内容如下:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">port=3306</span><br><span class="line">#basedir=C:/Program Files/mysql-5.7.26-winx64</span><br><span class="line">#datadir=C:/Program Files/mysql-5.7.26-winx64/data/</span><br><span class="line">basedir=C:\Program Files\MySQL\mysql-8.0.33-winx64</span><br><span class="line">datadir=C:\Program Files\MySQL\mysql-8.0.33-winx64\data\</span><br><span class="line">character-set-server=utf8</span><br><span class="line">default-storage-engine=MyIsam</span><br><span class="line">max_connections=100</span><br><span class="line">collation-server=utf8_unicode_ci</span><br><span class="line">init_connect=&#x27;SET NAMES utf8&#x27;</span><br><span class="line">innodb_buffer_pool_size=64M</span><br><span class="line">innodb_flush_log_at_trx_commit=1</span><br><span class="line">innodb_lock_wait_timeout=120</span><br><span class="line">innodb_log_buffer_size=4M</span><br><span class="line">innodb_log_file_size=256M</span><br><span class="line">interactive_timeout=120</span><br><span class="line">join_buffer_size=2M</span><br><span class="line">key_buffer_size=32M</span><br><span class="line">log_error_verbosity=1</span><br><span class="line">max_allowed_packet=16M</span><br><span class="line">max_heap_table_size=64M</span><br><span class="line">myisam_max_sort_file_size=64G</span><br><span class="line">myisam_sort_buffer_size=32M</span><br><span class="line">read_buffer_size=512kb</span><br><span class="line">read_rnd_buffer_size=4M</span><br><span class="line">server_id=1</span><br><span class="line">skip-external-locking=on</span><br><span class="line">sort_buffer_size=256kb</span><br><span class="line">table_open_cache=256</span><br><span class="line">thread_cache_size=16</span><br><span class="line">tmp_table_size=64M</span><br><span class="line">wait_timeout=120</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line">port=3306</span><br><span class="line">default-character-set=utf8</span><br></pre></td></tr></table></figure><p><strong>关于配置文件，如果不进行配置的话，MySQL则自动使用默认值</strong></p><p><strong>注意键入配置操作命令须在管理员权限下</strong></p><p><strong>配置优先级</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;&quot;C:\Program Files\MySQL\mysql-8.0.33-winx64\bin\mysqld.exe&quot; --help --verbose</span><br></pre></td></tr></table></figure><p>输入后会有很多信息，这里主要看前面几条，直接ctrl+c停止命令</p><ul><li>初始化目录，自动生成data目录，用于存放数据库数据和日志文件之类的</li><li>同时创建建必备一些的数据，例如默认账户root（无密码），用于登录MySQL并通过指令操作MySQL</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;&quot;C:\Program Files\MySQL\mysql-8.0.33-winx64\bin\mysqld.exe&quot; --initialize-insecure</span><br></pre></td></tr></table></figure><p><img src="/image-20230506180828533.png" alt="image-20230506180828533"></p><p><img src="/image-20230506181708022.png" alt="image-20230506181708022"></p><p>在windowns安装过程中如果有报错(msvcr120.dll不存在)，请下载并安装下面的两个补丁：（主要是mysql环境没有搭建好，后面msi可对照）</p><blockquote><p> vcredist(主要): <a href="https://www.microsoft.com/zh-cn/download/confirmation.aspx?id=40784">Download Visual C++ Redistributable Packages for Visual Studio 2013 from Official Microsoft Download Center</a></p></blockquote><p><img src="/image-20230506182437961.png" alt="image-20230506182437961"></p><p>进去就会自动下载</p><blockquote><p> dirctx:   <a href="https://www.microsoft.com/zh-CN/download/details.aspx?id=35">https://www.microsoft.com/zh-CN/download/details.aspx?id=35</a></p></blockquote><p><img src="/image-20230506182408137.png" alt="image-20230506182408137"></p><p>基础安装到这里就结束了</p><p><strong>设置密码(也可以用作登录后修改成新的密码)</strong></p><p>在mysql中查看是不是明文密码:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">use mysql</span><br><span class="line">SELECT user, authentication_string FROM user;</span><br><span class="line">mysql&gt; use mysql</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; SELECT user, authentication_string FROM user;</span><br><span class="line">+------------------+------------------------------------------------------------------------+</span><br><span class="line">| user             | authentication_string                                                  |</span><br><span class="line">+------------------+------------------------------------------------------------------------+</span><br><span class="line">| mysql.infoschema | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED |</span><br><span class="line">| mysql.session    | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED |</span><br><span class="line">| mysql.sys        | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED |</span><br><span class="line">| root             | $A$005$@Pbut&#123;B (nV&gt;L4;T</span><br><span class="line">%0A.80wi0m8X9xvwz5Gsu3oo1qNr3FN4Zb6PtR/pHHD6 |</span><br><span class="line">+------------------+------------------------------------------------------------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;  UPDATE user SET authentication_string=&quot;123&quot; WHERE user=&quot;root&quot;;#这种方式写的密码是有问题的，导致不能够登录</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT user, authentication_string FROM user;</span><br><span class="line">+------------------+------------------------------------------------------------------------+</span><br><span class="line">| user             | authentication_string                                                  |</span><br><span class="line">+------------------+------------------------------------------------------------------------+</span><br><span class="line">| mysql.infoschema | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED |</span><br><span class="line">| mysql.session    | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED |</span><br><span class="line">| mysql.sys        | $A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED |</span><br><span class="line">| root             | 123                                                                    |</span><br><span class="line">+------------------+------------------------------------------------------------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><blockquote><p> 一步到位：查看密码库。不是设置密码。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select authentication_string from mysql.user where User=&#x27;root&#x27;;</span><br></pre></td></tr></table></figure><p>方法一(通用)：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified by &#x27;password&#x27;;</span><br><span class="line">mysql -u root -p </span><br><span class="line">#登录后</span><br><span class="line">mysql&gt; alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified by &#x27;root&#x27;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br><span class="line"></span><br><span class="line">C:\Windows\system32&gt;mysql -u root -P 3307  -p</span><br><span class="line">Enter password: **** #root</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 17</span><br><span class="line">Server version: 8.0.33 MySQL Community Server - GPL</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2021, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure><p>方法二（5.7~5.7.9 其他版本没试过但是mysql8已经将SET PASSWORD语句废弃）：使用mysql提供的密码修改命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">SET PASSWORD FOR &#x27;user&#x27;@&#x27;host&#x27; = PASSWORD(&#x27;newpassword&#x27;);</span><br><span class="line">                    用户  ip  </span><br><span class="line">SET PASSWORD FOR &#x27;root&#x27;@&#x27;localhost&#x27; = PASSWORD(&#x27;newpassword&#x27;);</span><br><span class="line">C:\Users\14763&gt;mysql -uroot -p</span><br><span class="line">Enter password: ****</span><br><span class="line">#登录后</span><br><span class="line"></span><br><span class="line">mysql&gt; SET PASSWORD FOR &#x27;root&#x27;@&#x27;localhost&#x27; = PASSWORD(&#x27;root123&#x27;);</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; exit;</span><br><span class="line">Bye</span><br><span class="line"></span><br><span class="line">C:\Users\14763&gt;mysql -uroot -p</span><br><span class="line">Enter password: ****** #root123</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 16</span><br><span class="line">Server version: 5.7.36-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2021, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure><h3 id="第3步-启动MySQL"><a href="#第3步-启动MySQL" class="headerlink" title="第3步 启动MySQL"></a>第3步 启动MySQL</h3><p>启动MySQL有两种模式：</p><ul><li>临时启动</li></ul><p>cmd   C:\Windows\system32&gt;”C:\Program Files\MySQL\mysql-8.0.33-winx64\bin\mysqld.exe”</p><p><img src="/image-20230506183114470.png" alt="image-20230506183114470"></p><p>此时还会弹出一个防火墙权限通知，允许即可。（没有也正常）</p><p>注意：此时程序会挂起，内部就是可以接收客户端发来的MySQL指令，关闭窗口或Ct+c就可以停止运行。    这种启动方式每次开机或想要开启都需要手动执行一遍命令比较麻烦。</p><ul><li>制作windows服务,基于windows服务管理。</li></ul><p>cmd   C:\Windows\system32&gt;”C:\Program Files\MySQL\mysql-8.0.33-winx64\bin\mysqld.exe” –install mysql80</p><p><img src="/image-20230506184037449.png" alt="image-20230506184037449"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#卸载服务 除了</span><br><span class="line">sc delete mysql80</span><br><span class="line">#还有一种方法</span><br><span class="line">C:\Windows\system32&gt;&quot;C:\Program Files\MySQL\mysql-8.0.33-winx64\bin\mysqld.exe&quot; --remove mysql80</span><br></pre></td></tr></table></figure><p><img src="/image-20230506185723749.png" alt="image-20230506185723749"></p><h3 id="第4步-设置环境变量"><a href="#第4步-设置环境变量" class="headerlink" title="第4步 设置环境变量"></a>第4步 设置环境变量</h3><p>使用配置环境相当于定于了全局变量，不用我们先转到mysql的安装目录或者敲入文件目录（详细情况见msi版本讲解），直接敲入 mysql -u root -p就可以登录了。</p><p><img src="/image-20230506221129044.png" alt="image-20230506221129044"></p><p><img src="/image-20230506221627958.png" alt="image-20230506221627958"></p><p>鬼画神涂的配置环境</p><h2 id="msi程序"><a href="#msi程序" class="headerlink" title="msi程序"></a>msi程序</h2><blockquote><p> <a href="https://dev.mysql.com/downloads/windows/installer/">https://dev.mysql.com/downloads/windows/installer/</a></p></blockquote><p><img src="/image-20230506121318140.png" alt="image-20230506121318140"></p><p>不用登录账号直接跳过。参考zip包版。</p><p>下载下来运行msi程序，可能提醒你有新的版本现在可以更新，选择no</p><h3 id="选择设置类型"><a href="#选择设置类型" class="headerlink" title="选择设置类型"></a><strong>选择设置类型</strong></h3><p><strong>双击运行mysql-installer-community-5.7.31.0.msi，这里选择是自定义安装，所以直接选择“Custom”，点击“Next”</strong></p><p><img src="/image-20230506122846647.png" alt="image-20230506122846647"></p><p>“Developer Default”是开发者模式：包含mysql server,mysql connectors,mysql workbench,文档和示例</p><p>“Server only”仅作为服务器安装：  仅仅安装mysql server</p><p>“Client only”仅作为客户端安装:      仅仅安装mysql client</p><p>“Full”是完整安装：                             安装所有模块</p><p>“Custom”是自定义安装：              自定义选择需要的模块</p><p><img src="/image-20230506123357708.png" alt="image-20230506123357708"></p><h3 id="设置文件安装位置"><a href="#设置文件安装位置" class="headerlink" title="设置文件安装位置"></a>设置文件安装位置</h3><p><img src="/image-20230506124112022.png" alt="image-20230506124112022"></p><p><img src="/image-20230506124417093.png" alt="image-20230506124417093"></p><p><img src="/image-20230506124920087.png" alt="image-20230506124920087"></p><p><img src="/image-20230506124950513.png" alt="image-20230506124950513"></p><p><img src="/image-20230506125034922.png" alt="image-20230506125034922"></p><p><img src="/image-20230506125154037.png" alt="image-20230506125154037"></p><p><img src="/image-20230506125307549.png" alt="image-20230506125307549"></p><p><img src="/image-20230506125349612.png" alt="image-20230506125349612"></p><p><img src="/image-20230506130010616.png" alt="image-20230506130010616"></p><p><img src="/image-20230506130224733.png" alt="image-image-20230506130224733"></p><p><strong>可以不用勾选，直接next</strong></p><p><img src="/image-20230506130423530.png" alt="image-20230506130423530"></p><h3 id="服务名称"><a href="#服务名称" class="headerlink" title="服务名称"></a>服务名称</h3><p><img src="/image-20230506130643843.png" alt="image-20230506130643843"></p><h3 id="日志位置"><a href="#日志位置" class="headerlink" title="日志位置"></a>日志位置</h3><p><img src="/image-20230506130946158.png" alt="image-20230506130946158"></p><p><img src="/image-20230506131036186.png" alt="image-20230506131036186"></p><p><img src="/image-20230506131223681.png" alt="image-20230506131223681"></p><p><img src="/image-20230506131248615.png" alt="image-20230506131248615"></p><p><img src="/image-20230506131342448.png" alt="image-20230506131342448"></p><p>此时已经完成安装了<br><img src="/image-20230506133005617.png" alt="image-20230506133005617"><br><img src="/image-20230506133656239.png" alt="image-20230506133656239"><br>安装mysql后,注意区分如下几个目录的作用</p><blockquote><ol><li>数据库管理系统软件安装目录(DBMS安装目录)<br>  “database manage server”</li><li>数据存放的目录<br>  “Data目录”(这里存放的是我们创建的库，创建的表的信息)</li><li>数据库连接目录(其他编程语言连接数据库jar包信息)”connector&#x2F;J”(这个是  java连接mysql需要的安装包)</li><li>客户端工具的目录<br>  “workhench”(这个是mysq1自带的mysq1客户端管理工具)<br> 需要注意的是：1、2这两个目录，是在安装的时候，必须有的。后面的3、4这两个目录，当我们选择安装”connector&#x2F;J”和”workhench”的时候，才会生成。</li></ol></blockquote><h3 id="基础配置"><a href="#基础配置" class="headerlink" title="基础配置"></a>基础配置</h3><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><p>接上面，为什么需要配置环境呢？（可跳过）</p><p>因为不配置环境变量的话在cmd里必须切换到C:\Program Files (x86)\MySQL\MySQL Server 5.7\bin下运行</p><p><img src="/image-20230506185158691.png" alt="image-20230506185158691"></p><p>在cmd中运行指的是   在cmd窗口下键入如下。（打开cmd窗口直接拖进去就行）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;&quot;C:\Program Files (x86)\MySQL\MySQL Server 5.7\bin\mysql.exe&quot;</span><br><span class="line"></span><br><span class="line">#结果</span><br><span class="line">ERROR 1045 (28000): Access denied for user &#x27;ODBC&#x27;@&#x27;localhost&#x27; (using password: NO)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">C:\&gt;&quot;C:\Program Files (x86)\MySQL\MySQL Server 5.7\bin\mysqld.exe&quot;</span><br><span class="line"></span><br><span class="line">#结果</span><br><span class="line">mysqld: Can&#x27;t change dir to &#x27;C:\Program Files (x86)\MySQL\MySQL Server 5.7\data\&#x27; (Errcode: 2 - No such file or directory)</span><br><span class="line">2023-05-06T06:19:24.084707Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).</span><br><span class="line">2023-05-06T06:19:24.084790Z 0 [Note] --secure-file-priv is set to NULL. Operations related to importing and exporting data are disabled</span><br><span class="line">2023-05-06T06:19:24.085328Z 0 [Note] C:\Program Files (x86)\MySQL\MySQL Server 5.7\bin\mysqld.exe (mysqld 5.7.36) starting as process 7424 ...</span><br><span class="line">2023-05-06T06:19:24.089909Z 0 [Warning] Can&#x27;t create test file C:\Program Files (x86)\MySQL\MySQL Server 5.7\data\DESKTOP-ECFIPC8.lower-test</span><br><span class="line">2023-05-06T06:19:24.090171Z 0 [Warning] Can&#x27;t create test file C:\Program Files (x86)\MySQL\MySQL Server 5.7\data\DESKTOP-ECFIPC8.lower-test</span><br><span class="line">2023-05-06T06:19:24.091955Z 0 [ERROR] failed to set datadir to C:\Program Files (x86)\MySQL\MySQL Server 5.7\data\</span><br><span class="line">2023-05-06T06:19:24.092541Z 0 [ERROR] Aborting</span><br><span class="line"></span><br><span class="line">2023-05-06T06:19:24.093154Z 0 [Note] Binlog end</span><br><span class="line">2023-05-06T06:19:24.094298Z 0 [Note] C:\Program Files (x86)\MySQL\MySQL Server 5.7\bin\mysqld.exe: Shutdown complete</span><br></pre></td></tr></table></figure><blockquote><p> 手动输入</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files (x86)\MySQL\MySQL Server 5.7\bin&gt;mysql -u root -p</span><br><span class="line">Enter password: ****</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 13</span><br><span class="line">Server version: 5.7.36-log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2021, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br><span class="line">————————————————————————————————</span><br><span class="line">C:\&gt;mysql -u root -p</span><br><span class="line">&#x27;mysql&#x27; 不是内部或外部命令，也不是可运行的程序</span><br><span class="line">或批处理文件。</span><br><span class="line"></span><br><span class="line">C:\&gt;mysql server</span><br><span class="line">&#x27;mysql&#x27; 不是内部或外部命令，也不是可运行的程序</span><br><span class="line">或批处理文件。</span><br><span class="line"></span><br><span class="line">C:\&gt;mysql</span><br><span class="line">&#x27;mysql&#x27; 不是内部或外部命令，也不是可运行的程序</span><br><span class="line">或批处理文件。。</span><br></pre></td></tr></table></figure><p><strong>配置环境变量</strong></p><p><img src="/image-20230506144851202.png" alt="image-20230506144851202"></p><blockquote><p> 将安装目录的bin目录路径复制到其中</p></blockquote><p><img src="/image-20230506144617166.png" alt="image-20230506144617166"></p><p>一并确定后</p><p><img src="/image-20230506145216736.png" alt="image-20230506145216736"></p><h3 id="配置配置文件"><a href="#配置配置文件" class="headerlink" title="配置配置文件"></a>配置配置文件</h3><p>由于我没有将数据目录和安装目录放在同一目录下，所以主要配置文件my.ini在数据文件下。</p><p>C:\ProgramData\MySQL\MySQL Server 5.7。</p><p><img src="/image-20230506134954438.png" alt="image-20230506134954438"></p><p>主要有两个东西需要注意：一个重要目录data,一个重要配置文件my.ini</p><p>关于my.ini的配置，详细介绍</p><blockquote><p> <a href="https://blog.csdn.net/hanwuqia0370/article/details/85680775">https://blog.csdn.net/hanwuqia0370/article/details/85680775</a></p></blockquote><p>关于data文件</p><blockquote><p> 这个data目录中，存放着一些错误日志文件和三个目录（如下图）。 这三个目录是不是有一种很熟悉的感觉，没错，就是我们第一次登陆mysql 后输入”show databases”后，显示的系统默认的数据库。 因此，你可以知道，我们每创建一个数据库，就会在这个data目录下，生成 一个目录。同时，进入每一个数据库目录下，又有很多各种各样的文件，其中我们 需要注意的是：”.Frm后缀”和”.MYD后缀”的文件。”.Frm后缀”文件中存放的是表 的结构信息；”.MD后缀”文件中存放的是数据信息。 知乎@黑里怕</p></blockquote><p><img src="/image-20230506145447745.png" alt="image-20230506145447745"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure><h3 id="启动服务器"><a href="#启动服务器" class="headerlink" title="启动服务器"></a>启动服务器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">启动：net start MySQL</span><br><span class="line">停止：net stop MySQL</span><br><span class="line">卸载：sc delete MySQL</span><br></pre></td></tr></table></figure><p><img src="/image-20230506164351010.png" alt="image-20230506164351010"></p><h2 id="区分本地多个MySQL"><a href="#区分本地多个MySQL" class="headerlink" title="区分本地多个MySQL"></a>区分本地多个MySQL</h2><p>如何区别一个电脑上多个mysql版本，并进行丝滑登录操作呢？</p><ul><li>其一 将端口区分</li></ul><p><img src="/image-20230506223935085.png" alt="image-20230506223935085"></p><p>主要配置文件下的客户端端口也记得更改，虽然在cmd上登录mysql用的端口是mysqld下面写的端口（即不改也不影响）</p><ul><li>其二 服务名称设置为不同的名称</li></ul><p><img src="/image-20230506224135650.png" alt="image-20230506224135650"></p><p>​       在注册表目录也是有所对应的<br><img src="/image-20230506224354373.png" alt="image-20230506224354373"></p><p>使用命令启动服务器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\system32&gt;net start mysql80</span><br><span class="line">mysql80 服务正在启动 .</span><br><span class="line">mysql80 服务已经启动成功。</span><br><span class="line">C:\Windows\system32&gt;net start mysql57</span><br><span class="line">mysql57 服务正在启动 .</span><br><span class="line">mysql57 服务已经启动成功。</span><br></pre></td></tr></table></figure><p>但是不指定mysql端口，直接登录默认是环境中靠上面的那一个变量</p><p>因为我mysql80并没有设置密码所以尝试（即mysql57设置了密码），但不输入密码直接进入也失败(表面直接输入mysql选择的是mysql57)</p><p><img src="/image-20230506224659445.png" alt="image-20230506224659445"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u 用户 -h IP地址(因为是本机部署的mysql默认可以不写) -P 端口 -p 密码</span><br></pre></td></tr></table></figure><p>通过上述命令，可知只要多加入一个-P 端口就能够区分开来</p><p><img src="/image-20230506225703087.png" alt="image-20230506225703087"></p><h2 id="忘记密码"><a href="#忘记密码" class="headerlink" title="忘记密码"></a>忘记密码</h2><h3 id="MySQL8-0以上"><a href="#MySQL8-0以上" class="headerlink" title="MySQL8.0以上"></a>MySQL8.0以上</h3><blockquote><p><a href="https://blog.csdn.net/linmengmeng_1314/article/details/109484951">MYSQL8.0以上版本忘记ROOT密码_alter user ‘root‘@’localhost’ identified by ‘root’_linmengmeng_1314的博客-CSDN博客</a></p></blockquote><ol><li>以超级管理员打开cmd，关闭mysql服务</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net stop mysql </span><br></pre></td></tr></table></figure><ol start="2"><li>跳过权限验证登录mysql</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --shared-memory --skip-grant-tables </span><br></pre></td></tr></table></figure><ol start="3"><li>在新的窗口中登录mysql</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p </span><br></pre></td></tr></table></figure><ol start="4"><li>切换到mysql，将密码置空</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql;    update user <span class="built_in">set</span> authentication_string=<span class="string">&#x27;&#x27;</span> <span class="built_in">where</span> user=<span class="string">&#x27;root&#x27;</span>;    flush privileges;<span class="comment">#刷新权限</span></span><br></pre></td></tr></table></figure><p>5.设置加密规则并更新新密码，授权(直接复制这些SQL语句你的密码会更新为123456</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;123456&#x27;</span> PASSWORD EXPIRE NEVER; </span><br><span class="line">alter user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified by <span class="string">&#x27;123456&#x27;</span>;    </span><br><span class="line">grant all privileges  on *.*  to <span class="string">&quot;root&quot;</span>@<span class="string">&#x27;localhost&#x27;</span>;    </span><br><span class="line">flush privileges;<span class="comment">#刷新权限 </span></span><br></pre></td></tr></table></figure><ol start="6"><li>关闭第一个窗口，启动mysql服务用新密码登录</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\system32&gt;mysql -uroot -P 3307 -p</span><br><span class="line">Enter password:         <span class="comment">#回车进入即可</span></span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection <span class="built_in">id</span> is 7</span><br><span class="line">Server version: 8.0.33 MySQL Community Server - GPL</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2021, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; use mysql;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; update user <span class="built_in">set</span> authentication_string=<span class="string">&#x27;&#x27;</span> <span class="built_in">where</span> user=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.05 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;123456&#x27;</span> PASSWORD EXPIRE NEVER;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; alter user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified by <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; grant all privileges  on *.*  to <span class="string">&quot;root&quot;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="built_in">exit</span>；    <span class="comment">#此处可能会卡住</span></span><br><span class="line">                <span class="comment">#mysql&gt; eixt;</span></span><br><span class="line">                <span class="comment">#^C -- Sorry, cannot connect to the server to kill query, giving up ...</span></span><br><span class="line">                <span class="comment">#不理会，关闭窗口就行，重新开一个cmd</span></span><br><span class="line">Bye</span><br><span class="line"></span><br><span class="line">C:\Windows\system32&gt;mysql -uroot -P 3307 -p</span><br><span class="line">Enter password: ******          <span class="comment">#123456</span></span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection <span class="built_in">id</span> is 9</span><br><span class="line">Server version: 8.0.33 MySQL Community Server - GPL</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2021, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure><h3 id="MySQL5-7"><a href="#MySQL5-7" class="headerlink" title="MySQL5.7"></a>MySQL5.7</h3><ol><li>暂停服务(以管理员运行cmd)</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net stop mysql57</span><br></pre></td></tr></table></figure><ol start="2"><li>修改my.ini配置文件，在[mysqld]下面加上这样的一句话</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">skip-grant-tables</span><br></pre></td></tr></table></figure><ol start="3"><li>重启服务(以管理员运行cmd)</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start mysql57</span><br></pre></td></tr></table></figure><ol start="4"><li>登录mysql</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><ol start="5"><li>置空密码</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line">update user <span class="built_in">set</span> authentication_string=<span class="string">&#x27;&#x27;</span> <span class="built_in">where</span> user=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">flush privileges;<span class="comment">#刷新权限</span></span><br></pre></td></tr></table></figure><ol start="6"><li>修改密码</li></ol><p>建议将配置文件该回去并且重启服务，使用set password语句，详细参考上文</p><h3 id="SQL语句的三种注释"><a href="#SQL语句的三种注释" class="headerlink" title="SQL语句的三种注释"></a>SQL语句的三种注释</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#单行注释</span><br><span class="line">/*多</span><br><span class="line">行</span><br><span class="line">注释*/</span><br><span class="line">-- 单行注释（注意前面必须有空格）</span><br></pre></td></tr></table></figure><blockquote><p> MySQL中的标识符（如表名、列名、变量名等）和字符串常量是区分大小写的，但是关键字和函数名不区分大小写。例如，SELECT和select是等效的，但是myTable和mytable是不同的标识符。  在默认情况下，MySQL的表名和列名是大小写不敏感的，但是可以通过设置lower_case_table_names参数来改变这个行为。如果lower_case_table_names设置为0，则表名和列名是大小写敏感的；如果设置为1，则表名和列名是大小写不敏感的，但是区分大小写；如果设置为2，则表名和列名是大小写不敏感的，并且不区分大小写。  总之，MySQL中的大小写敏感性取决于标识符、字符串常量和lower_case_table_names参数的设置。</p></blockquote><h2 id="数据库管理"><a href="#数据库管理" class="headerlink" title="数据库管理"></a>数据库管理</h2><h3 id="内置客户端操作"><a href="#内置客户端操作" class="headerlink" title="内置客户端操作"></a>内置客户端操作</h3><p>当连接上MySQL之后,执行如下指令(一般称为SQL语句)，就可以对MySQL的数据进行操作。</p><ul><li>查看当前所有的数据库：show databases;</li><li>创建数据库：create database 数据库名 DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</li><li>删除数据库:drop databases 数据库名;</li><li>进入数据(进入文件):use 数据库;</li></ul><p>示例:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.登录MySQL</span></span><br><span class="line">mysql -u root -p</span><br><span class="line">Enter password: **** <span class="comment">#输入密码</span></span><br><span class="line"><span class="comment"># 2.查看当前数据库</span></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.创建数据库: create database 数据库名 default charser 编码 collate 排序规则;</span></span><br><span class="line">mysql&gt; create database shujuku</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| shujuku            |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line">或者输入</span><br><span class="line">mysql&gt; create database shujuku1 DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</span><br><span class="line">create database shujuku1 DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| shujuku            |</span><br><span class="line">| shujuku1           |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">6 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.删除数据库</span></span><br><span class="line">mysql&gt; drop database shujuku1;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| shujuku            |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.查看当前数据库</span></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| shujuku            |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6.进入数据库</span></span><br><span class="line">mysql&gt; use mysql;</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7.进入mysql数据库(文件夹),查看此数据库下的所有表。</span></span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">+---------------------------+</span><br><span class="line">| Tables_in_mysql           |</span><br><span class="line">+---------------------------+</span><br><span class="line">| columns_priv              |</span><br><span class="line">| db                        |</span><br><span class="line">| engine_cost               |</span><br><span class="line">| event                     |</span><br><span class="line">| func                      |</span><br><span class="line">| general_log               |</span><br><span class="line">| gtid_executed             |</span><br><span class="line">| help_category             |</span><br><span class="line">| help_keyword              |</span><br><span class="line">| help_relation             |</span><br><span class="line">| help_topic                |</span><br><span class="line">| innodb_index_stats        |</span><br><span class="line">| innodb_table_stats        |</span><br><span class="line">| ndb_binlog_index          |</span><br><span class="line">| plugin                    |</span><br><span class="line">| proc                      |</span><br><span class="line">| procs_priv                |</span><br><span class="line">| proxies_priv              |</span><br><span class="line">| server_cost               |</span><br><span class="line">| servers                   |</span><br><span class="line">| slave_master_info         |</span><br><span class="line">| slave_relay_log_info      |</span><br><span class="line">| slave_worker_info         |</span><br><span class="line">| slow_log                  |</span><br><span class="line">| tables_priv               |</span><br><span class="line">| time_zone                 |</span><br><span class="line">| time_zone_leap_second     |</span><br><span class="line">| time_zone_name            |</span><br><span class="line">| time_zone_transition      |</span><br><span class="line">| time_zone_transition_type |</span><br><span class="line">| user                      |</span><br><span class="line">+---------------------------+</span><br><span class="line">31 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8.退出</span></span><br><span class="line">mysql&gt; <span class="built_in">exit</span></span><br><span class="line">Bye</span><br></pre></td></tr></table></figure><h3 id="python操作"><a href="#python操作" class="headerlink" title="python操作"></a>python操作</h3><p>无论通过何种方式去连接MySQL,本质上发送到指令都是相同的，只是连接方式和操作形式不同而已</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="comment">#链接mysql</span></span><br><span class="line">conn=pymysql.connect(host=<span class="string">&#x27;127.0.0.1&#x27;</span>,port=<span class="number">3306</span>,user=<span class="string">&#x27;root&#x27;</span>,password=<span class="string">&#x27;123456&#x27;</span>,charset=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">cursor=conn.cursor()<span class="comment">#创建游标</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 查看数据库</span></span><br><span class="line"><span class="comment"># 发送指令</span></span><br><span class="line">cursor.execute(<span class="string">&quot;show databases&quot;</span>)</span><br><span class="line"><span class="comment"># 获取指令的结果</span></span><br><span class="line">result=cursor.fetchall()</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment">#((&#x27;information_schema&#x27;,), (&#x27;mysql&#x27;,), (&#x27;performance_schema&#x27;,), (&#x27;shujuku&#x27;,), (&#x27;sys&#x27;,))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 创建数据库</span></span><br><span class="line"><span class="comment"># 发送指令</span></span><br><span class="line">cursor.execute(<span class="string">&quot;create database shujuku1&quot;</span>)</span><br><span class="line"><span class="comment"># 也可以写成下面的方式</span></span><br><span class="line">cursor.execute(<span class="string">&quot;create database shujuku2 default charset utf8 collate utf8_general_ci&quot;</span>)</span><br><span class="line">conn.commit()</span><br><span class="line">cursor.execute(<span class="string">&quot;show databases&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 查看数据库</span></span><br><span class="line">result=cursor.fetchall()</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment">#((&#x27;information_schema&#x27;,), (&#x27;mysql&#x27;,), (&#x27;performance_schema&#x27;,), (&#x27;shujuku1&#x27;,), (&#x27;shujuku2&#x27;,), (&#x27;sys&#x27;,))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 删除数据库</span></span><br><span class="line"><span class="comment"># 发送指令</span></span><br><span class="line"><span class="comment"># cursor.execute(&#x27;call drop_databases(&quot;shujuku&quot;)&#x27;)</span></span><br><span class="line">cursor.execute(<span class="string">&quot;drop database shujuku1&quot;</span>)</span><br><span class="line">cursor.execute(<span class="string">&quot;drop database shujuku2&quot;</span>)</span><br><span class="line">conn.commit()</span><br><span class="line">cursor.execute(<span class="string">&quot;show databases&quot;</span>)</span><br><span class="line">result=cursor.fetchall()</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment">#((&#x27;information_schema&#x27;,), (&#x27;mysql&#x27;,), (&#x27;performance_schema&#x27;,), (&#x27;sys&#x27;,))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.进入数据 查看表</span></span><br><span class="line"><span class="comment"># 发送指令</span></span><br><span class="line">cursor.execute(<span class="string">&quot;use mysql&quot;</span>)</span><br><span class="line">cursor.execute(<span class="string">&quot;show tables&quot;</span>)</span><br><span class="line">result=cursor.fetchall()</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment">#((&#x27;columns_priv&#x27;,), (&#x27;db&#x27;,), (&#x27;engine_cost&#x27;,), (&#x27;event&#x27;,), (&#x27;func&#x27;,), (&#x27;general_log&#x27;,), (&#x27;gtid_executed&#x27;,), (&#x27;help_category&#x27;,), (&#x27;help_keyword&#x27;,), (&#x27;help_relation&#x27;,), (&#x27;help_topic&#x27;,), (&#x27;innodb_index_stats&#x27;,), (&#x27;innodb_table_stats&#x27;,), (&#x27;ndb_binlog_index&#x27;,), (&#x27;plugin&#x27;,), (&#x27;proc&#x27;,), (&#x27;procs_priv&#x27;,), (&#x27;proxies_priv&#x27;,), (&#x27;server_cost&#x27;,), (&#x27;servers&#x27;,), (&#x27;slave_master_info&#x27;,), (&#x27;slave_relay_log_info&#x27;,), (&#x27;slave_worker_info&#x27;,), (&#x27;slow_log&#x27;,), (&#x27;tables_priv&#x27;,), (&#x27;time_zone&#x27;,), (&#x27;time_zone_leap_second&#x27;,), (&#x27;time_zone_name&#x27;,), (&#x27;time_zone_transition&#x27;,), (&#x27;time_zone_transition_type&#x27;,), (&#x27;user&#x27;,))</span></span><br></pre></td></tr></table></figure><h2 id="尾言"><a href="#尾言" class="headerlink" title="尾言"></a>尾言</h2><p>至于MySQL的其他操作和知识，以后有缘补上</p>]]></content>
    
    
    <summary type="html">很久之前写的估计有很多纰漏，各位少侠麻烦纠错辣(*^_^*)</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>超级小白纯纯入门，论什么都不懂如何自装笔记本固态硬盘【超详细贴心保姆级教程】</title>
    <link href="https://bxzdyg.cn/p/disk-update/"/>
    <id>https://bxzdyg.cn/p/disk-update/</id>
    <published>2023-04-23T16:25:26.000Z</published>
    <updated>2023-12-31T01:49:54.544Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近国产砂疯了，以长江为首的，打下了之前虚高的内存市场价格，现在内存市场以近乎成本的价格出售，这是购买内存的最好时机了（个人观点，仅供参考）。</p><p>就存储内盘来说，很多人都会遇到存储内存不够的情况，将一些文件删了又下，下了又删，在狭小的存储空间给文件不断寻找着可以存放的地方，过着紧巴巴的日子（夸张）。当然也有一些解决办法，从根本上处理这些燃眉的问题——那就是扩容。增加你的存储空间，装一个固态硬盘或者机械硬盘。</p><p>而我就以我最近自装固态硬盘的经验出一篇不是很专业的攻略。</p><p>↓↓                              ↓↓                                ↓↓                                ↓↓                                ↓↓                                ↓↓</p><p>本篇攻略以<strong>win10</strong> x64位操作系统 联想<strong>拯救者r9000x2021</strong>款为例，具体情况自己多加思考和研究，请以具体情况为准。</p><p>↑↑                              ↑↑                                ↑↑                                ↑↑                                ↑↑                                ↑↑</p><p>话不多说，先给出几个前提条件和问题。</p><p>Q1:大概需要花费多少1TB的话是200——500左右为参考</p><p>Q2:如何选择合适的固态硬盘</p><p>Q3:如何安全安装</p><p>Q4:如何检查硬盘的可靠性</p><h2 id="速通版"><a href="#速通版" class="headerlink" title="速通版"></a>速通版</h2><p>确认自己的电脑能够再加装一个固态硬盘后，选购固态硬盘后，并提前准备好螺丝刀、撬片，在电脑上提前安装好检验软件。断掉电源，使用工具拆开电脑后壳，断开电源排线。找到安防硬盘的位置，安装上硬盘后，连接电源排线，先不装好电脑后壳。开机查看是否正常，分配好磁盘后通过检验工具查看硬盘是否靠谱、正常。一切正常后，再把电脑后壳组装上去。大功告成。</p><h2 id="详细版"><a href="#详细版" class="headerlink" title="详细版"></a>详细版</h2><h3 id="查"><a href="#查" class="headerlink" title="查"></a>查</h3><p>看自己的电脑还能不能加装，能加装哪些接口的固态硬盘</p><p>再此之前大家可以区别一下 SATA、M2、PCIe和NVME等名词的区别</p><table><thead><tr><th align="center">物理接口（尺寸标准）</th><th align="center">高速信号协议（总线标注）</th><th align="center">传输层协议（协议）</th></tr></thead><tbody><tr><td align="center">M.2 , U.2 , AIC, NGFF，SATA</td><td align="center">SAS，SATA，PCIe</td><td align="center">SCSI，ATA，NVMe</td></tr></tbody></table><p>这三者都需要查清楚，要不然随便买了一个可能用都没法用，签收退货都是需要时间的。</p><p>一般的：</p><p>是NVMe（协议）都是PCIe（总线）</p><p>是ATA （协议）只能是SATA(总线)</p><p>SATA是目前笔记本电脑的标配，思考的问题在于支不支持PCIe</p><p>至于怎么不在拆机前查看自己能否装硬盘可以通过几种方法：</p><p>1.下载鲁大师查看</p><p>2.从本电脑自带的安全防护软件查看</p><p><img src="/image-20230421202233513.png" alt="image-20230421202233513"></p><p>3.在搜索引擎内输入你的电脑型号，在网上查看一下别人的拆机教程，看看他们是装什么盘的，把他们装的型号记住（<del>偷师</del>）</p><p>4.直接在官网去翻找。</p><p>比如联想的（真不知道为什么它下架了R9000X2021的配置信息,不过就这个机型他是不支持PCIe4的）</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="Lenovo联想售后客户服务中心,提供驱动下载,配置查询,保修服务-联想服务" href="https://newsupport.lenovo.com.cn/?pmf_group=quo&pmf_medium=quo&pmf_source=Z00015698T000" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">Lenovo联想售后客户服务中心,提供驱动下载,配置查询,保修服务-联想服务</span><span class="cap link fs12">https://newsupport.lenovo.com.cn/?pmf_group=quo&pmf_medium=quo&pmf_source=Z00015698T000</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><p>5.去购物网站找相应的客服询问。</p><h3 id="选"><a href="#选" class="headerlink" title="选"></a>选</h3><p>各类硬盘评测（评测来源于各个大网站的文章或视频，本文章在引用他人的作品会在一旁标注出来源链接）:</p><p>不做详细的评价，仅以个人的眼光进行推荐。（没有能力评价，不过长江yyds）</p><p>建议支持国产，至于为什么，差不多就一句话，想要以后都这个价甚至更便宜，那就请支持国产吧！</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="【内存暗战：被国外巨头垄断卖高价的内存，为何一夜暴跌？】" href="https://www.bilibili.com/video/BV1ga4y1K7ci/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">【内存暗战：被国外巨头垄断卖高价的内存，为何一夜暴跌？】</span><span class="cap link fs12">https://www.bilibili.com/video/BV1ga4y1K7ci/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><p>国产性能已经差不多是顶尖水平，而且基本都是五年质保，这不心动？</p><p>就固态硬盘来说容量越大传输速度越快，硬盘约稳定。</p><p>有独立缓存的比没有独立缓存的稳定一点，但是温度更高一点。</p><p>1.致态pc0005（有独立缓存）</p><p><img src="/image-20230421183807782.png" alt="image-20230421183807782"></p><table><thead><tr><th align="center">内存容量</th><th align="center">官方</th><th align="center">第三方</th></tr></thead><tbody><tr><td align="center">512GB</td><td align="center">319</td><td align="center">——</td></tr><tr><td align="center">1TB</td><td align="center">519</td><td align="center">499</td></tr><tr><td align="center">2TB</td><td align="center">缺货</td><td align="center">——</td></tr></tbody></table><p>2.致态7100</p><p>参考来源： </p><div class="tag-plugin link dis-select"><a class="link-card plain" title="【2023年4月固态硬盘推荐，国产白菜价硬盘层出不穷，大人时代变了。】" href="https://www.bilibili.com/video/BV1Lh411G7Uz/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">【2023年4月固态硬盘推荐，国产白菜价硬盘层出不穷，大人时代变了。】</span><span class="cap link fs12">https://www.bilibili.com/video/BV1Lh411G7Uz/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><p><img src="/image-20230421123430250.png" alt="image-20230421123430250"><br>3.致态TIplus5000(听说存在联想笔记本弹盘的风险(小概率事件)所以排在后头)</p><p><img src="/image-20230421160640666.png" alt="image-20230421160640666"></p><p>官方旗舰店链接：（比较放心）</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="" href="https://item.jd.com/100008608665.html#crumb-wrap" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="title,icon"><div class="left"><span class="title">https://item.jd.com/100008608665.html#crumb-wrap</span><span class="cap link fs12">https://item.jd.com/100008608665.html#crumb-wrap</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><p>我买的是PC005，这不是对自己的学习数据好一点嘛，对我的数据负责。</p><h3 id="装"><a href="#装" class="headerlink" title="装"></a>装</h3><h4 id="0-准备工具"><a href="#0-准备工具" class="headerlink" title="0.准备工具"></a>0.准备工具</h4><p>(为什么会是0呢？没有工具怎么装？没有工具拿着硬盘就只能望洋兴叹，没有撬片就已经很致命了)</p><p>撬片（必须） 螺丝刀 （必须）吸盘（选用）</p><p>建议买工具直接买那种多螺丝头的，以免自己电脑的螺丝钉型号问题。并且买那种工具箱送装机工具的那种（包含撬片等），省得单独买。直接搜装机工具即可</p><p>有的人会想需不需要硬盘支架固定，这个你得看你的接口，还有看实际情况。M.2的基本是不需要的。SATA接口的可能会用到。硬盘实在是会松动，没有支架可以选择塞点东西稳定一下（不建议塞纸）</p><p>软件：</p><ol><li><p>CrystalDiskInfo   用来检查基本信息。主要看通电次数、序列号，时间</p></li><li><p>CrystalDiskMark 用来检查读写速度（测速软件）</p></li></ol><p>软件下载地址：（两个软件都在这个网址内，第二个往下滑滑就是）</p><blockquote><p><a href="https://crystalmark.info/en/download/#CrystalDiskMark">Download - Crystal Dew World en] (crystalmark.info)</a></p></blockquote><p><img src="/image-20230421173909355.png" alt="image-20230421173909355"></p><p><img src="/image-20230421174207876.png" alt="image-20230421174207876"></p><p>官方网址打开的比较慢，博主将该软件上传到网盘供大家下载，不放心的话还是建议官网下载。</p><blockquote><p>链接: <a href="https://pan.baidu.com/s/1M3wR9L5V0Iv3kvIevm8gnw">https://pan.baidu.com/s/1M3wR9L5V0Iv3kvIevm8gnw</a> 提取码: zmzj 复制这段内容后打开百度网盘手机App，操作更方便哦</p></blockquote><p>​↑<del>致命装机</del></p><h4 id="1-做好数据备份。"><a href="#1-做好数据备份。" class="headerlink" title="1.做好数据备份。"></a>1.做好数据备份。</h4><p>假若操作失误，或者极其不幸的发生电路板静电事故导致数据丢失那就<strong>得不偿失</strong>（虽然这种情况只有失，但只要装机的时候不要太逆天就基本不会发生）</p><p>可以使用百度云盘，OneDrive、阿里云盘、夸克云盘、腾讯微云等软件进行云存储。（记得加密要紧文件）</p><p>也可以使用U盘，移动硬盘进行备份。</p><h4 id="2-彻底关机，拔掉插头。"><a href="#2-彻底关机，拔掉插头。" class="headerlink" title="2.彻底关机，拔掉插头。"></a>2.彻底关机，拔掉插头。</h4><p>进行比较彻底的断电。</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="【关机≠彻底关机，你的电脑真的关机了吗？也许从来没有！-哔哩哔哩】" href="https://b23.tv/j5HScvC" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">【关机≠彻底关机，你的电脑真的关机了吗？也许从来没有！-哔哩哔哩】</span><span class="cap link fs12">https://b23.tv/j5HScvC</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><p>输入 win+R 弹出电脑命令窗口，并在里面输入如下命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown /s /t 0</span><br></pre></td></tr></table></figure><p><img src="/image-20230421161406418.png" alt="image-20230421161406418"></p><h4 id="3-拆开后盖。"><a href="#3-拆开后盖。" class="headerlink" title="3.拆开后盖。"></a>3.拆开后盖。</h4><h5 id="！释放静电！"><a href="#！释放静电！" class="headerlink" title="！释放静电！"></a><strong>！释放静电！</strong></h5><p>在对可能触碰到电子元件的操作都建议先去水池洗手把静电释放，以免手上的静电损害电子元件。</p><p>不建议穿化纤的衣服，条件好的可以准备一个静电手环或者穿一件皮衣，带一个金属眼镜(<del>黄仁勋</del>bushi)。</p><p>玩笑来源：</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="【拆装电脑注意防静电】" href="https://www.bilibili.com/video/BV1ft4y1F7oR/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">【拆装电脑注意防静电】</span><span class="cap link fs12">https://www.bilibili.com/video/BV1ft4y1F7oR/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><p>总得来说只要多洗手，不会有啥大问题的，记得把手擦干。</p><h5 id="正式拆机"><a href="#正式拆机" class="headerlink" title="正式拆机"></a>正式拆机</h5><p>其实没有太多操作，就拆一个后壳。</p><p>先把把固定后壳盖螺丝拧下来（注意放好螺丝钉，建议拿一个小盒子装起来，不要弄丢了），然后根据自己电脑的品牌不同，后壳和框架的紧密程度不一，有的拧开螺丝就能够直接将后盖和电脑分离，但是现在一般都是比较紧密的，这个时候需要利用到撬片，为什么不直接用银行卡之类的卡片呢？首先银行卡没有那么薄，在其次把撬片放进去撬开是一个会磨损的过程。</p><p>所以在使用撬片建议撬片的材质是塑料的，用撬片把后盖撬开是装硬盘中最难的一个步骤了，也是最容易劝退小白的步骤了。</p><p>首先不要慌张。</p><p>建议从出气口开始撬开，本机有一个向着出气口反方向的卡扣，就是触摸板的那一边。</p><p>先用撬片撬动开来，然后将后壳往出风口滑。这里还可以借助到吸盘，把后壳吸住，这样更好拉一点，因为没有很好的用力点，扒拉的时候可能还会往下压。</p><blockquote><p>下方图片来源于下方链接第一个视频的截图。我自己装的时候既没有拍照也有没有录像，真是莫大的悲哀。</p></blockquote><p><img src="/image-20230422130129103.png" alt="image-20230422130129103"></p><p>成功取下后盖后，先把电源排线断开。找到SSD卡槽，我的空卡槽上有一个螺帽限位，先把螺帽取下，取出新买的固态硬盘，以15°~30°的角度插入，注意豁口形状，不要插反了。插入可能没有完全插进去，需要用一点力气推进去，以另一边是否对准螺丝孔为例，然后拧上螺丝，其中致钛还有带一个限位螺孔的部件（实际上自带两个部件：一个螺孔和一个螺丝钉，以至于你装完后会多出一个螺丝钉），看着装进去即可，最终固定硬盘的螺丝钉不要拧太紧，适当即可。</p><p>最终成品是硬盘与底面保持平行。</p><p>然后连上电源排线，这里先跳到  <strong>验</strong>  的步骤</p><p>检验无误后，有得人会额外加一个散热片。如果装上散热片还能正常装后壳，那就可以再装一个散热片，如果塞不下，还是算了。</p><p>最后，先装后壳有卡槽的部位，以卡槽方向塞入后，各按四个角，能听到啪嗒的声音。拧上螺丝钉，连上电源，打开电脑再检查一下有无问题。如果出现问题，建议还是到专业人员那去处理。</p><h5 id="操作视频参考：（为什么博主不自己录一个，没有手机支架，也米有合适的地方放手机进行录制。）建议装机前找到自己电脑的装机操作视频多看几遍，再开始装。"><a href="#操作视频参考：（为什么博主不自己录一个，没有手机支架，也米有合适的地方放手机进行录制。）建议装机前找到自己电脑的装机操作视频多看几遍，再开始装。" class="headerlink" title="操作视频参考：（为什么博主不自己录一个，没有手机支架，也米有合适的地方放手机进行录制。）建议装机前找到自己电脑的装机操作视频多看几遍，再开始装。"></a>操作视频参考：（为什么博主不自己录一个，没有手机支架，也米有合适的地方放手机进行录制。）建议装机前找到自己电脑的装机操作视频多看几遍，再开始装。</h5><div class="tag-plugin link dis-select"><a class="link-card plain" title="【R9000X加装三星980 1T固态硬盘 全程实拍快剪】" href="https://www.bilibili.com/video/BV1x34y1R7Xz/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">【R9000X加装三星980 1T固态硬盘 全程实拍快剪】</span><span class="cap link fs12">https://www.bilibili.com/video/BV1x34y1R7Xz/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><div class="tag-plugin link dis-select"><a class="link-card plain" title="【【装机教程P5】M.2固态硬盘的安装方法】" href="https://www.bilibili.com/video/BV1bP411K79i/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">【【装机教程P5】M.2固态硬盘的安装方法】</span><span class="cap link fs12">https://www.bilibili.com/video/BV1bP411K79i/?share_source=copy_web&vd_source=f66380805a40c4e5466841793735f07b</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.9/link/8f277b4ee0ecd.svg"></div></div></a></div><h3 id="验"><a href="#验" class="headerlink" title="验"></a>验</h3><p>在装上固态硬盘后，先不要把后盖装上。先连接电源排序，将电源排线推至合适位置能够听到‘啪嗒’一声，并且有红灯亮起提示，表示链接上了。这时候开机，先对新装的硬盘进行磁盘管理。</p><p>右键此电脑，点击管理</p><p><img src="/image-20230421175807640.png" alt="image-20230421175807640"></p><p>在 存储 中找到 磁盘管理</p><p>有人奇怪为什么1T只有950多G，是不是商家吞了。其实不是，而是进制不同，这个字节到太都是1000进1，而计算机是以1024进1。</p><p><img src="/image-20230421180947354.png" alt="image-20230421180947354"></p><p>这里的磁盘0应该是显示灰色的 未分配状态 然后右击新建卷</p><p>如果你是只是当作常用盘，而不是系统盘，就可以一直默认，无脑下一步、确定即可。</p><p>然后这时候拿出之前准备好的软件工具，进行检验。</p><p><strong>插电原读写速度</strong></p><p><img src="/%E5%8E%9F%E9%80%9F%E5%BA%A6.png" alt="原速度"></p><p><strong>不插电新硬盘读写速度</strong></p><p><img src="/%E6%8F%92%E7%94%B5%E6%BA%90%E5%86%8D%E6%B5%8B.png" alt="插电源再测"></p><p><strong>插电新硬盘读写速度</strong></p><p><img src="/%E8%A3%85%E4%B8%8A%E6%97%B6%E4%B8%8D%E6%8F%92%E7%94%B5%E6%BA%90.png" alt="装上时不插电源"></p><p>长江yyds!!!</p><p><img src="/image-20230422000842767.png" alt="image-20230422000842767"></p><p>通电次数2为正常现象，该次数包含了检测。</p><p>序列号记得和包装盒上的序列号核对一下</p><p><img src="/image-20230422124734397.png" alt="image-20230422124734397"></p><p>如果你还想进行一步分盘操作的话</p><p>在此电脑—（右键）管理—磁盘管理-（选中新增的磁盘，右键）压缩卷</p><p><img src="/image-20230422131727808.png" alt="image-20230422131727808"></p><p><img src="/image-20230422132024262.png" alt="image-20230422132024262"></p><p><img src="/image-20230422132231741.png" alt="image-20230422132231741"></p><p><img src="/image-20230422132319004.png" alt="image-20230422132319004"></p><p>变回去的话对主盘扩展卷即可。</p><p>不过现在大容量时代，基本上不分盘的，不过还是看个人需求。（<del>你看看，这个博主就乱分盘</del>）</p><hr><p>到这里就结束了全部的装机步骤啦！</p><p>可喜可贺！！！</p><p>至于怎么把新装的固态硬盘设置为系统盘，有缘再讲吧。</p>]]></content>
    
    
    <summary type="html">手残博主教你如何更换固态硬盘</summary>
    
    
    
    <category term="硬件" scheme="https://bxzdyg.cn/categories/%E7%A1%AC%E4%BB%B6/"/>
    
    
    <category term="装机大业" scheme="https://bxzdyg.cn/tags/%E8%A3%85%E6%9C%BA%E5%A4%A7%E4%B8%9A/"/>
    
  </entry>
  
</feed>
